import{S as st,i as ft,s as _t,e as z,b as A,G as J,h as r,H as G,k as D,a as y,q as g,l as P,m as w,c as j,r as T,M as ut,N as $,F as f,O as ht,u as B,P as ct,n as V,Q as dt,y as pt,R as bt,z as mt,A as vt,g as Et,d as kt,B as gt,o as Tt,T as x}from"../chunks/index.c4dc9443.js";import{o as Q,d as Y,f as tt}from"../chunks/stores.a47314f6.js";const St=!0,Bt=Object.freeze(Object.defineProperty({__proto__:null,prerender:St},Symbol.toStringTag,{value:"Module"}));function et(i,e,t){const l=i.slice();return l[7]=e[t],l}function lt(i,e,t){const l=i.slice();return l[10]=e[t],l}function at(i){let e,t,l,a,o=i[3].commitDate.toLocaleDateString("en-US")+"",s,c,S=i[4].commitDate.toLocaleDateString("en-US")+"",k,H,u,U,M,L=i[1],b=[];for(let n=0;n<L.length;n+=1)b[n]=ot(lt(i,L,n));let v=i[0].length>0&&it(i);return{c(){e=D("select");for(let n=0;n<b.length;n+=1)b[n].c();t=y(),l=D("p"),a=g("From: "),s=g(o),c=g(" to: "),k=g(S),H=y(),v&&v.c(),u=z(),this.h()},l(n){e=P(n,"SELECT",{});var m=w(e);for(let N=0;N<b.length;N+=1)b[N].l(m);m.forEach(r),t=j(n),l=P(n,"P",{});var h=w(l);a=T(h,"From: "),s=T(h,o),c=T(h," to: "),k=T(h,S),h.forEach(r),H=j(n),v&&v.l(n),u=z(),this.h()},h(){i[2]===void 0&&ut(()=>i[5].call(e))},m(n,m){A(n,e,m);for(let h=0;h<b.length;h+=1)b[h]&&b[h].m(e,null);$(e,i[2],!0),A(n,t,m),A(n,l,m),f(l,a),f(l,s),f(l,c),f(l,k),A(n,H,m),v&&v.m(n,m),A(n,u,m),U||(M=ht(e,"change",i[5]),U=!0)},p(n,m){if(m&2){L=n[1];let h;for(h=0;h<L.length;h+=1){const N=lt(n,L,h);b[h]?b[h].p(N,m):(b[h]=ot(N),b[h].c(),b[h].m(e,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=L.length}m&6&&$(e,n[2]),m&8&&o!==(o=n[3].commitDate.toLocaleDateString("en-US")+"")&&B(s,o),m&16&&S!==(S=n[4].commitDate.toLocaleDateString("en-US")+"")&&B(k,S),n[0].length>0?v?v.p(n,m):(v=it(n),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null)},d(n){n&&r(e),ct(b,n),n&&r(t),n&&r(l),n&&r(H),v&&v.d(n),n&&r(u),U=!1,M()}}}function ot(i){let e,t=i[10]+"",l,a,o;return{c(){e=D("option"),l=g(t),a=y(),this.h()},l(s){e=P(s,"OPTION",{});var c=w(e);l=T(c,t),a=j(c),c.forEach(r),this.h()},h(){e.__value=o=i[10],e.value=e.__value},m(s,c){A(s,e,c),f(e,l),f(e,a)},p(s,c){c&2&&t!==(t=s[10]+"")&&B(l,t),c&2&&o!==(o=s[10])&&(e.__value=o,e.value=e.__value)},d(s){s&&r(e)}}}function it(i){let e,t,l,a,o,s,c,S,k,H,u,U,M,L,b,v,n,m,h,N,F=i[0],d=[];for(let _=0;_<F.length;_+=1)d[_]=rt(et(i,F,_));return{c(){e=D("div"),t=D("table"),l=D("thead"),a=D("tr"),o=D("th"),s=g("Name"),c=y(),S=D("th"),k=g("Artists"),H=y(),u=D("th"),U=g("Album"),M=y(),L=D("th"),b=g("Date"),v=y(),n=D("th"),m=g("Position"),h=y(),N=D("tbody");for(let _=0;_<d.length;_+=1)d[_].c();this.h()},l(_){e=P(_,"DIV",{class:!0});var p=w(e);t=P(p,"TABLE",{class:!0});var E=w(t);l=P(E,"THEAD",{});var q=w(l);a=P(q,"TR",{});var R=w(a);o=P(R,"TH",{});var C=w(o);s=T(C,"Name"),C.forEach(r),c=j(R),S=P(R,"TH",{});var O=w(S);k=T(O,"Artists"),O.forEach(r),H=j(R),u=P(R,"TH",{});var K=w(u);U=T(K,"Album"),K.forEach(r),M=j(R),L=P(R,"TH",{});var W=w(L);b=T(W,"Date"),W.forEach(r),v=j(R),n=P(R,"TH",{});var X=w(n);m=T(X,"Position"),X.forEach(r),R.forEach(r),q.forEach(r),h=j(E),N=P(E,"TBODY",{});var Z=w(N);for(let I=0;I<d.length;I+=1)d[I].l(Z);Z.forEach(r),E.forEach(r),p.forEach(r),this.h()},h(){V(t,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth"),V(e,"class","table-container")},m(_,p){A(_,e,p),f(e,t),f(t,l),f(l,a),f(a,o),f(o,s),f(a,c),f(a,S),f(S,k),f(a,H),f(a,u),f(u,U),f(a,M),f(a,L),f(L,b),f(a,v),f(a,n),f(n,m),f(t,h),f(t,N);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(N,null)},p(_,p){if(p&5){F=_[0];let E;for(E=0;E<F.length;E+=1){const q=et(_,F,E);d[E]?d[E].p(q,p):(d[E]=rt(q),d[E].c(),d[E].m(N,null))}for(;E<d.length;E+=1)d[E].d(1);d.length=F.length}},d(_){_&&r(e),ct(d,_)}}}function nt(i){let e,t,l=i[7].name+"",a,o,s,c=i[7].artists.join(", ")+"",S,k,H,u=i[7].album_name+"",U,M,L,b=i[7].date.toLocaleDateString("en-US")+"",v,n,m,h;function N(_,p){return _[7].attribute=="+"?Lt:_[7].attribute=="-"?Ht:_[7].attribute>0?At:_[7].attribute==0?Pt:Dt}let F=N(i),d=F(i);return{c(){e=D("tr"),t=D("td"),a=g(l),o=y(),s=D("td"),S=g(c),k=y(),H=D("td"),U=g(u),M=y(),L=D("td"),v=g(b),n=y(),m=D("td"),d.c(),h=y()},l(_){e=P(_,"TR",{});var p=w(e);t=P(p,"TD",{});var E=w(t);a=T(E,l),E.forEach(r),o=j(p),s=P(p,"TD",{});var q=w(s);S=T(q,c),q.forEach(r),k=j(p),H=P(p,"TD",{});var R=w(H);U=T(R,u),R.forEach(r),M=j(p),L=P(p,"TD",{});var C=w(L);v=T(C,b),C.forEach(r),n=j(p),m=P(p,"TD",{});var O=w(m);d.l(O),O.forEach(r),h=j(p),p.forEach(r)},m(_,p){A(_,e,p),f(e,t),f(t,a),f(e,o),f(e,s),f(s,S),f(e,k),f(e,H),f(H,U),f(e,M),f(e,L),f(L,v),f(e,n),f(e,m),d.m(m,null),f(e,h)},p(_,p){p&1&&l!==(l=_[7].name+"")&&B(a,l),p&1&&c!==(c=_[7].artists.join(", ")+"")&&B(S,c),p&1&&u!==(u=_[7].album_name+"")&&B(U,u),p&1&&b!==(b=_[7].date.toLocaleDateString("en-US")+"")&&B(v,b),F===(F=N(_))&&d?d.p(_,p):(d.d(1),d=F(_),d&&(d.c(),d.m(m,null)))},d(_){_&&r(e),d.d()}}}function Dt(i){let e,t=Math.abs(i[7].attribute)+"",l;return{c(){e=g("â¬‡ "),l=g(t)},l(a){e=T(a,"â¬‡ "),l=T(a,t)},m(a,o){A(a,e,o),A(a,l,o)},p(a,o){o&1&&t!==(t=Math.abs(a[7].attribute)+"")&&B(l,t)},d(a){a&&r(e),a&&r(l)}}}function Pt(i){let e=i[7].position+"",t;return{c(){t=g(e)},l(l){t=T(l,e)},m(l,a){A(l,t,a)},p(l,a){a&1&&e!==(e=l[7].position+"")&&B(t,e)},d(l){l&&r(t)}}}function At(i){let e,t=i[7].attribute+"",l;return{c(){e=g("â¬† "),l=g(t)},l(a){e=T(a,"â¬† "),l=T(a,t)},m(a,o){A(a,e,o),A(a,l,o)},p(a,o){o&1&&t!==(t=a[7].attribute+"")&&B(l,t)},d(a){a&&r(e),a&&r(l)}}}function Ht(i){let e,t=i[7].position+"",l;return{c(){e=g("ðŸ—‘ "),l=g(t)},l(a){e=T(a,"ðŸ—‘ "),l=T(a,t)},m(a,o){A(a,e,o),A(a,l,o)},p(a,o){o&1&&t!==(t=a[7].position+"")&&B(l,t)},d(a){a&&r(e),a&&r(l)}}}function Lt(i){let e,t=i[7].position+"",l;return{c(){e=g("ðŸ†• "),l=g(t)},l(a){e=T(a,"ðŸ†• "),l=T(a,t)},m(a,o){A(a,e,o),A(a,l,o)},p(a,o){o&1&&t!==(t=a[7].position+"")&&B(l,t)},d(a){a&&r(e),a&&r(l)}}}function rt(i){let e,t=i[7].playlist===i[2]&&nt(i);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,a){t&&t.m(l,a),A(l,e,a)},p(l,a){l[7].playlist===l[2]?t?t.p(l,a):(t=nt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&r(e)}}}function wt(i){let e,t=i[0]&&i[0].length>0&&i[1].length>0&&at(i);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,a){t&&t.m(l,a),A(l,e,a)},p(l,[a]){l[0]&&l[0].length>0&&l[1].length>0?t?t.p(l,a):(t=at(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){t&&t.d(l),l&&r(e)}}}function Nt(i,e,t){let l,a;G(i,Q,k=>t(3,l=k)),G(i,Y,k=>t(4,a=k));let o=[],s=[],c;Y.subscribe(k=>{Q.subscribe(H=>{k&&H&&k.data.length>0&&H.data.length>0&&(t(0,o=[]),k.data.forEach((u,U)=>{H.data.forEach((M,L)=>{u.playlist==M.playlist&&u.song_id===M.song_id&&(k.data[U].attribute=M.position-u.position,H.data[L].attribute=u.position-M.position)})}),k.data.forEach(u=>{"attribute"in u?t(0,o=[...o,u]):t(0,o=[...o,{...u,attribute:"+"}])}),H.data.forEach(u=>{"attribute"in u||t(0,o=[...o,{...u,attribute:"-"}])}),t(1,s=[...new Set(k.data.map(u=>u.playlist))].sort()))})});function S(){c=dt(this),t(2,c),t(1,s)}return[o,s,c,l,a,S]}class Mt extends st{constructor(e){super(),ft(this,e,Nt,wt,_t,{})}}function Ut(i){let e,t,l,a,o;return a=new Mt({}),{c(){e=D("meta"),t=y(),l=D("div"),pt(a.$$.fragment),this.h()},l(s){const c=bt("svelte-pm5yr4",document.head);e=P(c,"META",{name:!0,content:!0}),c.forEach(r),t=j(s),l=P(s,"DIV",{class:!0});var S=w(l);mt(a.$$.fragment,S),S.forEach(r),this.h()},h(){document.title="Playlists",V(e,"name","description"),V(e,"content","Playlists app"),V(l,"class","app")},m(s,c){f(document.head,e),A(s,t,c),A(s,l,c),vt(a,l,null),o=!0},p:J,i(s){o||(Et(a.$$.fragment,s),o=!0)},o(s){kt(a.$$.fragment,s),o=!1},d(s){r(e),s&&r(t),s&&r(l),gt(a)}}}function yt(i,e,t){let l,a;return G(i,Q,o=>t(0,l=o)),G(i,Y,o=>t(1,a=o)),Tt(async()=>{x(Y,a=await tt(0),a),x(Q,l=await tt(1),l)}),[]}class Ft extends st{constructor(e){super(),ft(this,e,yt,Ut,_t,{})}}export{Ft as component,Bt as universal};

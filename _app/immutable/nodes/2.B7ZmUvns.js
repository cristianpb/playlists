var um=Object.defineProperty;var Zu=t=>{throw TypeError(t)};var cm=(t,e,n)=>e in t?um(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ju=(t,e,n)=>cm(t,typeof e!="symbol"?e+"":e,n),Ff=(t,e,n)=>e.has(t)||Zu("Cannot "+n);var we=(t,e,n)=>(Ff(t,e,"read from private field"),n?n.call(t):e.get(t)),_r=(t,e,n)=>e.has(t)?Zu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Uf=(t,e,n,r)=>(Ff(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qu=(t,e,n)=>(Ff(t,e,"access private method"),n);import{a as pt,t as ne,c as Ii,d as yr}from"../chunks/4_xHa1Ib.js";import{i as gd}from"../chunks/kYCum3QG.js";import{ab as Ku,a2 as Ju,ac as md,D as Ea,I as rn,N as qf,ah as lm,ad as dm,J as hm,H as pm,a as R,L as gm,M as tc,O as Bf,T as wr,ak as mm,ay as Ji,P as bd,Q as _d,R as bm,ao as yd,az as _m,aA as ym,an as wm,aB as vm,aC as xm,a8 as Mm,m as $m,A as ec,aD as Am,G as Tm,aE as Em,aF as Sm,ag as Nm,V as Fs,f as Cm,p as ri,c as Us,x as Pt,l as un,q as ii,av as Vn,b as st,aG as Sa,aH as wd,aI as fe,v as Rt,w as $t,o as Yt,i as Yf,at as Im,aJ as km,aK as nc}from"../chunks/5YL_0G8K.js";import{s as Lt,a as Dm}from"../chunks/DX4SwyQo.js";import{c as Lm,b as qs,p as zf,i as jt}from"../chunks/DyWNm0nT.js";import{b as Rm}from"../chunks/DD8MJPIM.js";let rc=!1;function Pm(){rc||(rc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Om(t){var e=md,n=Ea;Ku(null),Ju(null);try{return t()}finally{Ku(e),Ju(n)}}function Fm(t,e,n,r=n){t.addEventListener(e,()=>Om(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Pm()}function Na(t,e){return e}function Um(t,e,n,r){for(var i=[],o=e.length,f=0;f<o;f++)ym(e[f].e,i,!0);var a=o>0&&i.length===0&&n!==null;if(a){var s=n.parentNode;wm(s),s.append(n),r.clear(),Ue(t,e[0].prev,e[o-1].next)}vm(i,()=>{for(var u=0;u<o;u++){var c=e[u];a||(r.delete(c.k),Ue(t,c.prev,c.next)),xm(c.e,!a)}})}function Ca(t,e,n,r,i,o=null){var f=t,a={flags:e,items:new Map,first:null};{var s=t;f=rn?qf(lm(s)):s.appendChild(dm())}rn&&hm();var u=null,c=!1,d=Mm(()=>{var l=n();return Tm(l)?l:l==null?[]:yd(l)});pm(()=>{var l=R(d),h=l.length;if(c&&h===0)return;c=h===0;let p=!1;if(rn){var g=f.data===gm;g!==(h===0)&&(f=tc(),qf(f),Bf(!1),p=!0)}if(rn){for(var _=null,m,b=0;b<h;b++){if(wr.nodeType===8&&wr.data===mm){f=wr,p=!0,Bf(!1);break}var w=l[b],y=r(w,b);m=vd(wr,a,_,null,w,y,b,i,e),a.items.set(y,m),_=m}h>0&&qf(tc())}if(!rn){var x=md;qm(l,a,f,i,e,(x.f&Ji)!==0,r)}o!==null&&(h===0?u?bd(u):u=_d(()=>o(f)):u!==null&&bm(u,()=>{u=null})),p&&Bf(!0),R(d)}),rn&&(f=wr)}function qm(t,e,n,r,i,o,f,a){var s=t.length,u=e.items,c=e.first,d=c,l,h=null,p=[],g=[],_,m,b,w;for(w=0;w<s;w+=1){if(_=t[w],m=f(_,w),b=u.get(m),b===void 0){var y=d?d.e.nodes_start:n;h=vd(y,e,h,h===null?e.first:h.next,_,m,w,r,i),u.set(m,h),p=[],g=[],d=h.next;continue}if(Bm(b,_,w),b.e.f&Ji&&bd(b.e),b!==d){if(l!==void 0&&l.has(b)){if(p.length<g.length){var x=g[0],v;h=x.prev;var M=p[0],T=p[p.length-1];for(v=0;v<p.length;v+=1)ic(p[v],x,n);for(v=0;v<g.length;v+=1)l.delete(g[v]);Ue(e,M.prev,T.next),Ue(e,h,M),Ue(e,T,x),d=x,h=T,w-=1,p=[],g=[]}else l.delete(b),ic(b,d,n),Ue(e,b.prev,b.next),Ue(e,b,h===null?e.first:h.next),Ue(e,h,b),h=b;continue}for(p=[],g=[];d!==null&&d.k!==m;)(o||!(d.e.f&Ji))&&(l??(l=new Set)).add(d),g.push(d),d=d.next;if(d===null)continue;b=d}p.push(b),h=b,d=b.next}if(d!==null||l!==void 0){for(var E=l===void 0?[]:yd(l);d!==null;)(o||!(d.e.f&Ji))&&E.push(d),d=d.next;var I=E.length;if(I>0){var $=s===0?n:null;Um(e,E,$,u)}}Ea.first=e.first&&e.first.e,Ea.last=h&&h.e}function Bm(t,e,n,r){_m(t.v,e),t.i=n}function vd(t,e,n,r,i,o,f,a,s,u){var c=(s&Em)!==0,d=(s&Sm)===0,l=c?d?$m(i):ec(i):i,h=s&Am?ec(f):f,p={i:h,v:l,k:o,a:null,e:null,prev:n,next:r};try{return p.e=_d(()=>a(t,l,h),rn),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function ic(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var f=Nm(o);i.before(o),o=f}}function Ue(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function xd(t,e,n){if(t.multiple)return zm(t,e);for(var r of t.options){var i=Fr(r);if(Lm(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ym(t,e){Fs(()=>{var n=new MutationObserver(()=>{var r=t.__value;xd(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function oc(t,e,n=e){var r=!0;Fm(t,"change",i=>{var o=i?"[selected]":":checked",f;if(t.multiple)f=[].map.call(t.querySelectorAll(o),Fr);else{var a=t.querySelector(o)??t.querySelector("option:not([disabled])");f=a&&Fr(a)}n(f)}),Fs(()=>{var i=e();if(xd(t,i,r),r&&i===void 0){var o=t.querySelector(":checked");o!==null&&(i=Fr(o),n(i))}t.__value=i,r=!1}),Ym(t)}function zm(t,e){for(var n of t.options)n.selected=~e.indexOf(Fr(n))}function Fr(t){return"__value"in t?t.__value:t.value}var qe,Wn,ni,Zo,Md;const jo=class jo{constructor(e){_r(this,Zo);_r(this,qe,new WeakMap);_r(this,Wn);_r(this,ni);Uf(this,ni,e)}observe(e,n){var r=we(this,qe).get(e)||new Set;return r.add(n),we(this,qe).set(e,r),Qu(this,Zo,Md).call(this).observe(e,we(this,ni)),()=>{var i=we(this,qe).get(e);i.delete(n),i.size===0&&(we(this,qe).delete(e),we(this,Wn).unobserve(e))}}};qe=new WeakMap,Wn=new WeakMap,ni=new WeakMap,Zo=new WeakSet,Md=function(){return we(this,Wn)??Uf(this,Wn,new ResizeObserver(e=>{for(var n of e){jo.entries.set(n.target,n);for(var r of we(this,qe).get(n.target)||[])r(n)}}))},ju(jo,"entries",new WeakMap);let Ia=jo;var Hm=new Ia({box:"border-box"});function Bs(t,e,n){var r=Hm.observe(t,()=>n(t[e]));Fs(()=>(Cm(()=>n(t[e])),r))}const Wm=!0,Ex=Object.freeze(Object.defineProperty({__proto__:null,prerender:Wm},Symbol.toStringTag,{value:"Module"}));function ze(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qo(t){let e,n,r;t.length!==2?(e=ze,n=(a,s)=>ze(t(a),s),r=(a,s)=>t(a)-s):(e=t===ze||t===oi?t:Vm,n=t,r=t);function i(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const d=u+c>>>1;n(a[d],s)<0?u=d+1:c=d}while(u<c)}return u}function o(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const d=u+c>>>1;n(a[d],s)<=0?u=d+1:c=d}while(u<c)}return u}function f(a,s,u=0,c=a.length){const d=i(a,s,u,c-1);return d>u&&r(a[d-1],s)>-r(a[d],s)?d-1:d}return{left:i,center:f,right:o}}function Vm(){return 0}function $d(t){return t===null?NaN:+t}function*Gm(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Xm=Qo(ze),Ys=Xm.right;Qo($d).center;function Zm(t){return t.length|0}function jm(t){return!(t>0)}function Qm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Km(t){return e=>t(...e)}function Jm(...t){const e=typeof t[t.length-1]=="function"&&Km(t.pop());t=t.map(Qm);const n=t.map(Zm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(jm))return o;for(;;){o.push(i.map((a,s)=>t[s][a]));let f=r;for(;++i[f]===n[f];){if(f===0)return e?o.map(e):o;i[f--]=0}}}function Ad(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let f of t)f!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i));else{let f=-1;for(let a of t)(a=e(a,++f,t))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function tb(t,e){const n=Ad(t,e);return n&&Math.sqrt(n)}function He(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class mn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],f=e+o,a=Math.abs(e)<Math.abs(o)?e-(f-o):o-(f-e);a&&(n[r++]=a),e=f}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,f=0;if(n>0){for(f=e[--n];n>0&&(r=f,i=e[--n],f=r+i,o=i-(f-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=f+i,i==r-f&&(f=r))}return f}}class zr extends Map{constructor(e,n=Sd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ka(this,e))}has(e){return super.has(ka(this,e))}set(e,n){return super.set(Td(this,e),n)}delete(e){return super.delete(Ed(this,e))}}class Ko extends Set{constructor(e,n=Sd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(ka(this,e))}add(e){return super.add(Td(this,e))}delete(e){return super.delete(Ed(this,e))}}function ka({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Td({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ed({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Da(t){return t}function eb(t,...e){return zs(t,Da,Da,e)}function Hf(t,e,...n){return zs(t,Da,e,n)}function nb(t,e,...n){return zs(t,Array.from,e,n)}function zs(t,e,n,r){return function i(o,f){if(f>=r.length)return n(o);const a=new zr,s=r[f++];let u=-1;for(const c of o){const d=s(c,++u,o),l=a.get(d);l?l.push(c):a.set(d,[c])}for(const[c,d]of a)a.set(c,i(d,f));return e(a)}(t,0)}function rb(t,e){return Array.from(e,n=>t[n])}function ib(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const f of e){const a=uo(f[i],f[o]);if(a)return a}})):(n=t.map(n),r.sort((i,o)=>uo(n[i],n[o]))),rb(t,r)}return t.sort(Nd(n))}function Nd(t=ze){if(t===ze)return uo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ob=Math.sqrt(50),fb=Math.sqrt(10),ab=Math.sqrt(2);function co(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),f=o>=ob?10:o>=fb?5:o>=ab?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/f,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*f,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?co(t,e,n*2):[a,s,u]}function lo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,f]=r?co(e,t,n):co(t,e,n);if(!(o>=i))return[];const a=o-i+1,s=new Array(a);if(r)if(f<0)for(let u=0;u<a;++u)s[u]=(o-u)/-f;else for(let u=0;u<a;++u)s[u]=(o-u)*f;else if(f<0)for(let u=0;u<a;++u)s[u]=(i+u)/-f;else for(let u=0;u<a;++u)s[u]=(i+u)*f;return s}function La(t,e,n){return e=+e,t=+t,n=+n,co(t,e,n)[2]}function Ra(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?La(e,t,n):La(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function he(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function sb(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Hr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ub(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Cd(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uo:Nd(i);r>n;){if(r-n>600){const s=r-n+1,u=e-n+1,c=Math.log(s),d=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*d*(s-d)/s)*(u-s/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/s+l)),p=Math.min(r,Math.floor(e+(s-u)*d/s+l));Cd(t,e,h,p,i)}const o=t[e];let f=n,a=r;for(vr(t,n,e),i(t[r],o)>0&&vr(t,n,r);f<a;){for(vr(t,f,a),++f,--a;i(t[f],o)<0;)++f;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?vr(t,n,a):(++a,vr(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function vr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ho(t,e,n){if(t=Float64Array.from(Gm(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Hr(t);if(e>=1)return he(t);var r,i=(r-1)*e,o=Math.floor(i),f=he(Cd(t,o).subarray(0,o+1)),a=Hr(t.subarray(o+1));return f+(a-f)*(i-o)}}function cb(t,e,n=$d){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),f=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return f+(a-f)*(i-o)}}function lb(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Pa(t,e){return ho(t,.5,e)}function*db(t){for(const e of t)yield*e}function Id(t){return Array.from(db(t))}function hb(t,e){const n=new zr;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let f of t)(f=e(f,++o,t))!=null&&f>=f&&n.set(f,(n.get(f)||0)+1)}let r,i=0;for(const[o,f]of n)f>i&&(i=f,r=o);return r}function pb(t,e=gb){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function gb(t,e){return[t,e]}function Oa(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Hs(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function po(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function mb(t){return t}var bb=3,fc=1e-6;function _b(t){return"translate("+t+",0)"}function yb(t){return e=>+t(e)}function wb(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function vb(){return!this.__axis}function xb(t,e){var n=[],r=null,i=null,o=6,f=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,c="y",d=_b;function l(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):mb),_=Math.max(o,0)+a,m=e.range(),b=+m[0]+s,w=+m[m.length-1]+s,y=(e.bandwidth?wb:yb)(e.copy(),s),x=h.selection?h.selection():h,v=x.selectAll(".domain").data([null]),M=x.selectAll(".tick").data(p,e).order(),T=M.exit(),E=M.enter().append("g").attr("class","tick"),I=M.select("line"),$=M.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(E),I=I.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),$=$.merge(E.append("text").attr("fill","currentColor").attr(c,u*_).attr("dy","0.71em")),h!==x&&(v=v.transition(h),M=M.transition(h),I=I.transition(h),$=$.transition(h),T=T.transition(h).attr("opacity",fc).attr("transform",function(N){return isFinite(N=y(N))?d(N+s):this.getAttribute("transform")}),E.attr("opacity",fc).attr("transform",function(N){var S=this.parentNode.__axis;return d((S&&isFinite(S=S(N))?S:y(N))+s)})),T.remove(),v.attr("d",f?"M"+b+","+u*f+"V"+s+"H"+w+"V"+u*f:"M"+b+","+s+"H"+w),M.attr("opacity",1).attr("transform",function(N){return d(y(N)+s)}),I.attr(c+"2",u*o),$.attr(c,u*_).text(g),x.filter(vb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),x.each(function(){this.__axis=y})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=f=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(f=+h,l):f},l.tickPadding=function(h){return arguments.length?(a=+h,l):a},l.offset=function(h){return arguments.length?(s=+h,l):s},l}function Mb(t){return xb(bb,t)}var $b={value:()=>{}};function kd(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new to(n)}function to(t){this._=t}function Ab(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}to.prototype=kd.prototype={constructor:to,on:function(t,e){var n=this._,r=Ab(t+"",n),i,o=-1,f=r.length;if(arguments.length<2){for(;++o<f;)if((i=(t=r[o]).type)&&(i=Tb(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<f;)if(i=(t=r[o]).type)n[i]=ac(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ac(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new to(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Tb(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ac(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$b,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Fa="http://www.w3.org/1999/xhtml";const Gn={svg:"http://www.w3.org/2000/svg",xhtml:Fa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gn.hasOwnProperty(e)?{space:Gn[e],local:t}:t}function Eb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Fa&&e.documentElement.namespaceURI===Fa?e.createElement(t):e.createElementNS(n,t)}}function Sb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tf(t){var e=Jo(t);return(e.local?Sb:Eb)(e)}function Nb(){}function Ws(t){return t==null?Nb:function(){return this.querySelector(t)}}function Cb(t){typeof t!="function"&&(t=Ws(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=new Array(f),s,u,c=0;c<f;++c)(s=o[c])&&(u=t.call(s,s.__data__,c,o))&&("__data__"in s&&(u.__data__=s.__data__),a[c]=u);return new Ft(r,this._parents)}function Ib(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function kb(){return[]}function Dd(t){return t==null?kb:function(){return this.querySelectorAll(t)}}function Db(t){return function(){return Ib(t.apply(this,arguments))}}function Lb(t){typeof t=="function"?t=Db(t):t=Dd(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var f=e[o],a=f.length,s,u=0;u<a;++u)(s=f[u])&&(r.push(t.call(s,s.__data__,u,f)),i.push(s));return new Ft(r,i)}function Ld(t){return function(){return this.matches(t)}}function Rd(t){return function(e){return e.matches(t)}}var Rb=Array.prototype.find;function Pb(t){return function(){return Rb.call(this.children,t)}}function Ob(){return this.firstElementChild}function Fb(t){return this.select(t==null?Ob:Pb(typeof t=="function"?t:Rd(t)))}var Ub=Array.prototype.filter;function qb(){return Array.from(this.children)}function Bb(t){return function(){return Ub.call(this.children,t)}}function Yb(t){return this.selectAll(t==null?qb:Bb(typeof t=="function"?t:Rd(t)))}function zb(t){typeof t!="function"&&(t=Ld(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=[],s,u=0;u<f;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&a.push(s);return new Ft(r,this._parents)}function Pd(t){return new Array(t.length)}function Hb(){return new Ft(this._enter||this._groups.map(Pd),this._parents)}function go(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}go.prototype={constructor:go,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Wb(t){return function(){return t}}function Vb(t,e,n,r,i,o){for(var f=0,a,s=e.length,u=o.length;f<u;++f)(a=e[f])?(a.__data__=o[f],r[f]=a):n[f]=new go(t,o[f]);for(;f<s;++f)(a=e[f])&&(i[f]=a)}function Gb(t,e,n,r,i,o,f){var a,s,u=new Map,c=e.length,d=o.length,l=new Array(c),h;for(a=0;a<c;++a)(s=e[a])&&(l[a]=h=f.call(s,s.__data__,a,e)+"",u.has(h)?i[a]=s:u.set(h,s));for(a=0;a<d;++a)h=f.call(t,o[a],a,o)+"",(s=u.get(h))?(r[a]=s,s.__data__=o[a],u.delete(h)):n[a]=new go(t,o[a]);for(a=0;a<c;++a)(s=e[a])&&u.get(l[a])===s&&(i[a]=s)}function Xb(t){return t.__data__}function Zb(t,e){if(!arguments.length)return Array.from(this,Xb);var n=e?Gb:Vb,r=this._parents,i=this._groups;typeof t!="function"&&(t=Wb(t));for(var o=i.length,f=new Array(o),a=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],l=d.length,h=jb(t.call(c,c&&c.__data__,u,r)),p=h.length,g=a[u]=new Array(p),_=f[u]=new Array(p),m=s[u]=new Array(l);n(c,d,g,_,m,h,e);for(var b=0,w=0,y,x;b<p;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(x=_[w])&&++w<p;);y._next=x||null}}return f=new Ft(f,r),f._enter=a,f._exit=s,f}function jb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qb(){return new Ft(this._exit||this._groups.map(Pd),this._parents)}function Kb(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Jb(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,f=Math.min(i,o),a=new Array(i),s=0;s<f;++s)for(var u=n[s],c=r[s],d=u.length,l=a[s]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(l[p]=h);for(;s<i;++s)a[s]=n[s];return new Ft(a,this._parents)}function t2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],f;--i>=0;)(f=r[i])&&(o&&f.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(f,o),o=f);return this}function e2(t){t||(t=n2);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var f=n[o],a=f.length,s=i[o]=new Array(a),u,c=0;c<a;++c)(u=f[c])&&(s[c]=u);s.sort(e)}return new Ft(i,this._parents).order()}function n2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function i2(){return Array.from(this)}function o2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var f=r[i];if(f)return f}return null}function f2(){let t=0;for(const e of this)++t;return t}function a2(){return!this.node()}function s2(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,f=i.length,a;o<f;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function u2(t){return function(){this.removeAttribute(t)}}function c2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function l2(t,e){return function(){this.setAttribute(t,e)}}function d2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function h2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function p2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function g2(t,e){var n=Jo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?c2:u2:typeof e=="function"?n.local?p2:h2:n.local?d2:l2)(n,e))}function Od(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function m2(t){return function(){this.style.removeProperty(t)}}function b2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _2(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function y2(t,e,n){return arguments.length>1?this.each((e==null?m2:typeof e=="function"?_2:b2)(t,e,n??"")):Xn(this.node(),t)}function Xn(t,e){return t.style.getPropertyValue(e)||Od(t).getComputedStyle(t,null).getPropertyValue(e)}function w2(t){return function(){delete this[t]}}function v2(t,e){return function(){this[t]=e}}function x2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function M2(t,e){return arguments.length>1?this.each((e==null?w2:typeof e=="function"?x2:v2)(t,e)):this.node()[t]}function Fd(t){return t.trim().split(/^|\s+/)}function Vs(t){return t.classList||new Ud(t)}function Ud(t){this._node=t,this._names=Fd(t.getAttribute("class")||"")}Ud.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qd(t,e){for(var n=Vs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Bd(t,e){for(var n=Vs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $2(t){return function(){qd(this,t)}}function A2(t){return function(){Bd(this,t)}}function T2(t,e){return function(){(e.apply(this,arguments)?qd:Bd)(this,t)}}function E2(t,e){var n=Fd(t+"");if(arguments.length<2){for(var r=Vs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?T2:e?$2:A2)(n,e))}function S2(){this.textContent=""}function N2(t){return function(){this.textContent=t}}function C2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function I2(t){return arguments.length?this.each(t==null?S2:(typeof t=="function"?C2:N2)(t)):this.node().textContent}function k2(){this.innerHTML=""}function D2(t){return function(){this.innerHTML=t}}function L2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function R2(t){return arguments.length?this.each(t==null?k2:(typeof t=="function"?L2:D2)(t)):this.node().innerHTML}function P2(){this.nextSibling&&this.parentNode.appendChild(this)}function O2(){return this.each(P2)}function F2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U2(){return this.each(F2)}function q2(t){var e=typeof t=="function"?t:tf(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function B2(){return null}function Y2(t,e){var n=typeof t=="function"?t:tf(t),r=e==null?B2:typeof e=="function"?e:Ws(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function z2(){var t=this.parentNode;t&&t.removeChild(this)}function H2(){return this.each(z2)}function W2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function V2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function G2(t){return this.select(t?V2:W2)}function X2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Z2(t){return function(e){t.call(this,e,this.__data__)}}function j2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Q2(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function K2(t,e,n){return function(){var r=this.__on,i,o=Z2(e);if(r){for(var f=0,a=r.length;f<a;++f)if((i=r[f]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function J2(t,e,n){var r=j2(t+""),i,o=r.length,f;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,c;s<u;++s)for(i=0,c=a[s];i<o;++i)if((f=r[i]).type===c.type&&f.name===c.name)return c.value}return}for(a=e?K2:Q2,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Yd(t,e,n){var r=Od(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function t_(t,e){return function(){return Yd(this,t,e)}}function e_(t,e){return function(){return Yd(this,t,e.apply(this,arguments))}}function n_(t,e){return this.each((typeof e=="function"?e_:t_)(t,e))}function*r_(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,f;i<o;++i)(f=r[i])&&(yield f)}var zd=[null];function Ft(t,e){this._groups=t,this._parents=e}function fi(){return new Ft([[document.documentElement]],zd)}function i_(){return this}Ft.prototype=fi.prototype={constructor:Ft,select:Cb,selectAll:Lb,selectChild:Fb,selectChildren:Yb,filter:zb,data:Zb,enter:Hb,exit:Qb,join:Kb,merge:Jb,selection:i_,order:t2,sort:e2,call:r2,nodes:i2,node:o2,size:f2,empty:a2,each:s2,attr:g2,style:y2,property:M2,classed:E2,text:I2,html:R2,raise:O2,lower:U2,append:q2,insert:Y2,remove:H2,clone:G2,datum:X2,on:J2,dispatch:n_,[Symbol.iterator]:r_};function Bn(t){return typeof t=="string"?new Ft([[document.querySelector(t)]],[document.documentElement]):new Ft([[t]],zd)}function o_(t){let e;for(;e=t.sourceEvent;)t=e;return t}function f_(t,e){if(t=o_(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function cr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function je(){}var bn=.7,Zn=1/bn,Yn="\\s*([+-]?\\d+)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a_=/^#([0-9a-f]{3,8})$/,s_=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),u_=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),c_=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${Wr}\\)$`),l_=new RegExp(`^rgba\\(${le},${le},${le},${Wr}\\)$`),d_=new RegExp(`^hsl\\(${Wr},${le},${le}\\)$`),h_=new RegExp(`^hsla\\(${Wr},${le},${le},${Wr}\\)$`),sc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cr(je,_n,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uc,formatHex:uc,formatHex8:p_,formatHsl:g_,formatRgb:cc,toString:cc});function uc(){return this.rgb().formatHex()}function p_(){return this.rgb().formatHex8()}function g_(){return Hd(this).formatHsl()}function cc(){return this.rgb().formatRgb()}function _n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=a_.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lc(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ki(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ki(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=s_.exec(t))?new yt(e[1],e[2],e[3],1):(e=u_.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=c_.exec(t))?ki(e[1],e[2],e[3],e[4]):(e=l_.exec(t))?ki(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=d_.exec(t))?pc(e[1],e[2]/100,e[3]/100,1):(e=h_.exec(t))?pc(e[1],e[2]/100,e[3]/100,e[4]):sc.hasOwnProperty(t)?lc(sc[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function lc(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function ki(t,e,n,r){return r<=0&&(t=e=n=NaN),new yt(t,e,n,r)}function Gs(t){return t instanceof je||(t=_n(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Ve(t,e,n,r){return arguments.length===1?Gs(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cr(yt,Ve,ai(je,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bn:Math.pow(bn,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(ln(this.r),ln(this.g),ln(this.b),mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dc,formatHex:dc,formatHex8:m_,formatRgb:hc,toString:hc}));function dc(){return`#${cn(this.r)}${cn(this.g)}${cn(this.b)}`}function m_(){return`#${cn(this.r)}${cn(this.g)}${cn(this.b)}${cn((isNaN(this.opacity)?1:this.opacity)*255)}`}function hc(){const t=mo(this.opacity);return`${t===1?"rgb(":"rgba("}${ln(this.r)}, ${ln(this.g)}, ${ln(this.b)}${t===1?")":`, ${t})`}`}function mo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cn(t){return t=ln(t),(t<16?"0":"")+t.toString(16)}function pc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function Hd(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof je||(t=_n(t)),!t)return new Qt;if(t instanceof Qt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),f=NaN,a=o-i,s=(o+i)/2;return a?(e===o?f=(n-r)/a+(n<r)*6:n===o?f=(r-e)/a+2:f=(e-n)/a+4,a/=s<.5?o+i:2-o-i,f*=60):a=s>0&&s<1?0:f,new Qt(f,a,s,t.opacity)}function Ua(t,e,n,r){return arguments.length===1?Hd(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cr(Qt,Ua,ai(je,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bn:Math.pow(bn,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yt(Wf(t>=240?t-240:t+120,i,r),Wf(t,i,r),Wf(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qt(gc(this.h),Di(this.s),Di(this.l),mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mo(this.opacity);return`${t===1?"hsl(":"hsla("}${gc(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gc(t){return t=(t||0)%360,t<0?t+360:t}function Di(t){return Math.max(0,Math.min(1,t||0))}function Wf(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wd=Math.PI/180,Vd=180/Math.PI,bo=18,Gd=.96422,Xd=1,Zd=.82521,jd=4/29,zn=6/29,Qd=3*zn*zn,b_=zn*zn*zn;function Kd(t){if(t instanceof de)return new de(t.l,t.a,t.b,t.opacity);if(t instanceof Se)return Jd(t);t instanceof yt||(t=Gs(t));var e=Zf(t.r),n=Zf(t.g),r=Zf(t.b),i=Vf((.2225045*e+.7168786*n+.0606169*r)/Xd),o,f;return e===n&&n===r?o=f=i:(o=Vf((.4360747*e+.3850649*n+.1430804*r)/Gd),f=Vf((.0139322*e+.0971045*n+.7141733*r)/Zd)),new de(116*i-16,500*(o-i),200*(i-f),t.opacity)}function qa(t,e,n,r){return arguments.length===1?Kd(t):new de(t,e,n,r??1)}function de(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}cr(de,qa,ai(je,{brighter(t){return new de(this.l+bo*(t??1),this.a,this.b,this.opacity)},darker(t){return new de(this.l-bo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Gd*Gf(e),t=Xd*Gf(t),n=Zd*Gf(n),new yt(Xf(3.1338561*e-1.6168667*t-.4906146*n),Xf(-.9787684*e+1.9161415*t+.033454*n),Xf(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Vf(t){return t>b_?Math.pow(t,1/3):t/Qd+jd}function Gf(t){return t>zn?t*t*t:Qd*(t-jd)}function Xf(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Zf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function __(t){if(t instanceof Se)return new Se(t.h,t.c,t.l,t.opacity);if(t instanceof de||(t=Kd(t)),t.a===0&&t.b===0)return new Se(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vd;return new Se(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ba(t,e,n,r){return arguments.length===1?__(t):new Se(t,e,n,r??1)}function Se(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Jd(t){if(isNaN(t.h))return new de(t.l,0,0,t.opacity);var e=t.h*Wd;return new de(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}cr(Se,Ba,ai(je,{brighter(t){return new Se(this.h,this.c,this.l+bo*(t??1),this.opacity)},darker(t){return new Se(this.h,this.c,this.l-bo*(t??1),this.opacity)},rgb(){return Jd(this).rgb()}}));var th=-.14861,Xs=1.78277,Zs=-.29227,ef=-.90649,Vr=1.97294,mc=Vr*ef,bc=Vr*Xs,_c=Xs*Zs-ef*th;function y_(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=Gs(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(_c*r+mc*e-bc*n)/(_c+mc-bc),o=r-i,f=(Vr*(n-i)-Zs*o)/ef,a=Math.sqrt(f*f+o*o)/(Vr*i*(1-i)),s=a?Math.atan2(f,o)*Vd-120:NaN;return new dn(s<0?s+360:s,a,i,t.opacity)}function pe(t,e,n,r){return arguments.length===1?y_(t):new dn(t,e,n,r??1)}function dn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cr(dn,pe,ai(je,{brighter(t){return t=t==null?Zn:Math.pow(Zn,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bn:Math.pow(bn,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Wd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new yt(255*(e+n*(th*r+Xs*i)),255*(e+n*(Zs*r+ef*i)),255*(e+n*(Vr*r)),this.opacity)}}));function w_(t,e,n,r,i){var o=t*t,f=o*t;return((1-3*t+3*o-f)*e+(4-6*o+3*f)*n+(1+3*t+3*o-3*f)*r+f*i)/6}function v_(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],f=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return w_((n-r/e)*e,f,i,o,a)}}const nf=t=>()=>t;function eh(t,e){return function(n){return t+n*e}}function x_(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function js(t,e){var n=e-t;return n?eh(t,n>180||n<-180?n-360*Math.round(n/360):n):nf(isNaN(t)?e:t)}function M_(t){return(t=+t)==1?Et:function(e,n){return n-e?x_(e,n,t):nf(isNaN(e)?n:e)}}function Et(t,e){var n=e-t;return n?eh(t,n):nf(isNaN(t)?e:t)}const yn=function t(e){var n=M_(e);function r(i,o){var f=n((i=Ve(i)).r,(o=Ve(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),u=Et(i.opacity,o.opacity);return function(c){return i.r=f(c),i.g=a(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function $_(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),f,a;for(f=0;f<n;++f)a=Ve(e[f]),r[f]=a.r||0,i[f]=a.g||0,o[f]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(s){return a.r=r(s),a.g=i(s),a.b=o(s),a+""}}}var A_=$_(v_);function T_(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function E_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function S_(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),f;for(f=0;f<r;++f)i[f]=si(t[f],e[f]);for(;f<n;++f)o[f]=e[f];return function(a){for(f=0;f<r;++f)o[f]=i[f](a);return o}}function N_(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function At(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function C_(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=si(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jf=new RegExp(Ya.source,"g");function I_(t){return function(){return t}}function k_(t){return function(e){return t(e)+""}}function nh(t,e){var n=Ya.lastIndex=jf.lastIndex=0,r,i,o,f=-1,a=[],s=[];for(t=t+"",e=e+"";(r=Ya.exec(t))&&(i=jf.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[f]?a[f]+=o:a[++f]=o),(r=r[0])===(i=i[0])?a[f]?a[f]+=i:a[++f]=i:(a[++f]=null,s.push({i:f,x:At(r,i)})),n=jf.lastIndex;return n<e.length&&(o=e.slice(n),a[f]?a[f]+=o:a[++f]=o),a.length<2?s[0]?k_(s[0].x):I_(e):(e=s.length,function(u){for(var c=0,d;c<e;++c)a[(d=s[c]).i]=d.x(u);return a.join("")})}function si(t,e){var n=typeof e,r;return e==null||n==="boolean"?nf(e):(n==="number"?At:n==="string"?(r=_n(e))?(e=r,yn):nh:e instanceof _n?yn:e instanceof Date?N_:E_(e)?T_:Array.isArray(e)?S_:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?C_:At)(t,e)}function Qs(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var yc=180/Math.PI,za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rh(t,e,n,r,i,o){var f,a,s;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,f=-f),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*yc,skewX:Math.atan(s)*yc,scaleX:f,scaleY:a}}var Li;function D_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?za:rh(e.a,e.b,e.c,e.d,e.e,e.f)}function L_(t){return t==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),!(t=Li.transform.baseVal.consolidate()))?za:(t=t.matrix,rh(t.a,t.b,t.c,t.d,t.e,t.f))}function ih(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,l,h,p){if(u!==d||c!==l){var g=h.push("translate(",null,e,null,n);p.push({i:g-4,x:At(u,d)},{i:g-2,x:At(c,l)})}else(d||l)&&h.push("translate("+d+e+l+n)}function f(u,c,d,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:At(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,l){u!==c?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:At(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function s(u,c,d,l,h,p){if(u!==d||c!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:At(u,d)},{i:g-2,x:At(c,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(u,c){var d=[],l=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,l),f(u.rotate,c.rotate,d,l),a(u.skewX,c.skewX,d,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,l),u=c=null,function(h){for(var p=-1,g=l.length,_;++p<g;)d[(_=l[p]).i]=_.x(h);return d.join("")}}}var R_=ih(D_,"px, ","px)","deg)"),P_=ih(L_,", ",")",")");function O_(t){return function(e,n){var r=t((e=Ua(e)).h,(n=Ua(n)).h),i=Et(e.s,n.s),o=Et(e.l,n.l),f=Et(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=o(a),e.opacity=f(a),e+""}}}const F_=O_(js);function U_(t,e){var n=Et((t=qa(t)).l,(e=qa(e)).l),r=Et(t.a,e.a),i=Et(t.b,e.b),o=Et(t.opacity,e.opacity);return function(f){return t.l=n(f),t.a=r(f),t.b=i(f),t.opacity=o(f),t+""}}function q_(t){return function(e,n){var r=t((e=Ba(e)).h,(n=Ba(n)).h),i=Et(e.c,n.c),o=Et(e.l,n.l),f=Et(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=o(a),e.opacity=f(a),e+""}}}const B_=q_(js);function oh(t){return function e(n){n=+n;function r(i,o){var f=t((i=pe(i)).h,(o=pe(o)).h),a=Et(i.s,o.s),s=Et(i.l,o.l),u=Et(i.opacity,o.opacity);return function(c){return i.h=f(c),i.s=a(c),i.l=s(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}oh(js);var Ks=oh(Et);function rf(t,e){e===void 0&&(e=t,t=si);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(f){var a=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return o[a](f-a)}}function Jt(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var jn=0,Nr=0,xr=0,fh=1e3,_o,Cr,yo=0,wn=0,of=0,Gr=typeof performance=="object"&&performance.now?performance:Date,ah=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Js(){return wn||(ah(Y_),wn=Gr.now()+of)}function Y_(){wn=0}function wo(){this._call=this._time=this._next=null}wo.prototype=sh.prototype={constructor:wo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Js():+n)+(e==null?0:+e),!this._next&&Cr!==this&&(Cr?Cr._next=this:_o=this,Cr=this),this._call=t,this._time=n,Ha()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ha())}};function sh(t,e,n){var r=new wo;return r.restart(t,e,n),r}function z_(){Js(),++jn;for(var t=_o,e;t;)(e=wn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jn}function wc(){wn=(yo=Gr.now())+of,jn=Nr=0;try{z_()}finally{jn=0,W_(),wn=0}}function H_(){var t=Gr.now(),e=t-yo;e>fh&&(of-=e,yo=t)}function W_(){for(var t,e=_o,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:_o=n);Cr=t,Ha(r)}function Ha(t){if(!jn){Nr&&(Nr=clearTimeout(Nr));var e=t-wn;e>24?(t<1/0&&(Nr=setTimeout(wc,t-Gr.now()-of)),xr&&(xr=clearInterval(xr))):(xr||(yo=Gr.now(),xr=setInterval(H_,fh)),jn=1,ah(wc))}}function vc(t,e,n){var r=new wo;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var V_=kd("start","end","cancel","interrupt"),G_=[],uh=0,xc=1,Wa=2,eo=3,Mc=4,Va=5,no=6;function ff(t,e,n,r,i,o){var f=t.__transition;if(!f)t.__transition={};else if(n in f)return;X_(t,n,{name:e,index:r,group:i,on:V_,tween:G_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:uh})}function tu(t,e){var n=re(t,e);if(n.state>uh)throw new Error("too late; already scheduled");return n}function be(t,e){var n=re(t,e);if(n.state>eo)throw new Error("too late; already running");return n}function re(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X_(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=sh(o,0,n.time);function o(u){n.state=xc,n.timer.restart(f,n.delay,n.time),n.delay<=u&&f(u-n.delay)}function f(u){var c,d,l,h;if(n.state!==xc)return s();for(c in r)if(h=r[c],h.name===n.name){if(h.state===eo)return vc(f);h.state===Mc?(h.state=no,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=no,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(vc(function(){n.state===eo&&(n.state=Mc,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Wa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wa){for(n.state=eo,i=new Array(l=n.tween.length),c=0,d=-1;c<l;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Va,1),d=-1,l=i.length;++d<l;)i[d].call(t,c);n.state===Va&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=no,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Z_(t,e){var n=t.__transition,r,i,o=!0,f;if(n){e=e==null?null:e+"";for(f in n){if((r=n[f]).name!==e){o=!1;continue}i=r.state>Wa&&r.state<Va,r.state=no,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[f]}o&&delete t.__transition}}function j_(t){return this.each(function(){Z_(this,t)})}function Q_(t,e){var n,r;return function(){var i=be(this,t),o=i.tween;if(o!==n){r=n=o;for(var f=0,a=r.length;f<a;++f)if(r[f].name===e){r=r.slice(),r.splice(f,1);break}}i.tween=r}}function K_(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=be(this,t),f=o.tween;if(f!==r){i=(r=f).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}o.tween=i}}function J_(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=re(this.node(),n).tween,i=0,o=r.length,f;i<o;++i)if((f=r[i]).name===t)return f.value;return null}return this.each((e==null?Q_:K_)(n,t,e))}function eu(t,e,n){var r=t._id;return t.each(function(){var i=be(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return re(i,r).value[e]}}function ch(t,e){var n;return(typeof e=="number"?At:e instanceof _n?yn:(n=_n(e))?(e=n,yn):nh)(t,e)}function ty(t){return function(){this.removeAttribute(t)}}function ey(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ny(t,e,n){var r,i=n+"",o;return function(){var f=this.getAttribute(t);return f===i?null:f===r?o:o=e(r=f,n)}}function ry(t,e,n){var r,i=n+"",o;return function(){var f=this.getAttributeNS(t.space,t.local);return f===i?null:f===r?o:o=e(r=f,n)}}function iy(t,e,n){var r,i,o;return function(){var f,a=n(this),s;return a==null?void this.removeAttribute(t):(f=this.getAttribute(t),s=a+"",f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a)))}}function oy(t,e,n){var r,i,o;return function(){var f,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),s=a+"",f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a)))}}function fy(t,e){var n=Jo(t),r=n==="transform"?P_:ch;return this.attrTween(t,typeof e=="function"?(n.local?oy:iy)(n,r,eu(this,"attr."+t,e)):e==null?(n.local?ey:ty)(n):(n.local?ry:ny)(n,r,e))}function ay(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function sy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&sy(t,o)),n}return i._value=e,i}function cy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ay(t,o)),n}return i._value=e,i}function ly(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jo(t);return this.tween(n,(r.local?uy:cy)(r,e))}function dy(t,e){return function(){tu(this,t).delay=+e.apply(this,arguments)}}function hy(t,e){return e=+e,function(){tu(this,t).delay=e}}function py(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dy:hy)(e,t)):re(this.node(),e).delay}function gy(t,e){return function(){be(this,t).duration=+e.apply(this,arguments)}}function my(t,e){return e=+e,function(){be(this,t).duration=e}}function by(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gy:my)(e,t)):re(this.node(),e).duration}function _y(t,e){if(typeof e!="function")throw new Error;return function(){be(this,t).ease=e}}function yy(t){var e=this._id;return arguments.length?this.each(_y(e,t)):re(this.node(),e).ease}function wy(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;be(this,t).ease=n}}function vy(t){if(typeof t!="function")throw new Error;return this.each(wy(this._id,t))}function xy(t){typeof t!="function"&&(t=Ld(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=[],s,u=0;u<f;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&a.push(s);return new De(r,this._parents,this._name,this._id)}function My(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),f=new Array(r),a=0;a<o;++a)for(var s=e[a],u=n[a],c=s.length,d=f[a]=new Array(c),l,h=0;h<c;++h)(l=s[h]||u[h])&&(d[h]=l);for(;a<r;++a)f[a]=e[a];return new De(f,this._parents,this._name,this._id)}function $y(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ay(t,e,n){var r,i,o=$y(e)?tu:be;return function(){var f=o(this,t),a=f.on;a!==r&&(i=(r=a).copy()).on(e,n),f.on=i}}function Ty(t,e){var n=this._id;return arguments.length<2?re(this.node(),n).on.on(t):this.each(Ay(n,t,e))}function Ey(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Sy(){return this.on("end.remove",Ey(this._id))}function Ny(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ws(t));for(var r=this._groups,i=r.length,o=new Array(i),f=0;f<i;++f)for(var a=r[f],s=a.length,u=o[f]=new Array(s),c,d,l=0;l<s;++l)(c=a[l])&&(d=t.call(c,c.__data__,l,a))&&("__data__"in c&&(d.__data__=c.__data__),u[l]=d,ff(u[l],e,n,l,u,re(c,n)));return new De(o,this._parents,e,n)}function Cy(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dd(t));for(var r=this._groups,i=r.length,o=[],f=[],a=0;a<i;++a)for(var s=r[a],u=s.length,c,d=0;d<u;++d)if(c=s[d]){for(var l=t.call(c,c.__data__,d,s),h,p=re(c,n),g=0,_=l.length;g<_;++g)(h=l[g])&&ff(h,e,n,g,l,p);o.push(l),f.push(c)}return new De(o,f,e,n)}var Iy=fi.prototype.constructor;function ky(){return new Iy(this._groups,this._parents)}function Dy(t,e){var n,r,i;return function(){var o=Xn(this,t),f=(this.style.removeProperty(t),Xn(this,t));return o===f?null:o===n&&f===r?i:i=e(n=o,r=f)}}function lh(t){return function(){this.style.removeProperty(t)}}function Ly(t,e,n){var r,i=n+"",o;return function(){var f=Xn(this,t);return f===i?null:f===r?o:o=e(r=f,n)}}function Ry(t,e,n){var r,i,o;return function(){var f=Xn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),Xn(this,t))),f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a))}}function Py(t,e){var n,r,i,o="style."+e,f="end."+o,a;return function(){var s=be(this,t),u=s.on,c=s.value[o]==null?a||(a=lh(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(f,i=c),s.on=r}}function Oy(t,e,n){var r=(t+="")=="transform"?R_:ch;return e==null?this.styleTween(t,Dy(t,r)).on("end.style."+t,lh(t)):typeof e=="function"?this.styleTween(t,Ry(t,r,eu(this,"style."+t,e))).each(Py(this._id,t)):this.styleTween(t,Ly(t,r,e),n).on("end.style."+t,null)}function Fy(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Uy(t,e,n){var r,i;function o(){var f=e.apply(this,arguments);return f!==i&&(r=(i=f)&&Fy(t,f,n)),r}return o._value=e,o}function qy(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Uy(t,e,n??""))}function By(t){return function(){this.textContent=t}}function Yy(t){return function(){var e=t(this);this.textContent=e??""}}function zy(t){return this.tween("text",typeof t=="function"?Yy(eu(this,"text",t)):By(t==null?"":t+""))}function Hy(t){return function(e){this.textContent=t.call(this,e)}}function Wy(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Hy(i)),e}return r._value=t,r}function Vy(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Wy(t))}function Gy(){for(var t=this._name,e=this._id,n=dh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var f=r[o],a=f.length,s,u=0;u<a;++u)if(s=f[u]){var c=re(s,e);ff(s,t,n,u,f,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new De(r,this._parents,t,n)}function Xy(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,f){var a={value:f},s={value:function(){--i===0&&o()}};n.each(function(){var u=be(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&o()})}var Zy=0;function De(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dh(){return++Zy}var ve=fi.prototype;De.prototype={constructor:De,select:Ny,selectAll:Cy,selectChild:ve.selectChild,selectChildren:ve.selectChildren,filter:xy,merge:My,selection:ky,transition:Gy,call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:Ty,attr:fy,attrTween:ly,style:Oy,styleTween:qy,text:zy,textTween:Vy,remove:Sy,tween:J_,delay:py,duration:by,ease:yy,easeVarying:vy,end:Xy,[Symbol.iterator]:ve[Symbol.iterator]};function jy(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qy={time:null,delay:0,duration:250,ease:jy};function Ky(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Jy(t){var e,n;t instanceof De?(e=t._id,t=t._name):(e=dh(),(n=Qy).time=Js(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var f=r[o],a=f.length,s,u=0;u<a;++u)(s=f[u])&&ff(s,t,e,u,f,n||Ky(s,e));return new De(r,this._parents,t,e)}fi.prototype.interrupt=j_;fi.prototype.transition=Jy;const Ga=Math.PI,Xa=2*Ga,on=1e-6,tw=Xa-on;function hh(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ew(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hh;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ph{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hh:ew(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,f){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+f}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let f=this._x1,a=this._y1,s=r-e,u=i-n,c=f-e,d=a-n,l=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>on)if(!(Math.abs(d*s-u*c)>on)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-f,p=i-a,g=s*s+u*u,_=h*h+p*p,m=Math.sqrt(g),b=Math.sqrt(l),w=o*Math.tan((Ga-Math.acos((g+l-_)/(2*m*b)))/2),y=w/b,x=w/m;Math.abs(y-1)>on&&this._append`L${e+y*c},${n+y*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=e+x*s},${this._y1=n+x*u}`}}arc(e,n,r,i,o,f){if(e=+e,n=+n,r=+r,f=!!f,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),u=e+a,c=n+s,d=1^f,l=f?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>on||Math.abs(this._y1-c)>on)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%Xa+Xa),l>tw?this._append`A${r},${r},0,1,${d},${e-a},${n-s}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:l>on&&this._append`A${r},${r},0,${+(l>=Ga)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Za(t=3){return new ph(+t)}function nw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qn(t){return t=vo(Math.abs(t)),t?t[1]:NaN}function rw(t,e){return function(n,r){for(var i=n.length,o=[],f=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=t[f=(f+1)%t.length];return o.reverse().join(e)}}function iw(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ow=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xr(t){if(!(e=ow.exec(t)))throw new Error("invalid format: "+t);var e;return new nu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xr.prototype=nu.prototype;function nu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gh;function aw(t,e){var n=vo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=r.length;return o===f?r:o>f?r+new Array(o-f+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+vo(t,Math.max(0,e+o-1))[0]}function $c(t,e){var n=vo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ac={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$c(t*100,e),r:$c,s:aw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tc(t){return t}var Ec=Array.prototype.map,Sc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sw(t){var e=t.grouping===void 0||t.thousands===void 0?Tc:rw(Ec.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Tc:iw(Ec.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Xr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,_=d.zero,m=d.width,b=d.comma,w=d.precision,y=d.trim,x=d.type;x==="n"?(b=!0,x="g"):Ac[x]||(w===void 0&&(w=12),y=!0,x="g"),(_||l==="0"&&h==="=")&&(_=!0,l="0",h="=");var v=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",M=g==="$"?r:/[%p]/.test(x)?f:"",T=Ac[x],E=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I($){var N=v,S=M,D,A,L;if(x==="c")S=T($)+S,$="";else{$=+$;var P=$<0||1/$<0;if($=isNaN($)?s:T(Math.abs($),w),y&&($=fw($)),P&&+$==0&&p!=="+"&&(P=!1),N=(P?p==="("?p:a:p==="-"||p==="("?"":p)+N,S=(x==="s"?Sc[8+gh/3]:"")+S+(P&&p==="("?")":""),E){for(D=-1,A=$.length;++D<A;)if(L=$.charCodeAt(D),48>L||L>57){S=(L===46?i+$.slice(D+1):$.slice(D))+S,$=$.slice(0,D);break}}}b&&!_&&($=e($,1/0));var B=N.length+$.length+S.length,V=B<m?new Array(m-B+1).join(l):"";switch(b&&_&&($=e(V+$,V.length?m-S.length:1/0),V=""),h){case"<":$=N+$+S+V;break;case"=":$=N+V+$+S;break;case"^":$=V.slice(0,B=V.length>>1)+N+$+S+V.slice(B);break;default:$=V+N+$+S;break}return o($)}return I.toString=function(){return d+""},I}function c(d,l){var h=u((d=Xr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Qn(l)/3)))*3,g=Math.pow(10,-p),_=Sc[8+p/3];return function(m){return h(g*m)+_}}return{format:u,formatPrefix:c}}var Ri,lr,mh;uw({thousands:",",grouping:[3],currency:["$",""]});function uw(t){return Ri=sw(t),lr=Ri.format,mh=Ri.formatPrefix,Ri}function cw(t){return Math.max(0,-Qn(Math.abs(t)))}function lw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qn(e)/3)))*3-Qn(Math.abs(t)))}function dw(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qn(e)-Qn(t))+1}var J=1e-6,hw=1e-12,et=Math.PI,lt=et/2,Nc=et/4,Ut=et*2,Ct=180/et,ct=et/180,ot=Math.abs,dr=Math.atan,Le=Math.atan2,tt=Math.cos,bh=Math.exp,xo=Math.log,Qf=Math.pow,j=Math.sin,Ht=Math.sign||function(t){return t>0?1:t<0?-1:0},kt=Math.sqrt,ru=Math.tan;function _h(t){return t>1?0:t<-1?et:Math.acos(t)}function Xt(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function Wt(){}function Mo(t,e){t&&Ic.hasOwnProperty(t.type)&&Ic[t.type](t,e)}var Cc={Feature:function(t,e){Mo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Mo(n[r].geometry,e)}},Ic={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ja(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ja(n[r],e,0)},Polygon:function(t,e){kc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)kc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Mo(n[r],e)}};function ja(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function kc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ja(t[n],e,1);e.polygonEnd()}function an(t,e){t&&Cc.hasOwnProperty(t.type)?Cc[t.type](t,e):Mo(t,e)}function Qa(t){return[Le(t[1],t[0]),Xt(t[2])]}function Kn(t){var e=t[0],n=t[1],r=tt(n);return[r*tt(e),r*j(e),j(n)]}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Kf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Oi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ka(t){var e=kt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ja(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ts(t,e){return ot(t)>et&&(t-=Math.round(t/Ut)*Ut),[t,e]}ts.invert=ts;function yh(t,e,n){return(t%=Ut)?e||n?Ja(Lc(t),Rc(e,n)):Lc(t):e||n?Rc(e,n):ts}function Dc(t){return function(e,n){return e+=t,ot(e)>et&&(e-=Math.round(e/Ut)*Ut),[e,n]}}function Lc(t){var e=Dc(t);return e.invert=Dc(-t),e}function Rc(t,e){var n=tt(t),r=j(t),i=tt(e),o=j(e);function f(a,s){var u=tt(s),c=tt(a)*u,d=j(a)*u,l=j(s),h=l*n+c*r;return[Le(d*i-h*o,c*n-l*r),Xt(h*i+d*o)]}return f.invert=function(a,s){var u=tt(s),c=tt(a)*u,d=j(a)*u,l=j(s),h=l*i-d*o;return[Le(d*i+l*o,c*n+h*r),Xt(h*n-c*r)]},f}function pw(t){t=yh(t[0]*ct,t[1]*ct,t.length>2?t[2]*ct:0);function e(n){return n=t(n[0]*ct,n[1]*ct),n[0]*=Ct,n[1]*=Ct,n}return e.invert=function(n){return n=t.invert(n[0]*ct,n[1]*ct),n[0]*=Ct,n[1]*=Ct,n},e}function gw(t,e,n,r,i,o){if(n){var f=tt(e),a=j(e),s=r*n;i==null?(i=e+r*Ut,o=e-s/2):(i=Pc(f,i),o=Pc(f,o),(r>0?i<o:i>o)&&(i+=r*Ut));for(var u,c=i;r>0?c>o:c<o;c-=s)u=Qa([f,-a*tt(c),-a*j(c)]),t.point(u[0],u[1])}}function Pc(t,e){e=Kn(e),e[0]-=t,Ka(e);var n=_h(-e[1]);return((-e[2]<0?-n:n)+Ut-J)%Ut}function wh(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Wt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ro(t,e){return ot(t[0]-e[0])<J&&ot(t[1]-e[1])<J}function Fi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function vh(t,e,n,r,i){var o=[],f=[],a,s;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,_=p[0],m=p[g],b;if(ro(_,m)){if(!_[2]&&!m[2]){for(i.lineStart(),a=0;a<g;++a)i.point((_=p[a])[0],_[1]);i.lineEnd();return}m[0]+=2*J}o.push(b=new Fi(_,p,null,!0)),f.push(b.o=new Fi(_,null,b,!1)),o.push(b=new Fi(m,p,null,!1)),f.push(b.o=new Fi(m,null,b,!0))}}),!!o.length){for(f.sort(e),Oc(o),Oc(f),a=0,s=f.length;a<s;++a)f[a].e=n=!n;for(var u=o[0],c,d;;){for(var l=u,h=!0;l.v;)if((l=l.n)===u)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(a=0,s=c.length;a<s;++a)i.point((d=c[a])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(c=l.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Oc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Jf(t){return ot(t[0])<=et?t[0]:Ht(t[0])*((ot(t[0])+et)%Ut-et)}function mw(t,e){var n=Jf(e),r=e[1],i=j(r),o=[j(n),-tt(n),0],f=0,a=0,s=new mn;i===1?r=lt+J:i===-1&&(r=-lt-J);for(var u=0,c=t.length;u<c;++u)if(l=(d=t[u]).length)for(var d,l,h=d[l-1],p=Jf(h),g=h[1]/2+Nc,_=j(g),m=tt(g),b=0;b<l;++b,p=y,_=v,m=M,h=w){var w=d[b],y=Jf(w),x=w[1]/2+Nc,v=j(x),M=tt(x),T=y-p,E=T>=0?1:-1,I=E*T,$=I>et,N=_*v;if(s.add(Le(N*E*j(I),m*M+N*tt(I))),f+=$?T+E*Ut:T,$^p>=n^y>=n){var S=$o(Kn(h),Kn(w));Ka(S);var D=$o(o,S);Ka(D);var A=($^T>=0?-1:1)*Xt(D[2]);(r>A||r===A&&(S[0]||S[1]))&&(a+=$^T>=0?1:-1)}}return(f<-1e-6||f<J&&s<-1e-12)^a&1}function xh(t,e,n,r){return function(i){var o=e(i),f=wh(),a=e(f),s=!1,u,c,d,l={point:h,lineStart:g,lineEnd:_,polygonStart:function(){l.point=m,l.lineStart=b,l.lineEnd=w,c=[],u=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=_,c=Id(c);var y=mw(u,r);c.length?(s||(i.polygonStart(),s=!0),vh(c,_w,y,n,i)):y&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,x){t(y,x)&&i.point(y,x)}function p(y,x){o.point(y,x)}function g(){l.point=p,o.lineStart()}function _(){l.point=h,o.lineEnd()}function m(y,x){d.push([y,x]),a.point(y,x)}function b(){a.lineStart(),d=[]}function w(){m(d[0][0],d[0][1]),a.lineEnd();var y=a.clean(),x=f.result(),v,M=x.length,T,E,I;if(d.pop(),u.push(d),d=null,!!M){if(y&1){if(E=x[0],(T=E.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),v=0;v<T;++v)i.point((I=E[v])[0],I[1]);i.lineEnd()}return}M>1&&y&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(bw))}}return l}}function bw(t){return t.length>1}function _w(t,e){return((t=t.x)[0]<0?t[1]-lt-J:lt-t[1])-((e=e.x)[0]<0?e[1]-lt-J:lt-e[1])}const Fc=xh(function(){return!0},yw,vw,[-et,-lt]);function yw(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,f){var a=o>0?et:-et,s=ot(o-e);ot(s-et)<J?(t.point(e,n=(n+f)/2>0?lt:-lt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),i=0):r!==a&&s>=et&&(ot(e-r)<J&&(e-=r*J),ot(o-a)<J&&(o-=a*J),n=ww(e,n,o,f),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=o,n=f),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function ww(t,e,n,r){var i,o,f=j(t-n);return ot(f)>J?dr((j(e)*(o=tt(r))*j(n)-j(r)*(i=tt(e))*j(t))/(i*o*f)):(e+r)/2}function vw(t,e,n,r){var i;if(t==null)i=n*lt,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(ot(t[0]-e[0])>J){var o=t[0]<e[0]?et:-et;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function xw(t){var e=tt(t),n=2*ct,r=e>0,i=ot(e)>J;function o(c,d,l,h){gw(h,t,n,l,c,d)}function f(c,d){return tt(c)*tt(d)>e}function a(c){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(_,m){var b=[_,m],w,y=f(_,m),x=r?y?0:u(_,m):y?u(_+(_<0?et:-et),m):0;if(!d&&(p=h=y)&&c.lineStart(),y!==h&&(w=s(d,b),(!w||ro(d,w)||ro(b,w))&&(b[2]=1)),y!==h)g=0,y?(c.lineStart(),w=s(b,d),c.point(w[0],w[1])):(w=s(d,b),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^y){var v;!(x&l)&&(v=s(b,d,!0))&&(g=0,r?(c.lineStart(),c.point(v[0][0],v[0][1]),c.point(v[1][0],v[1][1]),c.lineEnd()):(c.point(v[1][0],v[1][1]),c.lineEnd(),c.lineStart(),c.point(v[0][0],v[0][1],3)))}y&&(!d||!ro(d,b))&&c.point(b[0],b[1]),d=b,h=y,l=x},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function s(c,d,l){var h=Kn(c),p=Kn(d),g=[1,0,0],_=$o(h,p),m=Pi(_,_),b=_[0],w=m-b*b;if(!w)return!l&&c;var y=e*m/w,x=-e*b/w,v=$o(g,_),M=Oi(g,y),T=Oi(_,x);Kf(M,T);var E=v,I=Pi(M,E),$=Pi(E,E),N=I*I-$*(Pi(M,M)-1);if(!(N<0)){var S=kt(N),D=Oi(E,(-I-S)/$);if(Kf(D,M),D=Qa(D),!l)return D;var A=c[0],L=d[0],P=c[1],B=d[1],V;L<A&&(V=A,A=L,L=V);var O=L-A,q=ot(O-et)<J,F=q||O<J;if(!q&&B<P&&(V=P,P=B,B=V),F?q?P+B>0^D[1]<(ot(D[0]-A)<J?P:B):P<=D[1]&&D[1]<=B:O>et^(A<=D[0]&&D[0]<=L)){var U=Oi(E,(-I+S)/$);return Kf(U,M),[D,Qa(U)]}}}function u(c,d){var l=r?t:et-t,h=0;return c<-l?h|=1:c>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return xh(f,a,o,r?[0,-t]:[-et,t-et])}function Mw(t,e,n,r,i,o){var f=t[0],a=t[1],s=e[0],u=e[1],c=0,d=1,l=s-f,h=u-a,p;if(p=n-f,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>c&&(c=p)}if(p=i-f,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(t[0]=f+c*l,t[1]=a+c*h),d<1&&(e[0]=f+d*l,e[1]=a+d*h),!0}}}}}var Ui=1e9,qi=-1e9;function Mh(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,d,l){var h=0,p=0;if(u==null||(h=f(u,d))!==(p=f(c,d))||s(u,c)<0^d>0)do l.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(c[0],c[1])}function f(u,c){return ot(u[0]-t)<J?c>0?0:3:ot(u[0]-n)<J?c>0?2:1:ot(u[1]-e)<J?c>0?1:0:c>0?3:2}function a(u,c){return s(u.x,c.x)}function s(u,c){var d=f(u,1),l=f(c,1);return d!==l?d-l:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=wh(),l,h,p,g,_,m,b,w,y,x,v,M={point:T,lineStart:N,lineEnd:S,polygonStart:I,polygonEnd:$};function T(A,L){i(A,L)&&c.point(A,L)}function E(){for(var A=0,L=0,P=h.length;L<P;++L)for(var B=h[L],V=1,O=B.length,q=B[0],F,U,Z=q[0],nt=q[1];V<O;++V)F=Z,U=nt,q=B[V],Z=q[0],nt=q[1],U<=r?nt>r&&(Z-F)*(r-U)>(nt-U)*(t-F)&&++A:nt<=r&&(Z-F)*(r-U)<(nt-U)*(t-F)&&--A;return A}function I(){c=d,l=[],h=[],v=!0}function $(){var A=E(),L=v&&A,P=(l=Id(l)).length;(L||P)&&(u.polygonStart(),L&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),P&&vh(l,a,A,o,u),u.polygonEnd()),c=u,l=h=p=null}function N(){M.point=D,h&&h.push(p=[]),x=!0,y=!1,b=w=NaN}function S(){l&&(D(g,_),m&&y&&d.rejoin(),l.push(d.result())),M.point=T,y&&c.lineEnd()}function D(A,L){var P=i(A,L);if(h&&p.push([A,L]),x)g=A,_=L,m=P,x=!1,P&&(c.lineStart(),c.point(A,L));else if(P&&y)c.point(A,L);else{var B=[b=Math.max(qi,Math.min(Ui,b)),w=Math.max(qi,Math.min(Ui,w))],V=[A=Math.max(qi,Math.min(Ui,A)),L=Math.max(qi,Math.min(Ui,L))];Mw(B,V,t,e,n,r)?(y||(c.lineStart(),c.point(B[0],B[1])),c.point(V[0],V[1]),P||c.lineEnd(),v=!1):P&&(c.lineStart(),c.point(A,L),v=!1)}b=A,w=L,y=P}return M}}const es=t=>t;var ta=new mn,ns=new mn,$h,Ah,rs,is,Ee={point:Wt,lineStart:Wt,lineEnd:Wt,polygonStart:function(){Ee.lineStart=$w,Ee.lineEnd=Tw},polygonEnd:function(){Ee.lineStart=Ee.lineEnd=Ee.point=Wt,ta.add(ot(ns)),ns=new mn},result:function(){var t=ta/2;return ta=new mn,t}};function $w(){Ee.point=Aw}function Aw(t,e){Ee.point=Th,$h=rs=t,Ah=is=e}function Th(t,e){ns.add(is*t-rs*e),rs=t,is=e}function Tw(){Th($h,Ah)}var Jn=1/0,Ao=Jn,Zr=-Jn,To=Zr,Eo={point:Ew,lineStart:Wt,lineEnd:Wt,polygonStart:Wt,polygonEnd:Wt,result:function(){var t=[[Jn,Ao],[Zr,To]];return Zr=To=-(Ao=Jn=1/0),t}};function Ew(t,e){t<Jn&&(Jn=t),t>Zr&&(Zr=t),e<Ao&&(Ao=e),e>To&&(To=e)}var os=0,fs=0,Ir=0,So=0,No=0,Fn=0,as=0,ss=0,kr=0,Eh,Sh,se,ue,zt={point:vn,lineStart:Uc,lineEnd:qc,polygonStart:function(){zt.lineStart=Cw,zt.lineEnd=Iw},polygonEnd:function(){zt.point=vn,zt.lineStart=Uc,zt.lineEnd=qc},result:function(){var t=kr?[as/kr,ss/kr]:Fn?[So/Fn,No/Fn]:Ir?[os/Ir,fs/Ir]:[NaN,NaN];return os=fs=Ir=So=No=Fn=as=ss=kr=0,t}};function vn(t,e){os+=t,fs+=e,++Ir}function Uc(){zt.point=Sw}function Sw(t,e){zt.point=Nw,vn(se=t,ue=e)}function Nw(t,e){var n=t-se,r=e-ue,i=kt(n*n+r*r);So+=i*(se+t)/2,No+=i*(ue+e)/2,Fn+=i,vn(se=t,ue=e)}function qc(){zt.point=vn}function Cw(){zt.point=kw}function Iw(){Nh(Eh,Sh)}function kw(t,e){zt.point=Nh,vn(Eh=se=t,Sh=ue=e)}function Nh(t,e){var n=t-se,r=e-ue,i=kt(n*n+r*r);So+=i*(se+t)/2,No+=i*(ue+e)/2,Fn+=i,i=ue*t-se*e,as+=i*(se+t),ss+=i*(ue+e),kr+=i*3,vn(se=t,ue=e)}function Ch(t){this._context=t}Ch.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ut);break}}},result:Wt};var us=new mn,ea,Ih,kh,Dr,Lr,jr={point:Wt,lineStart:function(){jr.point=Dw},lineEnd:function(){ea&&Dh(Ih,kh),jr.point=Wt},polygonStart:function(){ea=!0},polygonEnd:function(){ea=null},result:function(){var t=+us;return us=new mn,t}};function Dw(t,e){jr.point=Dh,Ih=Dr=t,kh=Lr=e}function Dh(t,e){Dr-=t,Lr-=e,us.add(kt(Dr*Dr+Lr*Lr)),Dr=t,Lr=e}let Bc,Co,Yc,zc;class Hc{constructor(e){this._append=e==null?Lh:Lw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Yc||this._append!==Co){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yc=r,Co=this._append,zc=this._,this._=i}this._+=zc;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Lh(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Lh;if(e!==Bc){const n=10**e;Bc=e,Co=function(i){let o=1;this._+=i[0];for(const f=i.length;o<f;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Co}function af(t,e){let n=3,r=4.5,i,o;function f(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),an(a,i(o))),o.result()}return f.area=function(a){return an(a,i(Ee)),Ee.result()},f.measure=function(a){return an(a,i(jr)),jr.result()},f.bounds=function(a){return an(a,i(Eo)),Eo.result()},f.centroid=function(a){return an(a,i(zt)),zt.result()},f.projection=function(a){return arguments.length?(i=a==null?(t=null,es):(t=a).stream,f):t},f.context=function(a){return arguments.length?(o=a==null?(e=null,new Hc(n)):new Ch(e=a),typeof r!="function"&&o.pointRadius(r),f):e},f.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),f):r},f.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);n=s}return e===null&&(o=new Hc(n)),f},f.projection(t).digits(n).context(e)}function cs(t){return{stream:sf(t)}}function sf(t){return function(e){var n=new ls;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ls(){}ls.prototype={constructor:ls,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function iu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),an(n,t.stream(Eo)),e(Eo.result()),r!=null&&t.clipExtent(r),t}function ou(t,e,n){return iu(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],f=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+e[0][0]+(i-f*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(o-f*(r[1][1]+r[0][1]))/2;t.scale(150*f).translate([a,s])},n)}function Rh(t,e,n){return ou(t,[[0,0],e],n)}function Ph(t,e,n){return iu(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),f=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];t.scale(150*o).translate([f,a])},n)}function Oh(t,e,n){return iu(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),f=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,a])},n)}var Wc=16,Rw=tt(30*ct);function Vc(t,e){return+e?Ow(t,e):Pw(t)}function Pw(t){return sf({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ow(t,e){function n(r,i,o,f,a,s,u,c,d,l,h,p,g,_){var m=u-r,b=c-i,w=m*m+b*b;if(w>4*e&&g--){var y=f+l,x=a+h,v=s+p,M=kt(y*y+x*x+v*v),T=Xt(v/=M),E=ot(ot(v)-1)<J||ot(o-d)<J?(o+d)/2:Le(x,y),I=t(E,T),$=I[0],N=I[1],S=$-r,D=N-i,A=b*S-m*D;(A*A/w>e||ot((m*S+b*D)/w-.5)>.3||f*l+a*h+s*p<Rw)&&(n(r,i,o,f,a,s,$,N,E,y/=M,x/=M,v,g,_),_.point($,N),n($,N,E,y,x,v,u,c,d,l,h,p,g,_))}}return function(r){var i,o,f,a,s,u,c,d,l,h,p,g,_={point:m,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),_.lineStart=x},polygonEnd:function(){r.polygonEnd(),_.lineStart=b}};function m(T,E){T=t(T,E),r.point(T[0],T[1])}function b(){d=NaN,_.point=w,r.lineStart()}function w(T,E){var I=Kn([T,E]),$=t(T,E);n(d,l,c,h,p,g,d=$[0],l=$[1],c=T,h=I[0],p=I[1],g=I[2],Wc,r),r.point(d,l)}function y(){_.point=m,r.lineEnd()}function x(){b(),_.point=v,_.lineEnd=M}function v(T,E){w(i=T,E),o=d,f=l,a=h,s=p,u=g,_.point=w}function M(){n(d,l,c,h,p,g,o,f,i,a,s,u,Wc,r),_.lineEnd=y,y()}return _}}var Fw=sf({point:function(t,e){this.stream.point(t*ct,e*ct)}});function Uw(t){return sf({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function qw(t,e,n,r,i){function o(f,a){return f*=r,a*=i,[e+t*f,n-t*a]}return o.invert=function(f,a){return[(f-e)/t*r,(n-a)/t*i]},o}function Gc(t,e,n,r,i,o){if(!o)return qw(t,e,n,r,i);var f=tt(o),a=j(o),s=f*t,u=a*t,c=f/t,d=a/t,l=(a*n-f*e)/t,h=(a*e+f*n)/t;function p(g,_){return g*=r,_*=i,[s*g-u*_+e,n-u*g-s*_]}return p.invert=function(g,_){return[r*(c*g-d*_+l),i*(h-d*g-c*_)]},p}function Qe(t){return Fh(function(){return t})()}function Fh(t){var e,n=150,r=480,i=250,o=0,f=0,a=0,s=0,u=0,c,d=0,l=1,h=1,p=null,g=Fc,_=null,m,b,w,y=es,x=.5,v,M,T,E,I;function $(A){return T(A[0]*ct,A[1]*ct)}function N(A){return A=T.invert(A[0],A[1]),A&&[A[0]*Ct,A[1]*Ct]}$.stream=function(A){return E&&I===A?E:E=Fw(Uw(c)(g(v(y(I=A)))))},$.preclip=function(A){return arguments.length?(g=A,p=void 0,D()):g},$.postclip=function(A){return arguments.length?(y=A,_=m=b=w=null,D()):y},$.clipAngle=function(A){return arguments.length?(g=+A?xw(p=A*ct):(p=null,Fc),D()):p*Ct},$.clipExtent=function(A){return arguments.length?(y=A==null?(_=m=b=w=null,es):Mh(_=+A[0][0],m=+A[0][1],b=+A[1][0],w=+A[1][1]),D()):_==null?null:[[_,m],[b,w]]},$.scale=function(A){return arguments.length?(n=+A,S()):n},$.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],S()):[r,i]},$.center=function(A){return arguments.length?(o=A[0]%360*ct,f=A[1]%360*ct,S()):[o*Ct,f*Ct]},$.rotate=function(A){return arguments.length?(a=A[0]%360*ct,s=A[1]%360*ct,u=A.length>2?A[2]%360*ct:0,S()):[a*Ct,s*Ct,u*Ct]},$.angle=function(A){return arguments.length?(d=A%360*ct,S()):d*Ct},$.reflectX=function(A){return arguments.length?(l=A?-1:1,S()):l<0},$.reflectY=function(A){return arguments.length?(h=A?-1:1,S()):h<0},$.precision=function(A){return arguments.length?(v=Vc(M,x=A*A),D()):kt(x)},$.fitExtent=function(A,L){return ou($,A,L)},$.fitSize=function(A,L){return Rh($,A,L)},$.fitWidth=function(A,L){return Ph($,A,L)},$.fitHeight=function(A,L){return Oh($,A,L)};function S(){var A=Gc(n,0,0,l,h,d).apply(null,e(o,f)),L=Gc(n,r-A[0],i-A[1],l,h,d);return c=yh(a,s,u),M=Ja(e,L),T=Ja(c,M),v=Vc(M,x),D()}function D(){return E=I=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&N,S()}}function fu(t){var e=0,n=et/3,r=Fh(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*ct,n=o[1]*ct):[e*Ct,n*Ct]},i}function Bw(t){var e=tt(t);function n(r,i){return[r*e,j(i)/e]}return n.invert=function(r,i){return[r/e,Xt(i*e)]},n}function Yw(t,e){var n=j(t),r=(n+j(e))/2;if(ot(r)<J)return Bw(t);var i=1+n*(2*r-n),o=kt(i)/r;function f(a,s){var u=kt(i-2*r*j(s))/r;return[u*j(a*=r),o-u*tt(a)]}return f.invert=function(a,s){var u=o-s,c=Le(a,ot(u))*Ht(u);return u*r<0&&(c-=et*Ht(a)*Ht(u)),[c/r,Xt((i-(a*a+u*u)*r*r)/(2*r))]},f}function Io(){return fu(Yw).scale(155.424).center([0,33.6442])}function Uh(){return Io().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zw(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Hw(){var t,e,n=Uh(),r,i=Io().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,f=Io().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,s,u={point:function(l,h){s=[l,h]}};function c(l){var h=l[0],p=l[1];return s=null,r.point(h,p),s||(o.point(h,p),s)||(a.point(h,p),s)}c.invert=function(l){var h=n.scale(),p=n.translate(),g=(l[0]-p[0])/h,_=(l[1]-p[1])/h;return(_>=.12&&_<.234&&g>=-.425&&g<-.214?i:_>=.166&&_<.234&&g>=-.214&&g<-.115?f:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=zw([n.stream(e=l),i.stream(l),f.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),f.precision(l),d()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),f.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+J,g+.12*h+J],[p-.214*h-J,g+.234*h-J]]).stream(u),a=f.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+J,g+.166*h+J],[p-.115*h-J,g+.234*h-J]]).stream(u),d()},c.fitExtent=function(l,h){return ou(c,l,h)},c.fitSize=function(l,h){return Rh(c,l,h)},c.fitWidth=function(l,h){return Ph(c,l,h)},c.fitHeight=function(l,h){return Oh(c,l,h)};function d(){return t=e=null,c}return c.scale(1070)}function qh(t){return function(e,n){var r=tt(e),i=tt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*j(e),o*j(n)]}}function ui(t){return function(e,n){var r=kt(e*e+n*n),i=t(r),o=j(i),f=tt(i);return[Le(e*o,r*f),Xt(r&&n*o/r)]}}var Bh=qh(function(t){return kt(2/(1+t))});Bh.invert=ui(function(t){return 2*Xt(t/2)});function Ww(){return Qe(Bh).scale(124.75).clipAngle(180-.001)}var Yh=qh(function(t){return(t=_h(t))&&t/j(t)});Yh.invert=ui(function(t){return t});function Vw(){return Qe(Yh).scale(79.4188).clipAngle(180-.001)}function uf(t,e){return[t,xo(ru((lt+e)/2))]}uf.invert=function(t,e){return[t,2*dr(bh(e))-lt]};function Gw(){return zh(uf).scale(961/Ut)}function zh(t){var e=Qe(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,f=null,a,s,u;e.scale=function(d){return arguments.length?(r(d),c()):r()},e.translate=function(d){return arguments.length?(i(d),c()):i()},e.center=function(d){return arguments.length?(n(d),c()):n()},e.clipExtent=function(d){return arguments.length?(d==null?f=a=s=u=null:(f=+d[0][0],a=+d[0][1],s=+d[1][0],u=+d[1][1]),c()):f==null?null:[[f,a],[s,u]]};function c(){var d=et*r(),l=e(pw(e.rotate()).invert([0,0]));return o(f==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===uf?[[Math.max(l[0]-d,f),a],[Math.min(l[0]+d,s),u]]:[[f,Math.max(l[1]-d,a)],[s,Math.min(l[1]+d,u)]])}return c()}function Bi(t){return ru((lt+t)/2)}function Xw(t,e){var n=tt(t),r=t===e?j(t):xo(n/tt(e))/xo(Bi(e)/Bi(t)),i=n*Qf(Bi(t),r)/r;if(!r)return uf;function o(f,a){i>0?a<-lt+J&&(a=-lt+J):a>lt-J&&(a=lt-J);var s=i/Qf(Bi(a),r);return[s*j(r*f),i-s*tt(r*f)]}return o.invert=function(f,a){var s=i-a,u=Ht(r)*kt(f*f+s*s),c=Le(f,ot(s))*Ht(s);return s*r<0&&(c-=et*Ht(f)*Ht(s)),[c/r,2*dr(Qf(i/u,1/r))-lt]},o}function Zw(){return fu(Xw).scale(109.5).parallels([30,30])}function ko(t,e){return[t,e]}ko.invert=ko;function jw(){return Qe(ko).scale(152.63)}function Qw(t,e){var n=tt(t),r=t===e?j(t):(n-tt(e))/(e-t),i=n/r+t;if(ot(r)<J)return ko;function o(f,a){var s=i-a,u=r*f;return[s*j(u),i-s*tt(u)]}return o.invert=function(f,a){var s=i-a,u=Le(f,ot(s))*Ht(s);return s*r<0&&(u-=et*Ht(f)*Ht(s)),[u/r,i-Ht(r)*kt(f*f+s*s)]},o}function Kw(){return fu(Qw).scale(131.154).center([0,13.9389])}var Ur=1.340264,qr=-.081106,Br=893e-6,Yr=.003796,Do=kt(3)/2,Jw=12;function Hh(t,e){var n=Xt(Do*j(e)),r=n*n,i=r*r*r;return[t*tt(n)/(Do*(Ur+3*qr*r+i*(7*Br+9*Yr*r))),n*(Ur+qr*r+i*(Br+Yr*r))]}Hh.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,f,a,s;o<Jw&&(a=n*(Ur+qr*r+i*(Br+Yr*r))-e,s=Ur+3*qr*r+i*(7*Br+9*Yr*r),n-=f=a/s,r=n*n,i=r*r*r,!(ot(f)<hw));++o);return[Do*t*(Ur+3*qr*r+i*(7*Br+9*Yr*r))/tt(n),Xt(j(n)/Do)]};function tv(){return Qe(Hh).scale(177.158)}function Wh(t,e){var n=tt(e),r=tt(t)*n;return[n*j(t)/r,j(e)/r]}Wh.invert=ui(dr);function ev(){return Qe(Wh).scale(144.049).clipAngle(60)}function Vh(t,e){return[tt(e)*j(t),j(e)]}Vh.invert=ui(Xt);function nv(){return Qe(Vh).scale(249.5).clipAngle(90+J)}function Gh(t,e){var n=tt(e),r=1+tt(t)*n;return[n*j(t)/r,j(e)/r]}Gh.invert=ui(function(t){return 2*dr(t)});function rv(){return Qe(Gh).scale(250).clipAngle(142)}function Xh(t,e){return[xo(ru((lt+e)/2)),-t]}Xh.invert=function(t,e){return[-e,2*dr(bh(t))-lt]};function iv(){var t=zh(Xh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function _e(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ds=Symbol("implicit");function au(){var t=new zr,e=[],n=[],r=ds;function i(o){let f=t.get(o);if(f===void 0){if(r!==ds)return r;t.set(o,f=e.push(o)-1)}return n[f%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zr;for(const f of o)t.has(f)||t.set(f,e.push(f)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return au(e,n).unknown(r)},_e.apply(i,arguments),i}function lf(){var t=au().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,f,a=!1,s=0,u=0,c=.5;delete t.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,l-s+u*2),a&&(o=Math.floor(o)),p+=(g-p-o*(l-s))*c,f=o*(1-s),a&&(p=Math.round(p),f=Math.round(f));var _=Oa(l).map(function(m){return p+o*m});return n(h?_.reverse():_)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return f},t.step=function(){return o},t.round=function(l){return arguments.length?(a=!!l,d()):a},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),d()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),d()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,d()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),d()):c},t.copy=function(){return lf(e(),[r,i]).round(a).paddingInner(s).paddingOuter(u).align(c)},_e.apply(d(),arguments)}function Zh(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Zh(e())},t}function ov(){return Zh(lf.apply(null,arguments).paddingInner(1))}function fv(t){return function(){return t}}function hs(t){return+t}var Xc=[0,1];function Vt(t){return t}function ps(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fv(isNaN(e)?NaN:.5)}function av(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function sv(t,e,n){var r=t[0],i=t[1],o=e[0],f=e[1];return i<r?(r=ps(i,r),o=n(f,o)):(r=ps(r,i),o=n(o,f)),function(a){return o(r(a))}}function uv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),f=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<r;)i[f]=ps(t[f],t[f+1]),o[f]=n(e[f],e[f+1]);return function(a){var s=Ys(t,a,1,r)-1;return o[s](i[s](a))}}function ci(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function df(){var t=Xc,e=Xc,n=si,r,i,o,f=Vt,a,s,u;function c(){var l=Math.min(t.length,e.length);return f!==Vt&&(f=av(t[0],t[l-1])),a=l>2?uv:sv,s=u=null,d}function d(l){return l==null||isNaN(l=+l)?o:(s||(s=a(t.map(r),e,n)))(r(f(l)))}return d.invert=function(l){return f(i((u||(u=a(e,t.map(r),At)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,hs),c()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),n=Qs,c()},d.clamp=function(l){return arguments.length?(f=l?!0:Vt,c()):f!==Vt},d.interpolate=function(l){return arguments.length?(n=l,c()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,c()}}function jh(){return df()(Vt,Vt)}function cv(t,e,n,r){var i=Ra(t,e,n),o;switch(r=Xr(r??",f"),r.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=lw(i,f))&&(r.precision=o),mh(r,f)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dw(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cw(i))&&(r.precision=o-(r.type==="%")*2);break}}return lr(r)}function li(t){var e=t.domain;return t.ticks=function(n){var r=e();return lo(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return cv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,f=r[i],a=r[o],s,u,c=10;for(a<f&&(u=f,f=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=La(f,a,n),u===s)return r[i]=f,r[o]=a,e(r);if(u>0)f=Math.floor(f/u)*u,a=Math.ceil(a/u)*u;else if(u<0)f=Math.ceil(f*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function su(){var t=jh();return t.copy=function(){return ci(t,su())},_e.apply(t,arguments),li(t)}function Qh(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hs),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Qh(t).unknown(e)},t=arguments.length?Array.from(t,hs):[0,1],li(n)}function Kh(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],f;return o<i&&(f=n,n=r,r=f,f=i,i=o,o=f),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Zc(t){return Math.log(t)}function jc(t){return Math.exp(t)}function lv(t){return-Math.log(-t)}function dv(t){return-Math.exp(-t)}function hv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pv(t){return t===10?hv:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qc(t){return(e,n)=>-t(-e,n)}function Jh(t){const e=t(Zc,jc),n=e.domain;let r=10,i,o;function f(){return i=gv(r),o=pv(r),n()[0]<0?(i=Qc(i),o=Qc(o),t(lv,dv)):t(Zc,jc),e}return e.base=function(a){return arguments.length?(r=+a,f()):r},e.domain=function(a){return arguments.length?(n(a),f()):n()},e.ticks=a=>{const s=n();let u=s[0],c=s[s.length-1];const d=c<u;d&&([u,c]=[c,u]);let l=i(u),h=i(c),p,g;const _=a==null?10:+a;let m=[];if(!(r%1)&&h-l<_){if(l=Math.floor(l),h=Math.ceil(h),u>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<u)){if(g>c)break;m.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<u)){if(g>c)break;m.push(g)}m.length*2<_&&(m=lo(u,c,_))}else m=lo(l,h,Math.min(h-l,_)).map(o);return d?m.reverse():m},e.tickFormat=(a,s)=>{if(a==null&&(a=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Xr(s)).precision==null&&(s.trim=!0),s=lr(s)),a===1/0)return s;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?s(c):""}},e.nice=()=>n(Kh(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function t0(){const t=Jh(df()).domain([1,10]);return t.copy=()=>ci(t,t0()).base(t.base()),_e.apply(t,arguments),t}function Kc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Jc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e0(t){var e=1,n=t(Kc(e),Jc(e));return n.constant=function(r){return arguments.length?t(Kc(e=+r),Jc(e)):e},li(n)}function n0(){var t=e0(df());return t.copy=function(){return ci(t,n0()).constant(t.constant())},_e.apply(t,arguments)}function tl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bv(t){return t<0?-t*t:t*t}function r0(t){var e=t(Vt,Vt),n=1;function r(){return n===1?t(Vt,Vt):n===.5?t(mv,bv):t(tl(n),tl(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},li(e)}function i0(){var t=r0(df());return t.copy=function(){return ci(t,i0()).exponent(t.exponent())},_e.apply(t,arguments),t}function o0(){var t=[],e=[],n=[],r;function i(){var f=0,a=Math.max(1,e.length);for(n=new Array(a-1);++f<a;)n[f-1]=cb(t,f/a);return o}function o(f){return f==null||isNaN(f=+f)?r:e[Ys(n,f)]}return o.invertExtent=function(f){var a=e.indexOf(f);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let a of f)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ze),i()},o.range=function(f){return arguments.length?(e=Array.from(f),i()):e.slice()},o.unknown=function(f){return arguments.length?(r=f,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return o0().domain(t).range(e).unknown(r)},_e.apply(o,arguments)}function f0(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ys(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var f=e.indexOf(o);return[t[f-1],t[f]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return f0().domain(t).range(e).unknown(n)},_e.apply(i,arguments)}const na=new Date,ra=new Date;function mt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const f=i(o),a=i.ceil(o);return o-f<a-o?f:a},i.offset=(o,f)=>(e(o=new Date(+o),f==null?1:Math.floor(f)),o),i.range=(o,f,a)=>{const s=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<f)||!(a>0))return s;let u;do s.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<f);return s},i.filter=o=>mt(f=>{if(f>=f)for(;t(f),!o(f);)f.setTime(f-1)},(f,a)=>{if(f>=f)if(a<0)for(;++a<=0;)for(;e(f,-1),!o(f););else for(;--a>=0;)for(;e(f,1),!o(f););}),n&&(i.count=(o,f)=>(na.setTime(+o),ra.setTime(+f),t(na),t(ra),Math.floor(n(na,ra))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?f=>r(f)%o===0:f=>i.count(0,f)%o===0):i)),i}const Lo=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lo);Lo.range;const Ne=1e3,Gt=Ne*60,Ce=Gt*60,Re=Ce*24,uu=Re*7,el=Re*30,ia=Re*365,Kt=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ne)},(t,e)=>(e-t)/Ne,t=>t.getUTCSeconds());Kt.range;const di=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne)},(t,e)=>{t.setTime(+t+e*Gt)},(t,e)=>(e-t)/Gt,t=>t.getMinutes());di.range;const hi=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gt)},(t,e)=>(e-t)/Gt,t=>t.getUTCMinutes());hi.range;const pi=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne-t.getMinutes()*Gt)},(t,e)=>{t.setTime(+t+e*Ce)},(t,e)=>(e-t)/Ce,t=>t.getHours());pi.range;const gi=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ce)},(t,e)=>(e-t)/Ce,t=>t.getUTCHours());gi.range;const En=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gt)/Re,t=>t.getDate()-1);En.range;const hf=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Re,t=>t.getUTCDate()-1);hf.range;const pf=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Re,t=>Math.floor(t/Re));pf.range;function Sn(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gt)/uu)}const tr=Sn(0),Qr=Sn(1),a0=Sn(2),s0=Sn(3),xn=Sn(4),u0=Sn(5),c0=Sn(6);tr.range;Qr.range;a0.range;s0.range;xn.range;u0.range;c0.range;function Nn(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uu)}const er=Nn(0),Kr=Nn(1),l0=Nn(2),d0=Nn(3),Mn=Nn(4),h0=Nn(5),p0=Nn(6);er.range;Kr.range;l0.range;d0.range;Mn.range;h0.range;p0.range;const mi=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mi.range;const bi=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bi.range;const te=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());te.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});te.range;const ee=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ee.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ee.range;function g0(t,e,n,r,i,o){const f=[[Kt,1,Ne],[Kt,5,5*Ne],[Kt,15,15*Ne],[Kt,30,30*Ne],[o,1,Gt],[o,5,5*Gt],[o,15,15*Gt],[o,30,30*Gt],[i,1,Ce],[i,3,3*Ce],[i,6,6*Ce],[i,12,12*Ce],[r,1,Re],[r,2,2*Re],[n,1,uu],[e,1,el],[e,3,3*el],[t,1,ia]];function a(u,c,d){const l=c<u;l&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:s(u,c,d),p=h?h.range(u,+c+1):[];return l?p.reverse():p}function s(u,c,d){const l=Math.abs(c-u)/d,h=Qo(([,,_])=>_).right(f,l);if(h===f.length)return t.every(Ra(u/ia,c/ia,d));if(h===0)return Lo.every(Math.max(Ra(u,c,d),1));const[p,g]=f[l/f[h-1][2]<f[h][2]/l?h-1:h];return p.every(g)}return[a,s]}const[_v,yv]=g0(ee,bi,er,pf,gi,hi),[wv,vv]=g0(te,mi,tr,En,pi,di);function oa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fa(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xv(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,f=t.shortDays,a=t.months,s=t.shortMonths,u=$r(i),c=Ar(i),d=$r(o),l=Ar(o),h=$r(f),p=Ar(f),g=$r(a),_=Ar(a),m=$r(s),b=Ar(s),w={a:P,A:B,b:V,B:O,c:null,d:al,e:al,f:Wv,g:e6,G:r6,H:Yv,I:zv,j:Hv,L:m0,m:Vv,M:Gv,p:q,q:F,Q:cl,s:ll,S:Xv,u:Zv,U:jv,V:Qv,w:Kv,W:Jv,x:null,X:null,y:t6,Y:n6,Z:i6,"%":ul},y={a:U,A:Z,b:nt,B:K,c:null,d:sl,e:sl,f:s6,g:_6,G:w6,H:o6,I:f6,j:a6,L:_0,m:u6,M:c6,p:z,q:H,Q:cl,s:ll,S:l6,u:d6,U:h6,V:p6,w:g6,W:m6,x:null,X:null,y:b6,Y:y6,Z:v6,"%":ul},x={a:I,A:$,b:N,B:S,c:D,d:ol,e:ol,f:Fv,g:il,G:rl,H:fl,I:fl,j:Lv,L:Ov,m:Dv,M:Rv,p:E,q:kv,Q:qv,s:Bv,S:Pv,u:Ev,U:Sv,V:Nv,w:Tv,W:Cv,x:A,X:L,y:il,Y:rl,Z:Iv,"%":Uv};w.x=v(n,w),w.X=v(r,w),w.c=v(e,w),y.x=v(n,y),y.X=v(r,y),y.c=v(e,y);function v(k,Y){return function(W){var C=[],ft=-1,X=0,ut=k.length,ht,Dt,Dn;for(W instanceof Date||(W=new Date(+W));++ft<ut;)k.charCodeAt(ft)===37&&(C.push(k.slice(X,ft)),(Dt=nl[ht=k.charAt(++ft)])!=null?ht=k.charAt(++ft):Dt=ht==="e"?" ":"0",(Dn=Y[ht])&&(ht=Dn(W,Dt)),C.push(ht),X=ft+1);return C.push(k.slice(X,ft)),C.join("")}}function M(k,Y){return function(W){var C=Mr(1900,void 0,1),ft=T(C,k,W+="",0),X,ut;if(ft!=W.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(Y&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(X=fa(Mr(C.y,0,1)),ut=X.getUTCDay(),X=ut>4||ut===0?Kr.ceil(X):Kr(X),X=hf.offset(X,(C.V-1)*7),C.y=X.getUTCFullYear(),C.m=X.getUTCMonth(),C.d=X.getUTCDate()+(C.w+6)%7):(X=oa(Mr(C.y,0,1)),ut=X.getDay(),X=ut>4||ut===0?Qr.ceil(X):Qr(X),X=En.offset(X,(C.V-1)*7),C.y=X.getFullYear(),C.m=X.getMonth(),C.d=X.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ut="Z"in C?fa(Mr(C.y,0,1)).getUTCDay():oa(Mr(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ut+5)%7:C.w+C.U*7-(ut+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,fa(C)):oa(C)}}function T(k,Y,W,C){for(var ft=0,X=Y.length,ut=W.length,ht,Dt;ft<X;){if(C>=ut)return-1;if(ht=Y.charCodeAt(ft++),ht===37){if(ht=Y.charAt(ft++),Dt=x[ht in nl?Y.charAt(ft++):ht],!Dt||(C=Dt(k,W,C))<0)return-1}else if(ht!=W.charCodeAt(C++))return-1}return C}function E(k,Y,W){var C=u.exec(Y.slice(W));return C?(k.p=c.get(C[0].toLowerCase()),W+C[0].length):-1}function I(k,Y,W){var C=h.exec(Y.slice(W));return C?(k.w=p.get(C[0].toLowerCase()),W+C[0].length):-1}function $(k,Y,W){var C=d.exec(Y.slice(W));return C?(k.w=l.get(C[0].toLowerCase()),W+C[0].length):-1}function N(k,Y,W){var C=m.exec(Y.slice(W));return C?(k.m=b.get(C[0].toLowerCase()),W+C[0].length):-1}function S(k,Y,W){var C=g.exec(Y.slice(W));return C?(k.m=_.get(C[0].toLowerCase()),W+C[0].length):-1}function D(k,Y,W){return T(k,e,Y,W)}function A(k,Y,W){return T(k,n,Y,W)}function L(k,Y,W){return T(k,r,Y,W)}function P(k){return f[k.getDay()]}function B(k){return o[k.getDay()]}function V(k){return s[k.getMonth()]}function O(k){return a[k.getMonth()]}function q(k){return i[+(k.getHours()>=12)]}function F(k){return 1+~~(k.getMonth()/3)}function U(k){return f[k.getUTCDay()]}function Z(k){return o[k.getUTCDay()]}function nt(k){return s[k.getUTCMonth()]}function K(k){return a[k.getUTCMonth()]}function z(k){return i[+(k.getUTCHours()>=12)]}function H(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var Y=v(k+="",w);return Y.toString=function(){return k},Y},parse:function(k){var Y=M(k+="",!1);return Y.toString=function(){return k},Y},utcFormat:function(k){var Y=v(k+="",y);return Y.toString=function(){return k},Y},utcParse:function(k){var Y=M(k+="",!0);return Y.toString=function(){return k},Y}}}var nl={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,Mv=/^%/,$v=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Av(t){return t.replace($v,"\\$&")}function $r(t){return new RegExp("^(?:"+t.map(Av).join("|")+")","i")}function Ar(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tv(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ev(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rl(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function il(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kv(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Dv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ol(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Lv(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fl(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Pv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ov(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Fv(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uv(t,e,n){var r=Mv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qv(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Bv(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function al(t,e){return rt(t.getDate(),e,2)}function Yv(t,e){return rt(t.getHours(),e,2)}function zv(t,e){return rt(t.getHours()%12||12,e,2)}function Hv(t,e){return rt(1+En.count(te(t),t),e,3)}function m0(t,e){return rt(t.getMilliseconds(),e,3)}function Wv(t,e){return m0(t,e)+"000"}function Vv(t,e){return rt(t.getMonth()+1,e,2)}function Gv(t,e){return rt(t.getMinutes(),e,2)}function Xv(t,e){return rt(t.getSeconds(),e,2)}function Zv(t){var e=t.getDay();return e===0?7:e}function jv(t,e){return rt(tr.count(te(t)-1,t),e,2)}function b0(t){var e=t.getDay();return e>=4||e===0?xn(t):xn.ceil(t)}function Qv(t,e){return t=b0(t),rt(xn.count(te(t),t)+(te(t).getDay()===4),e,2)}function Kv(t){return t.getDay()}function Jv(t,e){return rt(Qr.count(te(t)-1,t),e,2)}function t6(t,e){return rt(t.getFullYear()%100,e,2)}function e6(t,e){return t=b0(t),rt(t.getFullYear()%100,e,2)}function n6(t,e){return rt(t.getFullYear()%1e4,e,4)}function r6(t,e){var n=t.getDay();return t=n>=4||n===0?xn(t):xn.ceil(t),rt(t.getFullYear()%1e4,e,4)}function i6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function sl(t,e){return rt(t.getUTCDate(),e,2)}function o6(t,e){return rt(t.getUTCHours(),e,2)}function f6(t,e){return rt(t.getUTCHours()%12||12,e,2)}function a6(t,e){return rt(1+hf.count(ee(t),t),e,3)}function _0(t,e){return rt(t.getUTCMilliseconds(),e,3)}function s6(t,e){return _0(t,e)+"000"}function u6(t,e){return rt(t.getUTCMonth()+1,e,2)}function c6(t,e){return rt(t.getUTCMinutes(),e,2)}function l6(t,e){return rt(t.getUTCSeconds(),e,2)}function d6(t){var e=t.getUTCDay();return e===0?7:e}function h6(t,e){return rt(er.count(ee(t)-1,t),e,2)}function y0(t){var e=t.getUTCDay();return e>=4||e===0?Mn(t):Mn.ceil(t)}function p6(t,e){return t=y0(t),rt(Mn.count(ee(t),t)+(ee(t).getUTCDay()===4),e,2)}function g6(t){return t.getUTCDay()}function m6(t,e){return rt(Kr.count(ee(t)-1,t),e,2)}function b6(t,e){return rt(t.getUTCFullYear()%100,e,2)}function _6(t,e){return t=y0(t),rt(t.getUTCFullYear()%100,e,2)}function y6(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function w6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mn(t):Mn.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function v6(){return"+0000"}function ul(){return"%"}function cl(t){return+t}function ll(t){return Math.floor(+t/1e3)}var Ln,cu,_i;x6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x6(t){return Ln=xv(t),cu=Ln.format,Ln.parse,_i=Ln.utcFormat,Ln.utcParse,Ln}function M6(t){return new Date(t)}function $6(t){return t instanceof Date?+t:+new Date(+t)}function lu(t,e,n,r,i,o,f,a,s,u){var c=jh(),d=c.invert,l=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),_=u("%I %p"),m=u("%a %d"),b=u("%b %d"),w=u("%B"),y=u("%Y");function x(v){return(s(v)<v?h:a(v)<v?p:f(v)<v?g:o(v)<v?_:r(v)<v?i(v)<v?m:b:n(v)<v?w:y)(v)}return c.invert=function(v){return new Date(d(v))},c.domain=function(v){return arguments.length?l(Array.from(v,$6)):l().map(M6)},c.ticks=function(v){var M=l();return t(M[0],M[M.length-1],v??10)},c.tickFormat=function(v,M){return M==null?x:u(M)},c.nice=function(v){var M=l();return(!v||typeof v.range!="function")&&(v=e(M[0],M[M.length-1],v??10)),v?l(Kh(M,v)):c},c.copy=function(){return ci(c,lu(t,e,n,r,i,o,f,a,s,u))},c}function A6(){return _e.apply(lu(wv,vv,te,mi,tr,En,pi,di,Kt,cu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T6(){return _e.apply(lu(_v,yv,ee,bi,er,hf,gi,hi,Kt,_i).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mf(){var t=0,e=.5,n=1,r=1,i,o,f,a,s,u=Vt,c,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:s),u(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),f=c(n=+n),a=i===o?0:.5/(o-i),s=o===f?0:.5/(f-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(_){var m,b,w;return arguments.length?([m,b,w]=_,u=rf(g,[m,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(si),h.rangeRound=p(Qs),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return c=g,i=g(t),o=g(e),f=g(n),a=i===o?0:.5/(o-i),s=o===f?0:.5/(f-o),r=o<i?-1:1,h}}function w0(){var t=li(mf()(Vt));return t.copy=function(){return gf(t,w0())},cf.apply(t,arguments)}function v0(){var t=Jh(mf()).domain([.1,1,10]);return t.copy=function(){return gf(t,v0()).base(t.base())},cf.apply(t,arguments)}function x0(){var t=e0(mf());return t.copy=function(){return gf(t,x0()).constant(t.constant())},cf.apply(t,arguments)}function M0(){var t=r0(mf());return t.copy=function(){return gf(t,M0()).exponent(t.exponent())},cf.apply(t,arguments)}function Q(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const E6=Q("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),S6=Q("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),N6=Q("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),C6=Q("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),I6=Q("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),k6=Q("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),D6=Q("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),L6=Q("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),R6=Q("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),P6=Q("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),O6=Q("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),at=t=>A_(t[t.length-1]);var $0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Q);const A0=at($0);var T0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Q);const E0=at(T0);var S0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Q);const N0=at(S0);var C0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Q);const I0=at(C0);var gs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Q);const Ro=at(gs);var k0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Q);const D0=at(k0);var ms=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Q);const Po=at(ms);var L0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Q);const R0=at(L0);var P0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Q);const O0=at(P0);var F0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Q);const U0=at(F0);var q0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Q);const B0=at(q0);var Y0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Q);const z0=at(Y0);var H0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Q);const W0=at(H0);var V0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Q);const G0=at(V0);var X0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Q);const Z0=at(X0);var j0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Q);const Q0=at(j0);var K0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Q);const J0=at(K0);var t1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Q);const e1=at(t1);var n1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Q);const r1=at(n1);var i1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Q);const o1=at(i1);var f1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Q);const a1=at(f1);var s1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Q);const u1=at(s1);var c1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Q);const l1=at(c1);var d1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Q);const h1=at(d1);var p1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Q);const g1=at(p1);var m1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Q);const b1=at(m1);var _1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Q);const y1=at(_1);function w1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const v1=Ks(pe(300,.5,0),pe(-240,.5,1));var x1=Ks(pe(-100,.75,.35),pe(80,1.5,.8)),M1=Ks(pe(260,.75,.35),pe(80,1.5,.8)),Yi=pe();function $1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Yi.h=360*t-100,Yi.s=1.5-1.5*e,Yi.l=.8-.9*e,Yi+""}var zi=Ve(),F6=Math.PI/3,U6=Math.PI*2/3;function A1(t){var e;return t=(.5-t)*Math.PI,zi.r=255*(e=Math.sin(t))*e,zi.g=255*(e=Math.sin(t+F6))*e,zi.b=255*(e=Math.sin(t+U6))*e,zi+""}function T1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function bf(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const E1=bf(Q("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var S1=bf(Q("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),N1=bf(Q("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),C1=bf(Q("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Rn(t){return function(){return t}}const I1=Math.cos,du=Math.min,Oo=Math.sin,bt=Math.sqrt,dl=1e-12,Fo=Math.PI,_f=2*Fo;function q6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ph(e)}function B6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k1(t){this._context=t}k1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yf(t){return new k1(t)}function Y6(t){return t[0]}function z6(t){return t[1]}function H6(t,e){var n=Rn(!0),r=null,i=yf,o=null,f=q6(a);t=typeof t=="function"?t:t===void 0?Y6:Rn(t),e=typeof e=="function"?e:e===void 0?z6:Rn(e);function a(s){var u,c=(s=B6(s)).length,d,l=!1,h;for(r==null&&(o=i(h=f())),u=0;u<=c;++u)!(u<c&&n(d=s[u],u,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,u,s),+e(d,u,s));if(h)return o=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Rn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Rn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Rn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}class D1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function W6(t){return new D1(t,!0)}function V6(t){return new D1(t,!1)}const G6=bt(3),L1={draw(t,e){const n=bt(e+du(e/28,.75))*.59436,r=n/2,i=r*G6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},hu={draw(t,e){const n=bt(e/Fo);t.moveTo(n,0),t.arc(0,0,n,0,_f)}},R1={draw(t,e){const n=bt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P1=bt(1/3),X6=P1*2,O1={draw(t,e){const n=bt(e/X6),r=n*P1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},F1={draw(t,e){const n=bt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},U1={draw(t,e){const n=bt(e-du(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},q1={draw(t,e){const n=bt(e),r=-n/2;t.rect(r,r,n,n)}},B1={draw(t,e){const n=bt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},Z6=.8908130915292852,Y1=Oo(Fo/10)/Oo(7*Fo/10),j6=Oo(_f/10)*Y1,Q6=-I1(_f/10)*Y1,z1={draw(t,e){const n=bt(e*Z6),r=j6*n,i=Q6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const f=_f*o/5,a=I1(f),s=Oo(f);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},aa=bt(3),H1={draw(t,e){const n=-bt(e/(aa*3));t.moveTo(0,n*2),t.lineTo(-aa*n,-n),t.lineTo(aa*n,-n),t.closePath()}},K6=bt(3),W1={draw(t,e){const n=bt(e)*.6824,r=n/2,i=n*K6/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},qt=-.5,Bt=bt(3)/2,bs=1/bt(12),J6=(bs/2+1)*3,V1={draw(t,e){const n=bt(e/J6),r=n/2,i=n*bs,o=r,f=n*bs+n,a=-o,s=f;t.moveTo(r,i),t.lineTo(o,f),t.lineTo(a,s),t.lineTo(qt*r-Bt*i,Bt*r+qt*i),t.lineTo(qt*o-Bt*f,Bt*o+qt*f),t.lineTo(qt*a-Bt*s,Bt*a+qt*s),t.lineTo(qt*r+Bt*i,qt*i-Bt*r),t.lineTo(qt*o+Bt*f,qt*f-Bt*o),t.lineTo(qt*a+Bt*s,qt*s-Bt*a),t.closePath()}},G1={draw(t,e){const n=bt(e-du(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},t3=[hu,R1,O1,q1,z1,H1,V1],e3=[hu,U1,G1,W1,L1,B1,F1];function Ge(){}function Uo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wf(t){this._context=t}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n3(t){return new wf(t)}function X1(t){this._context=t}X1.prototype={areaStart:Ge,areaEnd:Ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function r3(t){return new X1(t)}function Z1(t){this._context=t}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i3(t){return new Z1(t)}function j1(t,e){this._basis=new wf(t),this._beta=e}j1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,f=e[n]-i,a=-1,s;++a<=n;)s=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+s*o),this._beta*e[a]+(1-this._beta)*(i+s*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const o3=function t(e){function n(r){return e===1?new wf(r):new j1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function qo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function pu(t,e){this._context=t,this._k=(1-e)/6}pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:qo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const f3=function t(e){function n(r){return new pu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function gu(t,e){this._context=t,this._k=(1-e)/6}gu.prototype={areaStart:Ge,areaEnd:Ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const a3=function t(e){function n(r){return new gu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function mu(t,e){this._context=t,this._k=(1-e)/6}mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const s3=function t(e){function n(r){return new mu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function bu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,f=t._y2;if(t._l01_a>dl){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>dl){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,f=(f*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,f,t._x2,t._y2)}function Q1(t,e){this._context=t,this._alpha=e}Q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const u3=function t(e){function n(r){return e?new Q1(r,e):new pu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function K1(t,e){this._context=t,this._alpha=e}K1.prototype={areaStart:Ge,areaEnd:Ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const c3=function t(e){function n(r){return e?new K1(r,e):new gu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function J1(t,e){this._context=t,this._alpha=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const l3=function t(e){function n(r){return e?new J1(r,e):new mu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function tp(t){this._context=t}tp.prototype={areaStart:Ge,areaEnd:Ge,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function d3(t){return new tp(t)}function hl(t){return t<0?-1:1}function pl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),f=(n-t._y1)/(i||r<0&&-0),a=(o*i+f*r)/(r+i);return(hl(o)+hl(f))*Math.min(Math.abs(o),Math.abs(f),.5*Math.abs(a))||0}function gl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sa(t,e,n){var r=t._x0,i=t._y0,o=t._x1,f=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,f-a*n,o,f)}function Bo(t){this._context=t}Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sa(this,this._t0,gl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sa(this,gl(this,n=pl(this,t,e)),n);break;default:sa(this,this._t0,n=pl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ep(t){this._context=new np(t)}(ep.prototype=Object.create(Bo.prototype)).point=function(t,e){Bo.prototype.point.call(this,e,t)};function np(t){this._context=t}np.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function h3(t){return new Bo(t)}function p3(t){return new ep(t)}function rp(t){this._context=t}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ml(t),i=ml(e),o=0,f=1;f<n;++o,++f)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[f],e[f]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ml(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),f=new Array(n);for(i[0]=0,o[0]=2,f[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,f[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,f[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,f[e]-=r*f[e-1];for(i[n-1]=f[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(f[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function g3(t){return new rp(t)}function vf(t,e){this._context=t,this._t=e}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function m3(t){return new vf(t,.5)}function b3(t){return new vf(t,0)}function _3(t){return new vf(t,1)}function Rr(t,e,n){this.k=t,this.x=e,this.y=n}Rr.prototype={constructor:Rr,scale:function(t){return t===1?this:new Rr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rr.prototype;function Xe(t){return t!=null&&!Number.isNaN(t)}function nr(t,e){return+Xe(e)-+Xe(t)||ze(t,e)}function _s(t,e){return+Xe(e)-+Xe(t)||oi(t,e)}function _u(t){return t!=null&&`${t}`!=""}function Yo(t){return isFinite(t)?t:NaN}function hn(t){return t>0&&isFinite(t)?t:NaN}function ip(t){return t<0&&isFinite(t)?t:NaN}function y3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${w3(t.getUTCFullYear())}-${Te(t.getUTCMonth()+1,2)}-${Te(t.getUTCDate(),2)}${n||r||i||o?`T${Te(n,2)}:${Te(r,2)}${i||o?`:${Te(i,2)}${o?`.${Te(o,3)}`:""}`:""}Z`:""}`}function w3(t){return t<0?`-${Te(-t,6)}`:t>9999?`+${Te(t,6)}`:Te(t,4)}function Te(t,e){return`${t}`.padStart(e,"0")}const v3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function op(t,e){return v3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function rr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return oi(e,n)}const Un=1e3,Be=Un*60,Ye=Be*60,ge=Ye*24,ae=ge*7,pn=ge*30,Fe=ge*365,ua=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Un],["5 seconds",5*Un],["15 seconds",15*Un],["30 seconds",30*Un],["minute",Be],["5 minutes",5*Be],["15 minutes",15*Be],["30 minutes",30*Be],["hour",Ye],["3 hours",3*Ye],["6 hours",6*Ye],["12 hours",12*Ye],["day",ge],["2 days",2*ge],["week",ae],["2 weeks",2*ae],["month",pn],["3 months",3*pn],["6 months",6*pn],["year",Fe],["2 years",2*Fe],["5 years",5*Fe],["10 years",10*Fe],["20 years",20*Fe],["50 years",50*Fe],["100 years",100*Fe]],yu=new Map([["second",Un],["minute",Be],["hour",Ye],["day",ge],["monday",ae],["tuesday",ae],["wednesday",ae],["thursday",ae],["friday",ae],["saturday",ae],["sunday",ae],["week",ae],["month",pn],["year",Fe]]),fp=new Map([["second",Kt],["minute",di],["hour",pi],["day",En],["monday",Qr],["tuesday",a0],["wednesday",s0],["thursday",xn],["friday",u0],["saturday",c0],["sunday",tr],["week",tr],["month",mi],["year",te]]),wu=new Map([["second",Kt],["minute",hi],["hour",gi],["day",pf],["monday",Kr],["tuesday",l0],["wednesday",d0],["thursday",Mn],["friday",h0],["saturday",p0],["sunday",er],["week",er],["month",bi],["year",ee]]),yi=Symbol("intervalDuration"),xf=Symbol("intervalType");for(const[t,e]of fp)e[yi]=yu.get(t),e[xf]="time";for(const[t,e]of wu)e[yi]=yu.get(t),e[xf]="utc";const Pr=[["year",ee,"utc"],["month",bi,"utc"],["day",pf,"utc",6*pn],["hour",gi,"utc",3*ge],["minute",hi,"utc",6*Ye],["second",Kt,"utc",30*Be]],io=[["year",te,"time"],["month",mi,"time"],["day",En,"time",6*pn],["hour",pi,"time",3*ge],["minute",di,"time",6*Ye],["second",Kt,"time",30*Be]],x3=[Pr[0],io[0],Pr[1],io[1],Pr[2],io[2],...Pr.slice(3)];function ap(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=wu.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function sp(t){return cp(ap(t),"time")}function up(t){return cp(ap(t),"utc")}function cp([t,e],n){let r=(n==="time"?fp:wu).get(t);return e>1&&(r=r.every(e),r[yi]=yu.get(t)*e,r[xf]=n),r}function bl(t,e){if(!(e>1))return;const n=t[yi];if(!ua.some(([,i])=>i===n)||n%ge===0&&ge<n&&n<pn)return;const[r]=ua[Qo(([,i])=>Math.log(i)).center(ua,Math.log(n*e))];return(t[xf]==="time"?sp:up)(r)}function _l(t,e,n){const r=e==="time"?cu:_i;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=M3(n);switch(t){case"millisecond":return Pn(r(".%L"),r(":%M:%S"),i);case"second":return Pn(r(":%S"),r("%-I:%M"),i);case"minute":return Pn(r("%-I:%M"),r("%p"),i);case"hour":return Pn(r("%-I %p"),r("%b %-d"),i);case"day":return Pn(r("%-d"),r("%b"),i);case"month":return Pn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function M3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function $3(t){return t==="time"?io:t==="utc"?Pr:x3}function A3(t,e,n){const r=he(pb(e,(i,o)=>Math.abs(o-i)));if(r<1e3)return _l("millisecond","utc",n);for(const[i,o,f,a]of $3(t)){if(r>a||i==="hour"&&!r)break;if(e.every(s=>o.floor(s)>=s))return _l(i,f,n)}}function Pn(t,e,n){return(r,i,o)=>{const f=t(r,i),a=e(r,i),s=i-rr(o);return i!==s&&o[s]!==void 0&&a===e(o[s],s)?f:n(f,a)}}const vu=Object.getPrototypeOf(Uint8Array),T3=Object.prototype.toString;function wi(t){return t instanceof Array||t instanceof vu}function lp(t){return t instanceof vu&&!E3(t)}function dp(t){return(t==null?void 0:t.prototype)instanceof vu&&!S3(t)}function E3(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function S3(t){return t===BigInt64Array||t===BigUint64Array}const N3=Symbol("reindex");function Pe(t,e,n){const r=typeof e;return r==="string"?_p(t)?xu(t.getChild(e),n):yl(t,I3(e),n):r==="function"?yl(t,e,n):r==="number"||e instanceof Date||r==="boolean"?St(t,Ie(e),n):typeof(e==null?void 0:e.transform)=="function"?ys(e.transform(t),n):C3(ys(e,n),t==null?void 0:t[N3])}function C3(t,e){return t!=null&&e?$u(t,e):t}function yl(t,e,n){return St(t,dp(n)?(r,i)=>Mu(e(r,i)):e,n)}function ys(t,e){return e===void 0?Ze(t):yp(t)?xu(t,e):t instanceof e?t:e.from(t,dp(e)&&!lp(t)?Mu:void 0)}function xu(t,e){return t==null?t:(e===void 0||e===Array)&&K3(t.type)?pp(t.toArray()):ys(t.toArray(),e)}const oo=[null],I3=t=>e=>{var r;const n=e[t];return n===void 0&&e.type==="Feature"?(r=e.properties)==null?void 0:r[t]:n},k3={transform:vi},ye={transform:t=>t},D3=()=>!0,Tt=t=>t==null?t:`${t}`,wt=t=>t==null?t:+t,hp=t=>t?t[0]:void 0,L3=t=>t?t[1]:void 0,Ie=t=>()=>t;function R3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ho(n,e,r)}function ir(t){return lp(t)?t:St(t,Mu,Float64Array)}function Mu(t){return t==null?NaN:Number(t)}function pp(t){return St(t,P3)}function P3(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?op(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function $n(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Ef(t)?[void 0,t]:[t,void 0]}function Mt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function gp(t,e,n){if(t!=null)return ie(t,e,n)}function ie(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function or(t){return _p(t)?t:Ze(t)}function Ze(t){if(t==null||wi(t))return t;if(yp(t))return xu(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function St(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function ws(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Cn(t){return(t==null?void 0:t.toString)===T3}function vs(t){return Cn(t)&&(t.type!==void 0||t.domain!==void 0)}function Mf(t){return Cn(t)&&typeof t.transform!="function"}function fr(t){return Mf(t)&&t.value===void 0&&t.channel===void 0}function $f(t,e){return t===void 0&&e===void 0?[hp,L3]:[t,e]}function O3({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=$n(e)),t===void 0&&([t]=$n(n)),t}function xs(t){return wi(t)?t.length:t==null?void 0:t.numRows}function vi(t){const e=xs(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function $u(t,e){return wi(t)?St(e,n=>t[n],t.constructor):St(e,n=>t.at(n))}function F3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function ke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Af(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function U3(t,e){const n=Au(t,e);return n&&(r=>Xe(r)?n.floor(r):r)}function Au(t,e){if(t!=null){if(typeof t=="number")return q3(t);if(typeof t=="string")return(e==="time"?sp:up)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function q3(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>Oa(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>Oa(Math.ceil(n/e),r/e).map(i=>i*e)}}function xi(t,e){if(t=Au(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function B3(t,e){if(t=xi(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Y3(t){return typeof(t==null?void 0:t.range)=="function"}function Tf(t){return t===void 0||Mf(t)?t:{value:t}}function z3(t){return t==null?null:{transform:e=>Pe(e,t,Float64Array),label:Af(t)}}function In(t){return t&&typeof t[Symbol.iterator]=="function"}function mp(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function wl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function me(t){for(const e of t)if(e!=null)return e instanceof Date}function H3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&op(e)}function W3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function V3(t){for(const e of t)if(e!=null)return typeof e=="number"}function ca(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const G3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ef(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||G3.has(t))}function X3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function It(t){return t==null||Jr(t)}function Jr(t){return/^\s*none\s*$/i.test(t)}function Z3(t){return/^\s*round\s*$/i.test(t)}function Ms(t,e){return gp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Sf(t="middle"){return Ms(t,"frameAnchor")}function j3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function Q3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function Tu(t){return In(t)?Q3(t):t}function bp(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ie(t,"clip",["frame","sphere"])),t}function _p(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function yp(t){return t&&typeof t.toArray=="function"&&t.type}function K3(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const ce=Symbol("position"),Oe=Symbol("color"),Mi=Symbol("radius"),$i=Symbol("length"),Ai=Symbol("opacity"),Nf=Symbol("symbol"),wp=Symbol("projection"),dt=new Map([["x",ce],["y",ce],["fx",ce],["fy",ce],["r",Mi],["color",Oe],["opacity",Ai],["symbol",Nf],["length",$i],["projection",wp]]);function J3(t){return t===ce||t===wp}function t8(t){return t===ce||t===Mi||t===$i||t===Ai}const e8=Math.sqrt(3),n8=2/e8,r8={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*n8,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},vp=new Map([["asterisk",L1],["circle",hu],["cross",R1],["diamond",O1],["diamond2",F1],["hexagon",r8],["plus",U1],["square",q1],["square2",B1],["star",z1],["times",G1],["triangle",H1],["triangle2",W1],["wye",V1]]);function xp(t){return t&&typeof t.draw=="function"}function i8(t){return xp(t)?!0:typeof t!="string"?!1:vp.has(t.toLowerCase())}function Eu(t){if(t==null||xp(t))return t;const e=vp.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Mp({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},f){if(r===void 0&&(t!=null&&(r=$p(t)),e!=null&&!fr(e)&&(r=la(r,Su(e))),n&&(r=la(r,Ap))),f!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||fr(e))&&{sort:e},transform:la(r,f)}}function An({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=$p(t)),e!=null&&!fr(e)&&(r=da(r,Su(e))),n&&(r=da(r,Ap))),{...i,...(e===null||fr(e))&&{sort:e},initializer:da(r,o)}}function la(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,or(n),r,i)}}function da(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let f,a,s,u,c,d;return{data:a=n,facets:s=r,channels:f}=t.call(this,n,r,i,...o),{data:c=a,facets:d=s,channels:u}=e.call(this,a,s,{...i,...f},...o),{data:c,facets:d,channels:{...f,...u}}}}function o8(t,e){return(t.initializer!=null?An:Mp)(t,e)}function $p(t){return(e,n)=>{const r=Pe(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function Ap(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function f8(t,{sort:e,...n}={}){return{...(Mf(t)&&t.channel!==void 0?An:o8)(n,Su(t)),sort:fr(e)?e:null}}function Su(t){return(typeof t=="function"&&t.length!==1?a8:s8)(t)}function a8(t){return(e,n)=>{const r=wi(e)?(i,o)=>t(e[i],e[o]):(i,o)=>t(e.get(i),e.get(o));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function s8(t){let e,n;({channel:e,value:t,order:n}={...Tf(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?_s:nr),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=nr;break;case"descending":n=_s;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,f)=>{let a;if(e===void 0)a=Pe(i,t);else{if(f===void 0)throw new Error("channel sort requires an initializer");if(a=f[e],!a)return{};a=a.value}const s=(u,c)=>n(a[u],a[c]);return{data:i,facets:o.map(u=>u.slice().sort(s))}}}function u8(t,e,n=c8){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Cn(t))return l8(t);if(typeof t=="function")return d8(t);if(/^p\d{2}$/i.test(t))return Ae(R3(t));switch(`${t}`.toLowerCase()){case"first":return p8;case"last":return g8;case"identity":return h8;case"count":return xl;case"distinct":return m8;case"sum":return e==null?xl:b8;case"proportion":return Ml(e,"data");case"proportion-facet":return Ml(e,"facet");case"deviation":return Ae(tb);case"min":return Ae(Hr);case"min-index":return Ae(ub);case"max":return Ae(he);case"max-index":return Ae(sb);case"mean":return vl(lb);case"median":return vl(Pa);case"variance":return Ae(Ad);case"mode":return Ae(hb)}return n(t)}function c8(t){throw new Error(`invalid reduce: ${t}`)}function l8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function d8(t){return{reduceIndex(e,n,r){return t($u(n,e),r)}}}function Ae(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function vl(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return me(n)?new Date(r):r}}}const h8={reduceIndex(t,e){return $u(e,t)}},p8={reduceIndex(t,e){return e[t[0]]}},g8={reduceIndex(t,e){return e[t[t.length-1]]}},xl={label:"Frequency",reduceIndex(t){return t.length}},m8={label:"Distinct",reduceIndex(t,e){const n=new Ko;for(const r of t)n.add(e[r]);return n.size}},b8=Ae(Hs);function Ml(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Hs(n,o=>r[o])/i}}function ti(t,{scale:e,type:n,value:r,filter:i,hint:o,label:f=Af(r)},a){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Ep(a,{scale:e,type:n,value:Pe(t,r),label:f,filter:i,hint:o})}function _8(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,ti(e,r,n)]))}function Tp(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const f=i==null?null:e[i];return[r,f==null?o:St(o,f)]}));return n.channels=t,n}function Ep(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&ca(r,Ef)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&ca(r,X3)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&ca(r,i8)?(e.scale=null,e.value=St(r,Eu)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=dt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!dt.has(n))throw new Error(`unknown scale: ${n}`);return e}function y8(t,e,n,r,i){const{order:o,reverse:f,reduce:a=!0,limit:s}=i;for(const u in i){if(!dt.has(u))continue;let{value:c,order:d=o,reverse:l=f,reduce:h=a,limit:p=s}=Tf(i[u]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?Np:Sp:x8(d),h==null||h===!1)continue;const _=u==="fx"||u==="fy"?v8(e,r[u]):w8(n,u);if(!_)throw new Error(`missing channel for scale: ${u}`);const m=_.value,[b=0,w=1/0]=In(p)?p:p<0?[p]:[0,p];if(c==null)_.domain=()=>{let y=Array.from(new Ko(m));return l&&(y=y.reverse()),(b!==0||w!==1/0)&&(y=y.slice(b,w)),y};else{const y=c==="data"?t:c==="height"?$l(n,"y1","y2"):c==="width"?$l(n,"x1","x2"):$s(n,c,c==="y"?"y2":c==="x"?"x2":void 0),x=u8(h===!0?"max":h,y);_.domain=()=>{let v=nb(vi(m),M=>x.reduceIndex(M,y),M=>m[M]);return d&&v.sort(d),l&&v.reverse(),(b!==0||w!==1/0)&&(v=v.slice(b,w)),v.map(hp)}}}}function w8(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function v8(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const f=r[n[o][0]];for(const a of t[o])i[a]=f}return e}function $l(t,e,n){const r=$s(t,e),i=$s(t,n);return St(i,(o,f)=>Math.abs(o-r[f]),Float64Array)}function $s(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function x8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Sp;case"descending":return Np}throw new Error(`invalid order: ${t}`)}function Sp([t,e],[n,r]){return nr(e,r)||nr(t,n)}function Np([t,e],[n,r]){return _s(e,r)||nr(t,n)}function Al(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Cp=new Map([["accent",S6],["category10",E6],["dark2",N6],["observable10",C6],["paired",I6],["pastel1",k6],["pastel2",D6],["set1",L6],["set2",R6],["set3",P6],["tableau10",O6]]);function M8(t){return t!=null&&Cp.has(`${t}`.toLowerCase())}const Tl=new Map([...Cp,["brbg",xe($0,A0)],["prgn",xe(T0,E0)],["piyg",xe(S0,N0)],["puor",xe(C0,I0)],["rdbu",xe(gs,Ro)],["rdgy",xe(k0,D0)],["rdylbu",xe(ms,Po)],["rdylgn",xe(L0,R0)],["spectral",xe(P0,O0)],["burd",El(gs,Ro)],["buylrd",El(ms,Po)],["blues",_t(s1,u1)],["greens",_t(c1,l1)],["greys",_t(d1,h1)],["oranges",_t(_1,y1)],["purples",_t(p1,g1)],["reds",_t(m1,b1)],["turbo",Me(T1)],["viridis",Me(E1)],["magma",Me(S1)],["inferno",Me(N1)],["plasma",Me(C1)],["cividis",Me(w1)],["cubehelix",Me(v1)],["warm",Me(x1)],["cool",Me(M1)],["bugn",_t(F0,U0)],["bupu",_t(q0,B0)],["gnbu",_t(Y0,z0)],["orrd",_t(H0,W0)],["pubu",_t(X0,Z0)],["pubugn",_t(V0,G0)],["purd",_t(j0,Q0)],["rdpu",_t(K0,J0)],["ylgn",_t(n1,r1)],["ylgnbu",_t(t1,e1)],["ylorbr",_t(i1,o1)],["ylorrd",_t(f1,a1)],["rainbow",Sl($1)],["sinebow",Sl(A1)]]);function _t(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Jt(e,n):t[n])}function xe(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Jt(e,n):t[n])}function El(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Jt(r=>e(1-r),n):t[n].slice().reverse())}function Me(t){return({length:e})=>Jt(t,Math.max(2,Math.floor(e)))}function Sl(t){return({length:e})=>Jt(t,Math.floor(e)+1).slice(0,-1)}function Ip(t){const e=`${t}`.toLowerCase();if(!Tl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Tl.get(e)}function Cf(t,e){const n=Ip(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function $8(t,e="greys"){const n=new Set,[r,i]=Cf(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Nl=new Map([["brbg",A0],["prgn",E0],["piyg",N0],["puor",I0],["rdbu",Ro],["rdgy",D0],["rdylbu",Po],["rdylgn",R0],["spectral",O0],["burd",t=>Ro(1-t)],["buylrd",t=>Po(1-t)],["blues",u1],["greens",l1],["greys",h1],["purples",g1],["reds",b1],["oranges",y1],["turbo",T1],["viridis",E1],["magma",S1],["inferno",N1],["plasma",C1],["cividis",w1],["cubehelix",v1],["warm",x1],["cool",M1],["bugn",U0],["bupu",B0],["gnbu",z0],["orrd",W0],["pubugn",G0],["pubu",Z0],["purd",Q0],["rdpu",J0],["ylgnbu",e1],["ylgn",r1],["ylorbr",o1],["ylorrd",a1],["rainbow",$1],["sinebow",A1]]);function Nu(t){const e=`${t}`.toLowerCase();if(!Nl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Nl.get(e)}const A8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function T8(t){return t!=null&&A8.has(`${t}`.toLowerCase())}const kp=t=>e=>t(1-e),ha=[0,1],Cl=new Map([["number",At],["rgb",yn],["hsl",F_],["hcl",B_],["lab",U_]]);function Dp(t){const e=`${t}`.toLowerCase();if(!Cl.has(e))throw new Error(`unknown interpolator: ${e}`);return Cl.get(e)}function Ti(t,e,n,{type:r,nice:i,clamp:o,zero:f,domain:a=Rp(t,n),unknown:s,round:u,scheme:c,interval:d,range:l=dt.get(t)===Mi?O8(n,a):dt.get(t)===$i?F8(n,a):dt.get(t)===Ai?ha:void 0,interpolate:h=dt.get(t)===Oe?c==null&&l!==void 0?yn:Nu(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?Qs:At,reverse:p}){if(d=xi(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Dp(h)),p=!!p,l!==void 0){const g=(a=Ze(a)).length,_=(l=Ze(l)).length;if(g!==_){if(h.length===1)throw new Error("invalid piecewise interpolator");h=rf(h,l),l=void 0}}if(h.length===1?(p&&(h=kp(h),p=!1),l===void 0&&(l=Float64Array.from(a,(g,_)=>_/(a.length-1)),l.length===2&&(l=ha)),e.interpolate((l===ha?Ie:Iu)(h))):e.interpolate(h),f){const[g,_]=He(a);(g>0||_<0)&&(a=ws(a),(rr(a)||1)===Math.sign(g)?a[0]=0:a[a.length-1]=0)}return p&&(a=po(a)),e.domain(a).unknown(s),i&&(e.nice(E8(i,r)),a=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:a,range:l,scale:e,interpolate:h,interval:d}}function E8(t,e){return t===!0?void 0:typeof t=="number"?t:B3(t,e)}function S8(t,e,n){return Ti(t,su(),e,n)}function N8(t,e,n){return Lp(t,e,{...n,exponent:.5})}function Lp(t,e,{exponent:n=1,...r}){return Ti(t,i0().exponent(n),e,{...r,type:"pow"})}function C8(t,e,{base:n=10,domain:r=U8(e),...i}){return Ti(t,t0().base(n),e,{...i,domain:r})}function I8(t,e,{constant:n=1,...r}){return Ti(t,n0().constant(n),e,r)}function k8(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:f=q8(e),unknown:a,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?Jt(s,i):dt.get(t)===Oe?Cf(o,i):void 0),f.length>0&&(f=o0(f,n===void 0?{length:i}:n).quantiles()),Cu(t,e,{domain:f,range:n,reverse:u,unknown:a})}function D8(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Rp(t,e),unknown:f,interpolate:a,reverse:s}){const[u,c]=He(o);let d;return n===void 0?(d=lo(u,c,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,n=a!==void 0?Jt(a,r):dt.get(t)===Oe?Cf(i,r):void 0):(d=Jt(At(u,c),r+1).slice(1,-1),u instanceof Date&&(d=d.map(l=>new Date(l)))),rr(Ze(o))<0&&d.reverse(),Cu(t,e,{domain:d,range:n,reverse:s,unknown:f})}function Cu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:f=o!==void 0?Jt(o,n.length+1):dt.get(t)===Oe?Cf(i,n.length+1):void 0,reverse:a}){n=Ze(n);const s=rr(n);if(!isNaN(s)&&!L8(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return a&&(f=po(f)),{type:"threshold",scale:f0(s<0?po(n):n,f===void 0?[]:f).unknown(r),domain:n,range:f}}function L8(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=oi(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function R8(t){return{type:"identity",scale:t8(dt.get(t))?Qh():e=>e}}function ei(t,e=Yo){return t.length?[Hr(t,({value:n})=>n===void 0?n:Hr(n,e)),he(t,({value:n})=>n===void 0?n:he(n,e))]:[0,1]}function Rp(t,e){const n=dt.get(t);return(n===Mi||n===Ai||n===$i?P8:ei)(e)}function P8(t){return[0,t.length?he(t,({value:e})=>e===void 0?e:he(e,Yo)):1]}function O8(t,e){const n=t.find(({radius:f})=>f!==void 0);if(n!==void 0)return[0,n.radius];const r=ho(t,.5,({value:f})=>f===void 0?NaN:ho(f,.25,hn)),i=e.map(f=>3*Math.sqrt(f/r)),o=30/he(i);return o<1?i.map(f=>f*o):i}function F8(t,e){const n=Pa(t,({value:o})=>o===void 0?NaN:Pa(o,Math.abs)),r=e.map(o=>12*o/n),i=60/he(r);return i<1?r.map(o=>o*i):r}function U8(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ei(t,hn);if(n<0)return ei(t,ip)}return[1,10]}function q8(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Iu(t){return(e,n)=>r=>t(e+r*(n-e))}let As=0,Ts;function B8(){const t=As;return As=0,Ts=void 0,t}function We(t){t!==Ts&&(Ts=t,console.warn(t),++As)}function If(t,e,n,r,{type:i,nice:o,clamp:f,domain:a=ei(r),unknown:s,pivot:u=0,scheme:c,range:d,symmetric:l=!0,interpolate:h=dt.get(t)===Oe?c==null&&d!==void 0?yn:Nu(c!==void 0?c:"rdbu"):At,reverse:p}){u=+u,a=Ze(a);let[g,_]=a;if(a.length>2&&We(`Warning: the diverging ${t} scale domain contains extra elements.`),oi(g,_)<0&&([g,_]=[_,g],p=!p),g=Math.min(g,u),_=Math.max(_,u),typeof h!="function"&&(h=Dp(h)),d!==void 0&&(h=h.length===1?Iu(h)(...d):rf(h,d)),p&&(h=kp(h)),l){const m=n.apply(u),b=m-n.apply(g),w=n.apply(_)-m;b<w?g=n.invert(m-w):b>w&&(_=n.invert(m+b))}return e.domain([g,u,_]).unknown(s).interpolator(h),f&&e.clamp(f),o&&e.nice(o),{type:i,domain:[g,_],pivot:u,interpolate:h,scale:e}}function Y8(t,e,n){return If(t,w0(),V8,e,n)}function z8(t,e,n){return Pp(t,e,{...n,exponent:.5})}function Pp(t,e,{exponent:n=1,...r}){return If(t,M0().exponent(n=+n),Z8(n),e,{...r,type:"diverging-pow"})}function H8(t,e,{base:n=10,pivot:r=1,domain:i=ei(e,r<0?ip:hn),...o}){return If(t,v0().base(n=+n),G8,e,{domain:i,pivot:r,...o})}function W8(t,e,{constant:n=1,...r}){return If(t,x0().constant(n=+n),j8(n),e,r)}const V8={apply(t){return t},invert(t){return t}},G8={apply:Math.log,invert:Math.exp},X8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Z8(t){return t===.5?X8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function j8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Op(t,e,n,r){return Ti(t,e,n,r)}function Q8(t,e,n){return Op(t,A6(),e,n)}function K8(t,e,n){return Op(t,T6(),e,n)}const Ei=Symbol("ordinal");function Fp(t,e,n,{type:r,interval:i,domain:o,range:f,reverse:a,hint:s}){return i=xi(i,r),o===void 0&&(o=qp(n,i,t)),(r==="categorical"||r===Ei)&&(r="ordinal"),a&&(o=po(o)),o=e.domain(o).domain(),f!==void 0&&(typeof f=="function"&&(f=f(o)),e.range(f)),{type:r,domain:o,range:f,scale:e,hint:s,interval:i}}function J8(t,e,{type:n,interval:r,domain:i,range:o,scheme:f,unknown:a,...s}){r=xi(r,n),i===void 0&&(i=qp(e,r,t));let u;if(dt.get(t)===Nf)u=n5(e),o=o===void 0?r5(u):St(o,Eu);else if(dt.get(t)===Oe&&(o===void 0&&(n==="ordinal"||n===Ei)&&(o=$8(i,f),o!==void 0&&(f=void 0)),f===void 0&&o===void 0&&(f=n==="ordinal"?"turbo":"observable10"),f!==void 0))if(o!==void 0){const c=Nu(f),d=o[0],l=o[1]-o[0];o=({length:h})=>Jt(p=>c(d+l*p),h)}else o=Ip(f);if(a===ds)throw new Error(`implicit unknown on ${t} scale is not supported`);return Fp(t,au().unknown(a),e,{...s,type:n,domain:i,range:o,hint:u})}function t5(t,e,{align:n=.5,padding:r=.5,...i}){return Up(ov().align(n).padding(r),e,i,t)}function e5(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...f}){return Up(lf().align(n).paddingInner(i).paddingOuter(o),e,f,t)}function Up(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Fp(r,t,e,n),t.round=i,t}function qp(t,e,n){const r=new Ko;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const f of i)r.add(f)}if(e!==void 0){const[i,o]=He(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&dt.get(n)===ce)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ib(r,nr)}function Il(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function n5(t){return{fill:Il(t,"fill"),stroke:Il(t,"stroke")}}function r5(t){return It(t.fill)?e3:t3}function Es(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:f=n,round:a,nice:s,clamp:u,zero:c,align:d,padding:l,projection:h,facet:{label:p=e}={},...g}={}){const _={};for(const[m,b]of t){const w=g[m],y=s5(m,b,{round:dt.get(m)===ce?a:void 0,nice:s,clamp:u,zero:c,align:d,padding:l,projection:h,...w});if(y){let{label:x=m==="fx"||m==="fy"?p:e,percent:v,transform:M,inset:T,insetTop:E=T!==void 0?T:m==="y"?r:0,insetRight:I=T!==void 0?T:m==="x"?i:0,insetBottom:$=T!==void 0?T:m==="y"?o:0,insetLeft:N=T!==void 0?T:m==="x"?f:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");y.percent=!!v,y.label=x===void 0?o5(b,y):x,y.transform=M,m==="x"||m==="fx"?(y.insetLeft=+N,y.insetRight=+I):(m==="y"||m==="fy")&&(y.insetTop=+E,y.insetBottom=+$),_[m]=y}}return _}function kl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:f,interval:a,label:s}=i;e[r]=h5(i),n[r]=o,o.type=f,a!=null&&(o.interval=a),s!=null&&(o.label=s)}return n}function i5(t,e){const{x:n,y:r,fx:i,fy:o}=t,f=i||o?ku(e):e;i&&Dl(i,f),o&&Ll(o,f);const a=i||o?Bp(t,e):e;n&&Dl(n,a),r&&Ll(r,a)}function o5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!kn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function f5(t){return Math.sign(rr(t.domain()))*Math.sign(rr(t.range()))}function ku(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:f,facet:{marginTop:a,marginRight:s,marginBottom:u,marginLeft:c}}=t;return{marginTop:Math.max(e,a),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:o,height:f}}function Bp({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:a,height:s}=ku(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:t?t.scale.bandwidth()+f+i:a,height:e?e.scale.bandwidth()+r+o:s,facet:{width:a,height:s}}}function Dl(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:f=0}=e,a=o+n,s=i-f-r;t.range=[a,Math.max(a,s)],kn(t)||(t.range=zp(t)),t.scale.range(t.range)}Yp(t)}function Ll(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:f=0}=e,a=o+n,s=i-f-r;t.range=[Math.max(a,s),a],kn(t)?t.range.reverse():t.range=zp(t),t.scale.range(t.range)}Yp(t)}function Yp(t){t.round===void 0&&c5(t)&&a5(t)<=30&&t.scale.round(!0)}function a5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),f=e-i,a=Math.abs(r-n)/Math.max(1,f+o*2);return(a-Math.floor(a))*f}function zp(t){const e=t.scale.domain().length+Hp(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function s5(t,e=[],n={}){const r=u5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&kn({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(me)?We(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${On(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`):i.some(H3)?We(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${On(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`):i.some(W3)&&We(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${On(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Hi(e,n,ir);break;case"identity":switch(dt.get(t)){case ce:n=Hi(e,n,ir);break;case Nf:n=Hi(e,n,l5);break}break;case"utc":case"time":n=Hi(e,n,pp);break}switch(r){case"diverging":return Y8(t,e,n);case"diverging-sqrt":return z8(t,e,n);case"diverging-pow":return Pp(t,e,n);case"diverging-log":return H8(t,e,n);case"diverging-symlog":return W8(t,e,n);case"categorical":case"ordinal":case Ei:return J8(t,e,n);case"cyclical":case"sequential":case"linear":return S8(t,e,n);case"sqrt":return N8(t,e,n);case"threshold":return Cu(t,e,n);case"quantile":return k8(t,e,n);case"quantize":return D8(t,e,n);case"pow":return Lp(t,e,n);case"log":return C8(t,e,n);case"symlog":return I8(t,e,n);case"utc":return K8(t,e,n);case"time":return Q8(t,e,n);case"point":return t5(t,e,n);case"band":return e5(t,e,n);case"identity":return R8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function On(t){return typeof t=="symbol"?t.description:t}function Rl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Pl={toString:()=>"projection"};function u5(t,e,{type:n,domain:r,range:i,scheme:o,pivot:f,projection:a}){if(n=Rl(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&a!=null&&(n=Pl);for(const u of e){const c=Rl(u.type);if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}}if(n===Pl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const s=dt.get(t);if(s===Mi)return"sqrt";if(s===Ai||s===$i)return"linear";if(s===Nf)return"ordinal";if((r||i||[]).length>2)return pa(s);if(r!==void 0){if(wl(r))return pa(s);if(me(r))return"utc"}else{const u=e.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(wl))return pa(s);if(u.some(me))return"utc"}if(s===Oe){if(f!=null||T8(o))return"diverging";if(M8(o))return"categorical"}return"linear"}function pa(t){switch(t){case ce:return"point";case Oe:return Ei;default:return"ordinal"}}function kn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ei}function Hp({type:t}){return t==="threshold"}function c5({type:t}){return t==="point"||t==="band"}function zo(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function Hi(t,{domain:e,...n},r){var i;for(const o of t)o.value!==void 0&&(e===void 0&&(e=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:e===void 0?e:r(e),...n}}function l5(t){return St(t,Eu)}function d5(t){return e=>{if(!dt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function h5({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:f,percent:a,pivot:s}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=t.unknown?t.unknown():void 0;return{type:e,domain:ws(n),...r!==void 0&&{range:ws(r)},...f!==void 0&&{transform:f},...a&&{percent:a},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function p5(t,e){const{fx:n,fy:r}=Es(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Jm(i,o).map(([f,a],s)=>({x:f,y:a,i:s})):i?i.map((f,a)=>({x:f,i:a})):o?o.map((f,a)=>({y:f,i:a})):void 0}function g5(t,{x:e,y:n}){return e&&(e=Ss(e)),n&&(n=Ss(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Du(t,{fx:e,fy:n}){const r=vi(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?Hf(r,f=>(f.fx=i[f[0]],f.fy=o[f[0]],f),f=>i[f],f=>o[f]):e?Hf(r,f=>(f.fx=i[f[0]],f),f=>i[f]):Hf(r,f=>(f.fy=o[f[0]],f),f=>o[f])}function m5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function b5(t){const e=[],n=new Uint32Array(Hs(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const _5=new Map([["top",ga],["right",_a],["bottom",ma],["left",ba],["top-left",Wi(ga,ba)],["top-right",Wi(ga,_a)],["bottom-left",Wi(ma,ba)],["bottom-right",Wi(ma,_a)],["top-empty",v5],["right-empty",$5],["bottom-empty",x5],["left-empty",M5],["empty",A5]]);function y5(t){if(t==null)return null;const e=_5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Ol=new WeakMap;function Ss(t){let e=Ol.get(t);return e||Ol.set(t,e=new zr(St(t,(n,r)=>[n,r]))),e}function Ke(t,e){return Ss(t).get(e)}function w5(t,e,n){return e=ke(e),n=ke(n),t.find(r=>Object.is(ke(r.x),e)&&Object.is(ke(r.y),n))}function kf(t,e,n){var r;return(r=w5(t,e,n))==null?void 0:r.empty}function ga(t,{y:e},{y:n}){return e?Ke(e,n)===0:!0}function ma(t,{y:e},{y:n}){return e?Ke(e,n)===e.length-1:!0}function ba(t,{x:e},{x:n}){return e?Ke(e,n)===0:!0}function _a(t,{x:e},{x:n}){return e?Ke(e,n)===e.length-1:!0}function v5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=Ke(e,r);if(o>0)return kf(t,n,e[o-1])}function x5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=Ke(e,r);if(o<e.length-1)return kf(t,n,e[o+1])}function M5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=Ke(e,n);if(o>0)return kf(t,e[o-1],r)}function $5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=Ke(e,n);if(o<e.length-1)return kf(t,e[o+1],r)}function A5(t,e,{empty:n}){return n}function Wi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function ya(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var f;return((f=r.get(i))==null?void 0:f.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Wp=Math.PI,$e=2*Wp,wa=.618;function T5({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},f){if(t==null)return;if(typeof t.stream=="function")return t;let a,s,u="frame";if(Cn(t)){let x;if({type:t,domain:s,inset:x,insetTop:n=x!==void 0?x:n,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:o=x!==void 0?x:o,clip:u=u,...a}=t,t==null)return}typeof t!="function"&&({type:t}=Ns(t));const{width:c,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=f,_=c-l-h-o-r,m=d-p-g-n-i;if(t=t==null?void 0:t({width:_,height:m,clip:u,...a}),t==null)return;u=E5(u,l,p,c-h,d-g);let b=l+o,w=p+n,y;if(s!=null){const[[x,v],[M,T]]=af(t).bounds(s),E=Math.min(_/(M-x),m/(T-v));E>0?(b-=(E*(x+M)-_)/2,w-=(E*(v+T)-m)/2,y=cs({point(I,$){this.stream.point(I*E+b,$*E+w)}})):We("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&w===0?Vp():cs({point(x,v){this.stream.point(x+b,v+w)}})),{stream:x=>t.stream(y.stream(u(x)))}}function Ns(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Zt(Hw,.7463,.4673);case"albers":return Vi(Uh,.7463,.4673);case"azimuthal-equal-area":return Zt(Ww,4,4);case"azimuthal-equidistant":return Zt(Vw,$e,$e);case"conic-conformal":return Vi(Zw,$e,$e);case"conic-equal-area":return Vi(Io,6.1702,2.9781);case"conic-equidistant":return Vi(Kw,7.312,3.6282);case"equal-earth":return Zt(tv,5.4133,2.6347);case"equirectangular":return Zt(jw,$e,Wp);case"gnomonic":return Zt(ev,3.4641,3.4641);case"identity":return{type:Vp};case"reflect-y":return{type:S5};case"mercator":return Zt(Gw,$e,$e);case"orthographic":return Zt(nv,2,2);case"stereographic":return Zt(rv,2,2);case"transverse-mercator":return Zt(iv,$e,$e);default:throw new Error(`unknown projection type: ${t}`)}}function E5(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Mh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Zt(t,e,n){return{type:({width:r,height:i,rotate:o,precision:f=.15,clip:a})=>{var u,c,d;const s=t();return f!=null&&((u=s.precision)==null||u.call(s,f)),o!=null&&((c=s.rotate)==null||c.call(s,o)),typeof a=="number"&&((d=s.clipAngle)==null||d.call(s,a)),r!=null&&(s.scale(Math.min(r/e,i/n)),s.translate([r/2,i/2])),s},aspectRatio:n/e}}function Vi(t,e,n){const{type:r,aspectRatio:i}=Zt(t,e,n);return{type:o=>{const{parallels:f,domain:a,width:s,height:u}=o,c=r(o);return f!=null&&(c.parallels(f),a===void 0&&s!=null&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:i}}const Vp=Ie({stream:t=>t}),S5=Ie(cs({point(t,e){this.stream.point(t,-e)}}));function Gp(t,e,n,r){const i=n[t],o=n[e],f=i.length,a=n[t]=new Float64Array(f).fill(NaN),s=n[e]=new Float64Array(f).fill(NaN);let u;const c=r.stream({point(d,l){a[u]=d,s[u]=l}});for(u=0;u<f;++u)c.point(i[u],o[u])}function N5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Cn(t)&&(t=t.type),t!=null)}function C5(t){if(typeof(t==null?void 0:t.stream)=="function")return wa;if(Cn(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?Ns(t).type:t,[[i,o],[f,a]]=af(r({...n,width:100,height:100})).bounds(e),s=(a-o)/(f-i);return s&&isFinite(s)?s<.2?.2:s>5?5:s:wa}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=Ns(t);if(e)return e}return wa}}function I5(t,e,{projection:n}){const{x:r,y:i}=t;let o={};return r&&(o.x=r),i&&(o.y=i),o=Tp(o,e),n&&(r==null?void 0:r.scale)==="x"&&(i==null?void 0:i.scale)==="y"&&Gp("x","y",o,n),r&&(o.x=ir(o.x)),i&&(o.y=ir(o.y)),o}function k5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(f,a){e.push(f),n.push(a)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const f of t.value)an(f,o);return[r,i]}function Lu(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:bp(n)}}function Nt(t,{document:e}){return Bn(tf(t).call(e.documentElement))}const Cs=Symbol("unset");function Ru(t){return(t.length===1?D5:L5)(t)}function D5(t){let e,n=Cs;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function L5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,e=t(...r)),e)}const R5=Ru(t=>new Intl.NumberFormat(t));Ru((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));Ru((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function P5(t="en-US"){const e=R5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function O5(t){return y3(t,"Invalid Date")}function F5(t="en-US"){const e=P5(t);return n=>(n instanceof Date?O5:typeof n=="number"?e:Tt)(n)}const ar=F5(),Ot=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let U5=0;function q5(){return`plot-clip-${++U5}`}function B5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:f,fill:a,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:_,opacity:m,mixBlendMode:b,imageFilter:w,paintOrder:y,pointerEvents:x,shapeRendering:v,channels:M},{ariaLabel:T,fill:E="currentColor",fillOpacity:I,stroke:$="none",strokeOpacity:N,strokeWidth:S,strokeLinecap:D,strokeLinejoin:A,strokeMiterlimit:L,paintOrder:P}){E===null&&(a=null,s=null),$===null&&(u=null,d=null),It(E)?!It($)&&(!It(a)||M!=null&&M.fill)&&($="none"):It($)&&(!It(u)||M!=null&&M.stroke)&&(E="none");const[B,V]=$n(a,E),[O,q]=Mt(s,I),[F,U]=$n(u,$),[Z,nt]=Mt(d,N),[K,z]=Mt(m);Jr(U)||(c===void 0&&(c=S),h===void 0&&(h=D),l===void 0&&(l=A),p===void 0&&!Z3(l)&&(p=L),!Jr(V)&&y===void 0&&(y=P));const[H,k]=Mt(c);return E!==null&&(t.fill=gt(V,"currentColor"),t.fillOpacity=Tr(q,1)),$!==null&&(t.stroke=gt(U,"none"),t.strokeWidth=Tr(k,1),t.strokeOpacity=Tr(nt,1),t.strokeLinejoin=gt(l,"miter"),t.strokeLinecap=gt(h,"butt"),t.strokeMiterlimit=Tr(p,4),t.strokeDasharray=gt(g,"none"),t.strokeDashoffset=gt(_,"0")),t.target=Tt(f),t.ariaLabel=Tt(T),t.ariaDescription=Tt(i),t.ariaHidden=Tt(o),t.opacity=Tr(z,1),t.mixBlendMode=gt(b,"normal"),t.imageFilter=gt(w,"none"),t.paintOrder=gt(y,"normal"),t.pointerEvents=gt(x,"auto"),t.shapeRendering=gt(v,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:Z,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:K,scale:"auto",optional:!0}}}function Y5(t,e){e&&t.filter(n=>_u(e[n])).append("title").call(H5,e)}function z5(t,e){e&&t.filter(([n])=>_u(e[n])).append("title").call(W5,e)}function H5(t,e){e&&t.text(n=>ar(e[n]))}function W5(t,e){e&&t.text(([n])=>ar(e[n]))}function hr(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:f,stroke:a,strokeOpacity:s,strokeWidth:u,opacity:c,href:d}){r&&G(t,"aria-label",l=>r[l]),o&&G(t,"fill",l=>o[l]),f&&G(t,"fill-opacity",l=>f[l]),a&&G(t,"stroke",l=>a[l]),s&&G(t,"stroke-opacity",l=>s[l]),u&&G(t,"stroke-width",l=>u[l]),c&&G(t,"opacity",l=>c[l]),d&&Zp(t,l=>d[l],e),n||Y5(t,i)}function V5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:f,stroke:a,strokeOpacity:s,strokeWidth:u,opacity:c,href:d}){r&&G(t,"aria-label",([l])=>r[l]),o&&G(t,"fill",([l])=>o[l]),f&&G(t,"fill-opacity",([l])=>f[l]),a&&G(t,"stroke",([l])=>a[l]),s&&G(t,"stroke-opacity",([l])=>s[l]),u&&G(t,"stroke-width",([l])=>u[l]),c&&G(t,"opacity",([l])=>c[l]),d&&Zp(t,([l])=>d[l],e),n||z5(t,i)}function G5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:f,opacity:a,href:s},{tip:u}){return[t,u?void 0:e,n,r,i,o,f,a,s].filter(c=>c!==void 0)}function X5(t,e,n){const r=eb(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&We("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Z5(t,e,n,r){const{z:i}=n,{z:o}=r,f=G5(r,n),a=[...e,...f];for(const s of o?X5(t,o,i):[t]){let u,c;t:for(const d of s){for(const l of a)if(!Xe(l[d])){c&&c.push(-1);continue t}if(u===void 0){c&&(yield c),u=f.map(l=>ke(l[d])),c=[d];continue}c.push(d);for(let l=0;l<f.length;++l)if(ke(f[l][d])!==u[l]){yield c,u=f.map(p=>ke(p[d])),c=[d];continue t}}c&&(yield c)}}function j5(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{t=Nt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=Q5(r,n);break}case"sphere":{i=K5(r);break}}G(t,"aria-label",e.ariaLabel),G(t,"aria-description",e.ariaDescription),G(t,"aria-hidden",e.ariaHidden),G(t,"clip-path",i)}function Xp(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const o=q5();Bn(n.ownerSVGElement).append("clipPath").attr("id",o).call(t,n,r),e.set(n,i=`url(#${o})`)}return i}}const Q5=Xp((t,e,n)=>{const{width:r,height:i,marginLeft:o,marginRight:f,marginTop:a,marginBottom:s}=n;t.append("rect").attr("x",o).attr("y",a).attr("width",r-f-o).attr("height",i-a-s)}),K5=Xp((t,e)=>{const{projection:n}=e;if(!n)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",af(n)({type:"Sphere"}))});function Je(t,e,n,r){j5(t,e,n,r),G(t,"class",e.className),G(t,"fill",e.fill),G(t,"fill-opacity",e.fillOpacity),G(t,"stroke",e.stroke),G(t,"stroke-width",e.strokeWidth),G(t,"stroke-opacity",e.strokeOpacity),G(t,"stroke-linejoin",e.strokeLinejoin),G(t,"stroke-linecap",e.strokeLinecap),G(t,"stroke-miterlimit",e.strokeMiterlimit),G(t,"stroke-dasharray",e.strokeDasharray),G(t,"stroke-dashoffset",e.strokeDashoffset),G(t,"shape-rendering",e.shapeRendering),G(t,"filter",e.imageFilter),G(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;G(t,"pointer-events",i)}function tn(t,e){J5(t,"mix-blend-mode",e.mixBlendMode),G(t,"opacity",e.opacity)}function Zp(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(Gn.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Gn.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function G(t,e,n){n!=null&&t.attr(e,n)}function J5(t,e,n){n!=null&&t.style(e,n)}function en(t,e,{x:n,y:r},i=Ot,o=Ot){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function gt(t,e){if((t=Tt(t))!==e)return t}function Tr(t,e){if((t=wt(t))!==e)return t}const t4=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Df(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!t4.test(t))throw new Error(`invalid class name: ${t}`);return t}function Pu(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Si({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:f}){return[/left$/.test(t)?f:/right$/.test(t)?e-i:(f+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}class oe{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:f,fx:a,fy:s,sort:u,dx:c=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:_=l,className:m,clip:b=i==null?void 0:i.clip,channels:w,tip:y,render:x}=r;if(this.data=e,this.sort=fr(u)?u:null,this.initializer=An(r).initializer,this.transform=this.initializer?r.transform:Mp(r).transform,o===null||o===!1?this.facet=null:(this.facet=ie(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===oo&&typeof a=="string"?[a]:a,this.fy=e===oo&&typeof s=="string"?[s]:s),this.facetAnchor=y5(f),n=Tu(n),w!==void 0&&(n={...e4(w),...n}),i!==void 0&&(n={...B5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,M])=>{if(Mf(M.value)){const{value:T,label:E=M.label,scale:I=M.scale}=M.value;M={...M,label:E,scale:I,value:T}}if(e===oo&&typeof M.value=="string"){const{value:T}=M;M={...M,value:[T]}}return[v,M]}).filter(([v,{value:M,optional:T}])=>{if(M!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+_,this.clip=bp(b),this.tip=n4(y),this.className=m?Df(m):null,this.facet==="super"){if(a||s)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:M}=n[v];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}x!=null&&(this.render=Qp(x,this.render))}initialize(e,n,r){let i=or(this.data);e===void 0&&i!=null&&(e=[vi(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=or(i)),e!==void 0&&(e.original=o);const f=_8(this.channels,i);return this.sort!=null&&y8(i,e,f,n,this.sort),{data:i,facets:e,channels:f}}filter(e,n,r){for(const i in n){const{filter:o=Xe}=n[i];if(o!==null){const f=r[i];e=e.filter(a=>o(f[a]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&Gp(i,o,n,r.projection)}}scale(e,n,r){const i=Tp(e,n);return r.projection&&this.project(e,i,r),i}}function jp(...t){return t.plot=oe.prototype.plot,t}function Qp(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,f,a){return t.call(this,n,r,i,o,f,(s,u,c,d,l)=>e.call(this,s,u,c,d,l,a))}}function e4(t){return Object.fromEntries(Object.entries(Tu(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Tf(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function n4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ie(t,"tip",["x","y","xy"]):t}function Kp(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Cn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function r4(t,e,n={}){let r=.5-Ot,i=.5+Ot,o=.5+Ot,f=.5-Ot;for(const{marginTop:g,marginRight:_,marginBottom:m,marginLeft:b}of e)g>r&&(r=g),_>i&&(i=_),m>o&&(o=m),b>f&&(f=b);let{margin:a,marginTop:s=a!==void 0?a:r,marginRight:u=a!==void 0?a:i,marginBottom:c=a!==void 0?a:o,marginLeft:d=a!==void 0?a:f}=n;s=+s,u=+u,c=+c,d=+d;let{width:l=640,height:h=i4(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:f})+Math.max(0,s-r+c-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:s,marginRight:u,marginBottom:c,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:_=g!==void 0?g:s,marginRight:m=g!==void 0?g:u,marginBottom:b=g!==void 0?g:c,marginLeft:w=g!==void 0?g:d}=n.facet??{};_=+_,m=+m,b=+b,w=+w,p.facet={marginTop:_,marginRight:m,marginBottom:b,marginLeft:w}}return p}function i4({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:f,marginTopDefault:a,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){const d=n&&n.scale.domain().length||1,l=C5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,_=Math.max(.1,Math.min(10,g));return Math.round((f-c-s)*_+a+u)}const h=e?kn(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Fl("y",e)/(Fl("x",t)*o),g=r?r.scale.bandwidth():1,_=n?n.scale.bandwidth():1,m=g*(f-c-s)-t.insetLeft-t.insetRight;return(p*m+e.insetTop+e.insetBottom)/_+a+u}return!!(e||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Fl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const a=e.scale.exponent();i=s=>Math.pow(s,a);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,f]=He(r);return Math.abs(i(f)-i(o))}const Ul=new WeakMap;function Ou(t,e,{x:n,y:r,px:i,py:o,maxRadius:f=40,channels:a,render:s,...u}={}){return f=+f,i!=null&&(n??(n=null),a={...a,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),a={...a,py:{value:o,scale:"y"}}),{x:n,y:r,channels:a,...u,render:Qp(function(c,d,l,h,p,g){p={...p,pointerSticky:!1};const _=p.ownerSVGElement,{data:m}=p.getMarkState(this);let b=Ul.get(_);b||Ul.set(_,b={sticky:!1,roots:[],renders:[]});let w=b.renders.push(U)-1;const{x:y,y:x,fx:v,fy:M}=d;let T=v?v(c.fx)-h.marginLeft:0,E=M?M(c.fy)-h.marginTop:0;y!=null&&y.bandwidth&&(T+=y.bandwidth()/2),x!=null&&x.bandwidth&&(E+=x.bandwidth()/2);const I=c.fi!=null;let $;if(I){let z=b.facetStates;z||(b.facetStates=z=new Map),$=z.get(this),$||z.set(this,$=new Map)}const[N,S]=Si(this,h),{px:D,py:A}=l,L=D?z=>D[z]:Jp(l,N),P=A?z=>A[z]:tg(l,S);let B,V,O,q;function F(z,H){if(I)if(q&&(q=cancelAnimationFrame(q)),z==null)$.delete(c.fi);else{$.set(c.fi,H),q=requestAnimationFrame(()=>{q=null;for(const[k,Y]of $)if(Y<H||Y===H&&k<c.fi){z=null;break}U(z)});return}U(z)}function U(z){if(B===z&&O===b.sticky)return;B=z,O=p.pointerSticky=b.sticky;const H=B==null?[]:[B];I&&(H.fx=c.fx,H.fy=c.fy,H.fi=c.fi);const k=g(H,d,l,h,p);if(V){if(I){const Y=V.parentNode,W=V.getAttribute("transform"),C=k.getAttribute("transform");W?k.setAttribute("transform",W):k.removeAttribute("transform"),C?Y.setAttribute("transform",C):Y.removeAttribute("transform"),k.removeAttribute("aria-label"),k.removeAttribute("aria-description"),k.removeAttribute("aria-hidden")}V.replaceWith(k)}if(b.roots[w]=V=k,!(B==null&&($==null?void 0:$.size)>1)){const Y=B==null?null:wi(m)?m[B]:m.get(B);p.dispatchValue(Y)}return k}function Z(z){if(b.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[H,k]=f_(z);H-=T,k-=E;const Y=H<h.marginLeft||H>h.width-h.marginRight?1:t,W=k<h.marginTop||k>h.height-h.marginBottom?1:e;let C=null,ft=f*f;for(const X of c){const ut=Y*(L(X)-H),ht=W*(P(X)-k),Dt=ut*ut+ht*ht;Dt<=ft&&(C=X,ft=Dt)}if(C!=null&&(t!==1||e!==1)){const X=L(C)-H,ut=P(C)-k;ft=X*X+ut*ut}F(C,ft)}function nt(z){z.pointerType==="mouse"&&B!=null&&(b.sticky&&b.roots.some(H=>H==null?void 0:H.contains(z.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(H=>H(null))):(b.sticky=!0,U(B)),z.stopImmediatePropagation()))}function K(z){z.pointerType==="mouse"&&(b.sticky||F(null))}return _.addEventListener("pointerenter",Z),_.addEventListener("pointermove",Z),_.addEventListener("pointerdown",nt),_.addEventListener("pointerleave",K),U(null)},s)}}function o4(t){return Ou(1,1,t)}function f4(t){return Ou(1,.01,t)}function ql(t){return Ou(.01,1,t)}function Jp({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function tg({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function eg(t){return kn(t)&&t.interval===void 0?void 0:"tabular-nums"}function a4(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:f=18,marginRight:a=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:d=(i-u-a)/64,tickFormat:l,fontVariant:h=eg(t),round:p=!0,opacity:g,className:_}=e;const m=Lu(e);_=Df(_),g=Mt(g)[1],l===null&&(l=()=>null);const b=Nt("svg",m).attr("class",`${_}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(N=>N.append("style").text(`:where(.${_}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${_}-ramp text) {
  white-space: pre;
}`)).call(Pu,c);let w=N=>N.selectAll(".tick line").attr("y1",f+s-o),y;const x=p?(N,S)=>N.rangeRound(S):(N,S)=>N.range(S),{type:v,domain:M,range:T,interpolate:E,scale:I,pivot:$}=t;if(E){const N=T===void 0?E:rf(E.length===1?Iu(E):E,T);y=x(I.copy(),Jt(At(u,i-a),Math.min(M.length+($!==void 0),T===void 0?1/0:T.length)));const S=256,D=m.document.createElement("canvas");D.width=S,D.height=1;const A=D.getContext("2d");for(let L=0,P=S-1;L<S;++L)A.fillStyle=N(L/P),A.fillRect(L,0,1,1);b.append("image").attr("opacity",g).attr("x",u).attr("y",f).attr("width",i-u-a).attr("height",o-f-s).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(v==="threshold"){const N=M,S=l===void 0?D=>D:typeof l=="string"?lr(l):l;y=x(su().domain([-1,T.length-1]),[u,i-a]),b.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(D,A)=>y(A-1)).attr("y",f).attr("width",(D,A)=>y(A)-y(A-1)).attr("height",o-f-s).attr("fill",D=>D),d=St(N,(D,A)=>A),l=D=>S(N[D],D)}else y=x(lf().domain(M),[u,i-a]),b.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",y).attr("y",f).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-f-s).attr("fill",I),w=()=>{};return b.append("g").attr("transform",`translate(0,${o-s})`).call(Mb(y).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",gt(h,"normal")).call(w).call(N=>N.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",u).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const ng=Math.PI/180;function Fu(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=va(n),t.markerMid=va(r),t.markerEnd=va(i)}function va(t){if(t==null||t===!1)return null;if(t===!0)return Yl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Bl("auto");case"arrow-reverse":return Bl("auto-start-reverse");case"dot":return s4;case"circle":case"circle-fill":return Yl;case"circle-stroke":return u4;case"tick":return xa("auto");case"tick-x":return xa(90);case"tick-y":return xa(0)}throw new Error(`invalid marker: ${t}`)}function Bl(t){return(e,n)=>Nt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function s4(t,e){return Nt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Yl(t,e){return Nt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function u4(t,e){return Nt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function xa(t){return(e,n)=>Nt("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let c4=0;function rg(t,e,{stroke:n},r){return og(t,e,n&&(i=>n[i]),null,r)}function l4(t,e,{stroke:n,z:r},i){return og(t,e,n&&(([o])=>n[o]),r,i)}const Is=1,ig=2;function d4(t,e){const n=new Uint8Array(e.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,f=Cs;o<i;++o){const a=r[o];if(a.length>1){const s=a[0];f!==(f=ke(e[s]))&&(n[s]|=Is)}}for(let o=i-1,f=Cs;o>=0;--o){const a=r[o];if(a.length>1){const s=a[0];f!==(f=ke(e[s]))&&(n[s]|=ig)}}return([o])=>n[o]}function og(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,f,a){if(!e&&!n&&!r)return;const s=new Map,u=f&&d4(t,f);function c(d,l,h){return function(p){if(h&&!h(p))return;const g=o(p);let _=s.get(l);_||s.set(l,_=new Map);let m=_.get(g);if(!m){const b=this.parentNode.insertBefore(l(g,a),this),w=`plot-marker-${++c4}`;b.setAttribute("id",w),_.set(g,m=`url(#${w})`)}this.setAttribute(d,m)}}e&&t.each(c("marker-start",e,u&&(d=>u(d)&Is))),n&&u&&t.each(c("marker-start",n,d=>!(u(d)&Is))),n&&t.each(c("marker-mid",n)),r&&t.each(c("marker-end",r,u&&(d=>u(d)&ig)))}function fg({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=sg(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function ag({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=sg(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function sg(t,e,n){return t===void 0&&e===void 0&&n===void 0?Ot?[1,0]:[.5,.5]:[e,n]}function ug(t,{interval:e}){return t={...Tf(t)},t.interval=Au(t.interval===void 0?e:t.interval),t}function cg(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:f}=n,{value:a,interval:s}=ug(i,n);if(a==null||s==null)return n;const u=Af(i);if(s==null){let h;const p={transform:g=>h||(h=Pe(g,a)),label:u};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:f===void 0&&!(o===f&&r)?p:f}}let c,d;function l(h){return d!==void 0&&h===c?d:d=St(Pe(c=h,a),p=>s.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:f===void 0?{transform:h=>l(h).map(p=>s.offset(p)),label:u}:f})}function lg(t,e,n){const{[t]:r}=n,{value:i,interval:o}=ug(r,n);return i==null||o==null?n:e({...n,[t]:{label:Af(r),transform:f=>{const a=St(Pe(f,i),u=>o.floor(u)),s=a.map(u=>o.offset(u));return a.map(me(a)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function h4(t={}){return cg("x",fg,t)}function p4(t={}){return cg("y",ag,t)}function g4(t={}){return lg("x",fg,t)}function m4(t={}){return lg("y",ag,t)}const dg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class b4 extends oe{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:f=0,insetTop:a=f,insetBottom:s=f}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Kp(n,"x"),dg),this.insetTop=wt(a),this.insetBottom=wt(s),Fu(this,n)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y1:u,y2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:_}=i,{insetTop:m,insetBottom:b}=this;return Nt("svg:g",o).call(Je,this,i,o).call(en,this,{x:s&&f},Ot,0).call(w=>w.selectAll().data(e).enter().append("line").call(tn,this).attr("x1",s?y=>s[y]:(g+d-p)/2).attr("x2",s?y=>s[y]:(g+d-p)/2).attr("y1",u&&!zo(a)?y=>u[y]+m:h+m).attr("y2",c&&!zo(a)?a.bandwidth?y=>c[y]+a.bandwidth()-b:y=>c[y]-b:l-_-b).call(hr,this,r).call(rg,this,r,o)).node()}}class _4 extends oe{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:f=0,insetRight:a=f,insetLeft:s=f}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Kp(n,"y"),dg),this.insetRight=wt(a),this.insetLeft=wt(s),Fu(this,n)}render(e,n,r,i,o){const{x:f,y:a}=n,{y:s,x1:u,x2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:_}=i,{insetLeft:m,insetRight:b}=this;return Nt("svg:g",o).call(Je,this,i,o).call(en,this,{y:s&&a},0,Ot).call(w=>w.selectAll().data(e).enter().append("line").call(tn,this).attr("x1",u&&!zo(f)?y=>u[y]+m:g+m).attr("x2",c&&!zo(f)?f.bandwidth?y=>c[y]+f.bandwidth()-b:y=>c[y]-b:d-p-b).attr("y1",s?y=>s[y]:(h+l-_)/2).attr("y2",s?y=>s[y]:(h+l-_)/2).call(hr,this,r).call(rg,this,r,o)).node()}}function y4(t,e){let{x:n=ye,y:r,y1:i,y2:o,...f}=p4(e);return[i,o]=hg(r,i,o),new b4(t,{...f,x:n,y1:i,y2:o})}function w4(t,e){let{y:n=ye,x:r,x1:i,x2:o,...f}=h4(e);return[i,o]=hg(r,i,o),new _4(t,{...f,y:n,x1:i,x2:o})}function hg(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Uu(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const v4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},pg="­";class qu extends oe{constructor(e,n={}){const{x:r,y:i,text:o=In(e)&&mp(e)?ye:k3,frameAnchor:f,textAnchor:a=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:s=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:_,fontWeight:m,rotate:b}=n,[w,y]=Mt(b,0),[x,v]=E4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:z3(w),optional:!0},text:{value:o,filter:_u,optional:!0}},n,v4),this.rotate=y,this.textAnchor=gt(a,"middle"),this.lineAnchor=ie(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=gg(d),this.monospace=!!l,this.fontFamily=Tt(h),this.fontSize=v,this.fontStyle=Tt(g),this.fontVariant=Tt(_),this.fontWeight=Tt(m),this.frameAnchor=Sf(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=bg(this),this.clipLine=_g(this)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,rotate:c,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,_]=Si(this,i);return Nt("svg:g",o).call(Je,this,i,o).call(mg,this,d,i).call(en,this,{x:s&&f,y:u&&a}).call(m=>m.selectAll().data(e).enter().append("text").call(tn,this).call(x4,this,d,l).attr("transform",Uu`translate(${s?b=>s[b]:g},${u?b=>u[b]:_})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(G,"font-size",h&&(b=>h[b])).call(hr,this,r)).node()}}function gg(t){return t==null?null:ie(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function x4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:f,splitLines:a,clipLine:s}=e;t.each(function(u){const c=a(ar(n[u])??"").map(s),d=c.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(Gn.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=c[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=c[0];if(f&&!r&&c[0]!==n[u]){const h=this.ownerDocument.createElementNS(Gn.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function Ni(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=$f(e,n)),new qu(t,{...r,x:e,y:n})}function M4(t,{x:e=ye,...n}={}){return new qu(t,m4({...n,x:e}))}function $4(t,{y:e=ye,...n}={}){return new qu(t,g4({...n,y:e}))}function mg(t,e,n){G(t,"text-anchor",e.textAnchor),G(t,"font-family",e.fontFamily),G(t,"font-size",e.fontSize),G(t,"font-style",e.fontStyle),G(t,"font-variant",e.fontVariant===void 0?A4(n):e.fontVariant),G(t,"font-weight",e.fontWeight)}function A4(t){return t&&(V3(t)||me(t))?"tabular-nums":void 0}const T4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function E4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),T4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function S4(t,e,n){const r=[];let i,o=0;for(const[f,a,s]of N4(t)){if(i===void 0&&(i=f),o>i&&n(t,i,a)>e&&(r.push(t.slice(i,o)+(t[o-1]===pg?"-":"")),i=f),s){r.push(t.slice(i,a)),i=void 0;continue}o=a}return r}function*N4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case pg:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const zl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Bu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=pr(t,i))r+=zl[t[i]]??(wg(t,i)?120:zl.e);return r}function Yu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=pr(t,i))r+=wg(t,i)?126:63;return r}function bg({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Yu:Bu,i=e*100;return o=>S4(o,i,r)}function _g({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?Yu:Bu,i=e*100;switch(n){case"clip-start":return o=>Wl(o,i,r,"");case"clip-end":return o=>Hl(o,i,r,"");case"ellipsis-start":return o=>Wl(o,i,r,Hn);case"ellipsis-middle":return o=>C4(o,i,r,Hn);case"ellipsis-end":return o=>Hl(o,i,r,Hn)}}const Hn="…";function sr(t,e,n,r){const i=[];let o=0;for(let f=0,a=0,s=t.length;f<s;f=a){a=pr(t,f);const u=n(t,f,a);if(o+u>e){for(o+=r;o>e&&f>0;)a=f,f=i.pop(),o-=n(t,f,a);return[f,e-o]}o+=u,i.push(f)}return[-1,0]}function Hl(t,e,n,r){t=t.trim();const i=n(r),[o]=sr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function C4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[f,a]=sr(t,e/2,n,o),[s]=sr(t,i-e/2-a+o,n,-o);return s<0?r:t.slice(0,f).trimEnd()+r+t.slice(pr(t,s)).trimStart()}function Wl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[f]=sr(t,i-e+o,n,-o);return f<0?r:r+t.slice(pr(t,f)).trimStart()}const ks=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Vl=new RegExp("\\p{Extended_Pictographic}","uy");function pr(t,e){return e+=I4(t,e)?2:1,D4(t,e)&&(e=ks.lastIndex),k4(t,e)?pr(t,e+1):e}function yg(t,e){return t.charCodeAt(e)<128}function I4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function k4(t,e){return t.charCodeAt(e)===8205}function D4(t,e){return yg(t,e)?!1:(ks.lastIndex=e,ks.test(t))}function wg(t,e){return yg(t,e)?!1:(Vl.lastIndex=e,Vl.test(t))}const L4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},vg=3.5,R4=vg*5,xg={draw(t,e,n){const r=e*n/R4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},P4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},O4=new Map([["arrow",xg],["spike",P4]]);function F4(t){return t&&typeof t.draw=="function"}function U4(t){if(F4(t))return t;const e=O4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Mg extends oe{constructor(e,n={}){const{x:r,y:i,r:o=vg,length:f,rotate:a,shape:s=xg,anchor:u="middle",frameAnchor:c}=n,[d,l]=Mt(f,12),[h,p]=Mt(a,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,L4),this.r=+o,this.length=l,this.rotate=p,this.shape=U4(s),this.anchor=ie(u,"anchor",["start","middle","end"]),this.frameAnchor=Sf(c)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,length:c,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:_}=this,[m,b]=Si(this,i);return Nt("svg:g",o).call(Je,this,i,o).call(en,this,{x:s&&f,y:u&&a}).call(w=>w.selectAll().data(e).enter().append("path").call(tn,this).attr("transform",Uu`translate(${s?y=>s[y]:m},${u?y=>u[y]:b})${d?y=>` rotate(${d[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?y=>` translate(0,${c[y]})`:` translate(0,${l})`:c?y=>` translate(0,${c[y]/2})`:` translate(0,${l/2})`}`).attr("d",c?y=>{const x=Za();return g.draw(x,c[y],_),x}:(()=>{const y=Za();return g.draw(y,l,_),y})()).call(hr,this,r)).node()}}function q4(t,e={}){const{x:n=ye,...r}=e;return new Mg(t,{...r,x:n})}function B4(t,e={}){const{y:n=ye,...r}=e;return new Mg(t,{...r,y:n})}function nn(t,e){return arguments.length<2&&!In(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Lf({anchor:t}={},e){return t===void 0?e[0]:ie(t,"anchor",e)}function $g(t){return Lf(t,["left","right"])}function Ag(t){return Lf(t,["right","left"])}function Tg(t){return Lf(t,["bottom","top"])}function Eg(t){return Lf(t,["top","bottom"])}function Sg(){const[t,e]=nn(...arguments);return Cg("y",$g(e),t,e)}function Y4(){const[t,e]=nn(...arguments);return Cg("fy",Ag(e),t,e)}function Ng(){const[t,e]=nn(...arguments);return Ig("x",Tg(e),t,e)}function z4(){const[t,e]=nn(...arguments);return Ig("fx",Eg(e),t,e)}function Cg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:f=i,strokeWidth:a=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:_,x:m,margin:b,marginTop:w=b===void 0?20:b,marginRight:y=b===void 0?e==="right"?40:0:b,marginBottom:x=b===void 0?20:b,marginLeft:v=b===void 0?e==="left"?40:0:b,label:M,labelAnchor:T,labelArrow:E,labelOffset:I,...$}){return p=wt(p),g=wt(g),_=wt(_),T!==void 0&&(T=ie(T,"labelAnchor",["center","top","bottom"])),E=Ug(E),jp(p&&!It(o)?H4(t,e,n,{stroke:o,strokeOpacity:f,strokeWidth:a,tickSize:p,tickPadding:g,tickRotate:_,x:m,...$}):null,It(s)?null:V4(t,e,n,{fill:s,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:_,x:m,marginTop:w,marginRight:y,marginBottom:x,marginLeft:v,...$}),!It(s)&&M!==null?Ni([],Rg({fill:s,fillOpacity:u,...$},function(N,S,D,A,L){const P=A[t],{marginTop:B,marginRight:V,marginBottom:O,marginLeft:q}=t==="y"&&L.inset||L,F=T??(P.bandwidth?"center":"top"),U=I??(e==="right"?V:q)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${e}`,this.rotate=0),this.dy=F==="top"?3-B:F==="bottom"?O-3:0,this.dx=e==="right"?U:-U,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Fg(t,P,{anchor:e,label:M,labelAnchor:F,labelArrow:E})]}}}})):null)}function Ig(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:f=i,strokeWidth:a=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:_,y:m,margin:b,marginTop:w=b===void 0?e==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:x=b===void 0?e==="bottom"?30:0:b,marginLeft:v=b===void 0?20:b,label:M,labelAnchor:T,labelArrow:E,labelOffset:I,...$}){return p=wt(p),g=wt(g),_=wt(_),T!==void 0&&(T=ie(T,"labelAnchor",["center","left","right"])),E=Ug(E),jp(p&&!It(o)?W4(t,e,n,{stroke:o,strokeOpacity:f,strokeWidth:a,tickSize:p,tickPadding:g,tickRotate:_,y:m,...$}):null,It(s)?null:G4(t,e,n,{fill:s,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:_,y:m,marginTop:w,marginRight:y,marginBottom:x,marginLeft:v,...$}),!It(s)&&M!==null?Ni([],Rg({fill:s,fillOpacity:u,...$},function(N,S,D,A,L){const P=A[t],{marginTop:B,marginRight:V,marginBottom:O,marginLeft:q}=t==="x"&&L.inset||L,F=T??(P.bandwidth?"center":"right"),U=I??(e==="top"?B:O)-3;return F==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-U:U,this.dx=F==="right"?V-3:F==="left"?3-q:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Fg(t,P,{anchor:e,label:M,labelAnchor:F,labelArrow:E})]}}}})):null)}function H4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:f=e+(t==="y"?"-empty":""),frameAnchor:a=e,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:d=u,dx:l=0,y:h=t==="y"?void 0:null,...p}){return gr(B4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:f,frameAnchor:a,y:h,...p,dx:e==="left"?+l-Ot+ +c:+l+Ot-d,anchor:"start",length:s,shape:e==="left"?e7:n7})}function W4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:f=e+(t==="x"?"-empty":""),frameAnchor:a=e,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:d=u,dy:l=0,x:h=t==="x"?void 0:null,...p}){return gr(q4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:f,frameAnchor:a,x:h,...p,dy:e==="bottom"?+l-Ot-d:+l+Ot+ +c,anchor:"start",length:s,shape:e==="bottom"?J4:t7})}function V4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:f=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(f)>60?4*Math.cos(f*ng):0),text:s,textAnchor:u=Math.abs(f)>60?"middle":e==="left"?"end":"start",lineAnchor:c=f>60?"top":f<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y:_=t==="y"?void 0:null,...m}){return gr($4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s,textAnchor:u,lineAnchor:c,fontVariant:d,rotate:f,y:_,...m,dx:e==="left"?+g-o-a+ +h:+g+ +o+ +a-p},function(b,w,y,x,v){d===void 0&&(this.fontVariant=Og(b)),s===void 0&&(v.text=Pg(b,w,y,x,e))})}function G4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:f=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(f)>=10?4*Math.cos(f*ng):0),text:s,textAnchor:u=Math.abs(f)>=10?f<0^e==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(f)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:_=t==="x"?void 0:null,...m}){return gr(M4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:d,rotate:f,x:_,...m,dy:e==="bottom"?+g+ +o+ +a-p:+g-o-a+ +h},function(b,w,y,x,v){d===void 0&&(this.fontVariant=Og(b)),s===void 0&&(v.text=Pg(b,w,y,x,e))})}function X4(){const[t,e]=nn(...arguments);return kg("y",$g(e),t,e)}function Z4(){const[t,e]=nn(...arguments);return kg("fy",Ag(e),t,e)}function j4(){const[t,e]=nn(...arguments);return Dg("x",Tg(e),t,e)}function Q4(){const[t,e]=nn(...arguments);return Dg("fx",Eg(e),t,e)}function kg(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:f=e==="right"?i:null,...a}){return gr(w4,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:f,...Lg(a)})}function Dg(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:f=e==="bottom"?i:null,...a}){return gr(y4,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:f,...Lg(a)})}function Lg({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Rg({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:f,monospace:a,pointerEvents:s,shapeRendering:u,clip:c=!1},d){return[,t]=$n(t),[,e]=Mt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:f,monospace:a,pointerEvents:s,shapeRendering:u,clip:c,initializer:d}}function gr(t,e,n,r,i,o){let f;function a(c,d,l,h,p,g){const _=c==null&&(e==="fx"||e==="fy"),{[e]:m}=h;if(!m)throw new Error(`missing scale: ${e}`);const b=m.domain();let{interval:w,ticks:y,tickFormat:x,tickSpacing:v=e==="x"?80:35}=i;if(typeof y=="string"&&qg(m)&&(w=y,y=void 0),y===void 0&&(y=xi(w,m.type)??K4(m,v)),c==null){if(In(y))c=Ze(y);else if(Y3(y))c=Ma(y,...He(b));else if(m.interval){let T=m.interval;if(m.ticks){const[E,I]=He(b),$=(I-E)/T[yi];T=bl(T,$/y)??T,c=Ma(T,E,I)}else{c=b;const E=c.length;T=bl(T,E/y)??T,T!==m.interval&&(c=Ma(T,...He(c)))}if(T===m.interval){const E=Math.round(c.length/y);E>1&&(c=c.filter((I,$)=>$%E===0))}}else m.ticks?c=m.ticks(y):c=b;if(!m.ticks&&c.length&&c!==b){const T=new Ko(b);c=c.filter(E=>T.has(E)),c.length||We(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[vi(c)]:f[e]={scale:e,value:ye}}o==null||o.call(this,m,c,y,x,f);const M=Object.fromEntries(Object.entries(f).map(([T,E])=>[T,{...E,value:Pe(c,E.value)}]));return _&&(d=g.filterFacets(c,M)),{data:c,facets:d,channels:M}}const s=An(i).initializer,u=t(n,An({...i,initializer:a},s));return n==null?(f=u.channels,u.channels={}):f={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function K4(t,e){const[n,r]=He(t.range());return(r-n)/e}function Pg(t,e,n,r,i){return{value:zu(t,e,n,r,i)}}function zu(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&me(e)?A3(t.type,e,i)??ar:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?ar:typeof r=="string"?(me(t.domain())?_i:lr)(r):Ie(r)}function Ma(t,e,n){return t.range(e,t.offset(t.floor(n)))}const J4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},t7={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},e7={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},n7={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Og(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Fg(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&qg(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const f=f5(e);f&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===f<0?"left":"right":f<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Ug(t="auto"){return It(t)?!1:typeof t=="boolean"?t:ie(t,"labelArrow",["auto","up","right","down","left"])}function qg(t){return me(t.domain())}function Gl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function r7(t,{opacity:e,...n}={}){if(!kn(t)&&!Hp(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Bg(t,n,(r,i,o,f)=>r.append("svg").attr("width",o).attr("height",f).attr("fill",i.scale).attr("fill-opacity",Mt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function i7(t,{fill:e=(u=>(u=t.hint)==null?void 0:u.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:It(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:f=4.5,...a}={},s){const[d,l]=$n(e),[h,p]=$n(r),g=Gl(s,d),_=Gl(s,h),m=f*f*Math.PI;return n=Mt(n)[1],i=Mt(i)[1],o=Mt(o)[1],Bg(t,a,(b,w,y,x)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",x).attr("fill",d==="color"?v=>g.scale(v):l).attr("fill-opacity",n).attr("stroke",h==="color"?v=>_.scale(v):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",v=>{const M=Za();return t.scale(v).draw(M,m),M}))}function Bg(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=eg(t),swatchSize:f=15,swatchWidth:a=f,swatchHeight:s=f,marginLeft:u=0,className:c,style:d,width:l}=e;const h=Lu(e);c=Df(c),i=zu(t.scale,t.domain,void 0,i);const p=Nt("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,a,s).call(_=>_.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,a,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(_=>_.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",gt(o,"normal")).call(Pu,d).node()}const Ds=new Map([["symbol",i7],["color",zg],["opacity",f7]]);function o7(t,e,n={}){return(r,i)=>{if(!Ds.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Ds.get(r)(t[r],Yg(e,n[r],i),o=>t[o])}}function Yg({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return j3(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function zg(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return r7(t,n);case"ramp":return a4(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function f7({type:t,interpolate:e,...n},{legend:r=!0,color:i=Ve(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return zg({type:t,...n,interpolate:a7(i)},{legend:r,...o})}function a7(t){const{r:e,g:n,b:r}=Ve(t)||Ve(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function s7(t,e,n){const r=[];for(const[i,o]of Ds){const f=n[i];if(f!=null&&f.legend&&i in t){const a=o(t[i],Yg(e,t[i],f),s=>t[s]);a!=null&&r.push(a)}}return r}function u7(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={}){t.insetTop=wt(n),t.insetRight=wt(r),t.insetBottom=wt(i),t.insetLeft=wt(o)}function c7(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:o=e,rx2:f=e,ry2:a=e,rx1y1:s=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:a!==void 0?+a:0,rx2y1:c=f!==void 0?+f:o!==void 0?+o:0,rx2y2:d=f!==void 0?+f:a!==void 0?+a:0}={}){s||u||c||d?(t.rx1y1=s,t.rx1y2=u,t.rx2y1=c,t.rx2y2=d):(t.rx=gt(n,"auto"),t.ry=gt(r,"auto"))}function l7(t,e,n,r,i,o){const{rx1y1:f,rx1y2:a,rx2y1:s,rx2y2:u}=o;typeof e!="function"&&(e=Ie(e)),typeof n!="function"&&(n=Ie(n)),typeof r!="function"&&(r=Ie(r)),typeof i!="function"&&(i=Ie(i));const c=Math.max(Math.abs(f+s),Math.abs(a+u)),d=Math.max(Math.abs(f+a),Math.abs(s+u));t.attr("d",l=>{const h=e(l),p=n(l),g=r(l),_=i(l),m=h>g,b=p>_,w=m?g:h,y=m?h:g,x=b?_:p,v=b?p:_,M=Math.min(1,(y-w)/c,(v-x)/d),T=M*(m?b?u:s:b?a:f),E=M*(m?b?a:f:b?u:s),I=M*(m?b?f:a:b?s:u),$=M*(m?b?s:u:b?f:a);return`M${w},${x+Xi(T,$)}A${T},${T} 0 0 ${T<0?0:1} ${w+Gi(T,$)},${x}H${y-Gi(E,I)}A${E},${E} 0 0 ${E<0?0:1} ${y},${x+Xi(E,I)}V${v-Xi(I,E)}A${I},${I} 0 0 ${I<0?0:1} ${y-Gi(I,E)},${v}H${w+Gi($,T)}A${$},${$} 0 0 ${$<0?0:1} ${w},${v-Xi($,T)}Z`})}function Gi(t,e){return e<0?t:Math.abs(t)}function Xi(t,e){return e<0?Math.abs(t):t}const d7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},h7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class p7 extends oe{constructor(e={}){const{anchor:n=null}=e;super(oo,void 0,e,n==null?d7:h7),this.anchor=gp(n,"anchor",["top","right","bottom","left"]),u7(this,e),n||c7(this,e)}render(e,n,r,i,o){const{marginTop:f,marginRight:a,marginBottom:s,marginLeft:u,width:c,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:_}=this,{rx:m,ry:b,rx1y1:w,rx1y2:y,rx2y1:x,rx2y2:v}=this,M=u+_,T=c-a-p,E=f+h,I=d-s-g;return Nt(l?"svg:line":w||y||x||v?"svg:path":"svg:rect",o).datum(0).call(Je,this,i,o).call(tn,this).call(hr,this,r).call(en,this,{}).call(l==="left"?$=>$.attr("x1",M).attr("x2",M).attr("y1",E).attr("y2",I):l==="right"?$=>$.attr("x1",T).attr("x2",T).attr("y1",E).attr("y2",I):l==="top"?$=>$.attr("x1",M).attr("x2",T).attr("y1",E).attr("y2",E):l==="bottom"?$=>$.attr("x1",M).attr("x2",T).attr("y1",I).attr("y2",I):w||y||x||v?$=>$.call(l7,M,E,T,I,this):$=>$.attr("x",M).attr("y",E).attr("width",T-M).attr("height",I-E).attr("rx",m).attr("ry",b)).node()}}function g7(t){return new p7(t)}const $a={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},m7=new Set(["geometry","href","src","ariaLabel","scales"]);class b7 extends oe{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&In(e)&&mp(e)&&(n={...n,title:ye});const{x:r,y:i,x1:o,x2:f,y1:a,y2:s,anchor:u,preferredAnchor:c="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:_,lineHeight:m=1,lineWidth:b=20,frameAnchor:w,format:y,textAnchor:x="start",textOverflow:v,textPadding:M=8,title:T,pointerSize:E=12,pathFilter:I="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&f!=null?null:r,scale:"x",optional:!0},y:{value:a!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:f==null},y1:{value:a,scale:"y",optional:s==null},x2:{value:f,scale:"x",optional:o==null},y2:{value:s,scale:"y",optional:a==null},title:{value:T,optional:!0}},n,$a),this.anchor=Ms(u,"anchor"),this.preferredAnchor=Ms(c,"preferredAnchor"),this.frameAnchor=Sf(w),this.textAnchor=gt(x,"middle"),this.textPadding=+M,this.pointerSize=+E,this.pathFilter=Tt(I),this.lineHeight=+m,this.lineWidth=+b,this.textOverflow=gg(v),this.monospace=!!d,this.fontFamily=Tt(l),this.fontSize=wt(h),this.fontStyle=Tt(p),this.fontVariant=Tt(g),this.fontWeight=Tt(_);for(const $ in $a)$ in this.channels&&(this[$]=$a[$]);this.splitLines=bg(this),this.clipLine=_g(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(e,n,r,i,o){const f=this,{x:a,y:s,fx:u,fy:c}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:_}=this,{textPadding:m,pointerSize:b,pathFilter:w}=this,{marginTop:y,marginLeft:x}=i,{x1:v,y1:M,x2:T,y2:E,x:I=v??T,y:$=M??E}=r,N=u?u(e.fx)-x:0,S=c?c(e.fy)-y:0,[D,A]=Si(this,i),L=Jp(r,D),P=tg(r,A),B=p?Yu:Bu,V=B(Hn);let O,q;"title"in r?(O=Xl.call(this,{title:r.channels.title},n),q=x7):(O=Xl.call(this,r.channels,n),q=M7);const F=Nt("svg:g",o).call(Je,this,i,o).call(mg,this).call(en,this,{x:I&&a,y:$&&s}).call(nt=>nt.selectAll().data(e).enter().append("g").attr("transform",K=>`translate(${Math.round(L(K))},${Math.round(P(K))})`).call(tn,this).call(K=>K.append("path").attr("filter",w)).call(K=>K.append("text").each(function(z){const H=Bn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const k=q.call(f,z,e,O,n,r);if(typeof k=="string")for(const Y of f.splitLines(k))U(H,{value:f.clipLine(Y)});else{const Y=new Set;for(const W of k){const{label:C=""}=W;C&&Y.has(C)||(Y.add(C),U(H,W))}}})));function U(nt,{label:K,value:z,color:H,opacity:k}){K??(K=""),z??(z="");const Y=H!=null||k!=null;let W,C=_*100;const[ft]=sr(K,C,B,V);if(ft>=0)K=K.slice(0,ft).trimEnd()+Hn,W=z.trim(),z="";else{(K||!z&&!Y)&&(z=" "+z);const[ut]=sr(z,C-B(K),B,V);ut>=0&&(W=z.trim(),z=z.slice(0,ut).trimEnd()+Hn)}const X=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");K&&X.append("tspan").attr("font-weight","bold").text(K),z&&X.append(()=>l.createTextNode(z)),Y&&X.append("tspan").text(" ■").attr("fill",H).attr("fill-opacity",k).style("user-select","none"),W&&X.append("title").text(W)}function Z(){const{width:nt,height:K}=i.facet??i;F.selectChildren().each(function(z){let{x:H,width:k,height:Y}=this.getBBox();k=Math.round(k),Y=Math.round(Y);let W=h;if(W===void 0){const X=L(z)+N,ut=P(z)+S,ht=X+k+b+m*2<nt,Dt=X-k-b-m*2>0,Dn=ut+Y+b+m*2<K,br=ut-Y-b-m*2>0;W=ht&&Dt?Dn&&br?f.preferredAnchor:br?"bottom":"top":Dn&&br?ht?"left":"right":(ht||Dt)&&(Dn||br)?`${br?"bottom":"top"}-${ht?"left":"right"}`:f.preferredAnchor}const C=this.firstChild,ft=this.lastChild;if(C.setAttribute("d",v7(W,b,m,k,Y)),H)for(const X of ft.childNodes)X.setAttribute("x",-H);ft.setAttribute("y",`${+y7(W,ft.childNodes.length,g).toFixed(6)}em`),ft.setAttribute("transform",`translate(${w7(W,b,m,k,Y)})`)}),F.attr("visibility",null)}return e.length&&(F.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Z):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Z)),F.node()}}function _7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=$f(e,n)),new b7(t,{...r,x:e,y:n})}function y7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function w7(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function v7(t,e,n,r,i){const o=r+n*2,f=i+n*2;switch(t){case"middle":return`M${-o/2},${-f/2}h${o}v${f}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${f}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${f}h${-o}v${-f}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${f}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-f/2}h${-o}v${f}h${o}v${e/2-f/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-f}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-f}h${-o}v${f}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-f}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-f/2}h${o}v${f}h${-o}v${e/2-f/2}z`}}function Xl(t,e){var i,o;const n={};let r=this.format;r=Zl(r,t,"x"),r=Zl(r,t,"y"),this.format=r;for(const f in r){const a=r[f];if(!(a===null||a===!1))if(f==="fx"||f==="fy")n[f]=!0;else{const s=Al(t,f);s&&(n[f]=s)}}for(const f in t){if(f in n||f in r||m7.has(f)||(f==="x"||f==="y")&&t.geometry)continue;const a=Al(t,f);if(a){if(a.scale==null&&a.defaultScale==="color")continue;n[f]=a}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const f in n){const a=this.format[f];if(typeof a=="string"){const s=((i=n[f])==null?void 0:i.value)??((o=e[f])==null?void 0:o.domain())??[];this.format[f]=(me(s)?_i:lr)(a)}else if(a===void 0||a===!0){const s=e[f];this.format[f]=s!=null&&s.bandwidth?zu(s,s.domain()):ar}}return n}function Zl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),f=t[n];return o.splice(o.findIndex(([a])=>a===n)+1,0,[r,f],[i,f]),Object.fromEntries(o)}function x7(t,e,{title:n}){return this.format.title(n.value[t],t)}function*M7(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:Ho(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const f=n[o];if(o==="x2"&&"x1"in n)yield{label:Ql(r,n,"x"),value:jl(this.format.x2,n.x1,f,t)};else if(o==="y2"&&"y1"in n)yield{label:Ql(r,n,"y"),value:jl(this.format.y2,n.y1,f,t)};else{const a=f.value[t],s=f.scale;if(!Xe(a)&&s==null)continue;yield{label:Ho(r,n,o),value:this.format[o](a,t),color:s==="color"?i[o][t]:null,opacity:s==="opacity"?i[o][t]:null}}}}function jl(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Ql(t,e,n){const r=Ho(t,e,`${n}1`,n),i=Ho(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ho(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Rf(t={}){var V;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:f,ariaDescription:a}=t,s=Df(t.className),u=t.marks===void 0?[]:Jl(t.marks);u.push(...C7(u));const c=S7(e,t),d=new Map;for(const O of u){const q=td(O,c,t);q&&d.set(O,q)}const l=new Map;c&&Er(l,[c],t),Er(l,d,t);const h=Jl(I7(u,l,t));for(const O of h){const q=td(O,c,t);q&&d.set(O,q)}u.unshift(...h);let p=p5(l,t);if(p!==void 0){const O=c?ya(p,c):void 0;for(const F of u){if(F.facet===null||F.facet==="super")continue;const U=d.get(F);U!==void 0&&(U.facetsIndex=F.fx!=null||F.fy!=null?ya(p,U):O)}const q=new Set;for(const{facetsIndex:F}of d.values())F==null||F.forEach((U,Z)=>{(U==null?void 0:U.length)>0&&q.add(Z)});p.forEach(0<q.size&&q.size<p.length?(F,U)=>F.empty=!q.has(U):F=>F.empty=!1);for(const F of u)if(F.facet==="exclude"){const U=d.get(F);U!==void 0&&(U.facetsIndex=b5(U.facetsIndex))}}for(const O of dt.keys())vs(t[O])&&O!=="fx"&&O!=="fy"&&l.set(O,[]);const g=new Map;for(const O of u){if(g.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:q,channels:F}=d.get(O)??{},{data:U,facets:Z,channels:nt}=O.initialize(q,F,t);Hu(nt,t),g.set(O,{data:U,facets:Z,channels:nt})}const _=Es(Er(l,g,t),t),m=r4(_,u,t);i5(_,m);const b=kl(_),{fx:w,fy:y}=b,x=w||y?Bp(_,m):m,v=w||y?F7(b,m):m,M=Lu(t),T=M.document,E=tf("svg").call(T.documentElement);let I=E;M.ownerSVGElement=E,M.className=s,M.projection=T5(t,x),M.filterFacets=(O,q)=>ya(p,{channels:q,groups:Du(O,q)}),M.getMarkState=O=>{const q=g.get(O),F=d.get(O);return{...q,channels:{...q.channels,...F==null?void 0:F.channels}}},M.dispatchValue=O=>{I.value!==O&&(I.value=O,I.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[O,q]of g)if(O.initializer!=null){const F=O.facet==="super"?v:x,U=O.initializer(q.data,q.facets,q.channels,b,F,M);if(U.data!==void 0&&(q.data=U.data),U.facets!==void 0&&(q.facets=U.facets),U.channels!==void 0){const{fx:Z,fy:nt,...K}=U.channels;E7(K),Object.assign(q.channels,K);for(const z of Object.values(K)){const{scale:H}=z;H!=null&&!J3(dt.get(H))&&(Hg(z,t),$.add(H))}(Z!=null||nt!=null)&&d.set(O,!0)}}if($.size){const O=new Map;Er(O,g,t,Z=>$.has(Z)),Er(l,g,t,Z=>$.has(Z));const q=O7(Es(O,t),_),{scales:F,...U}=kl(q);Object.assign(_,q),Object.assign(b,U),Object.assign(b.scales,F)}let N,S;p!==void 0&&(N={x:w==null?void 0:w.domain(),y:y==null?void 0:y.domain()},p=g5(p,N),S=m5(w,y,m));for(const[O,q]of g)q.values=O.scale(q.channels,b,M);const{width:D,height:A}=m;Bn(E).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",D).attr("height",A).attr("viewBox",`0 0 ${D} ${A}`).attr("aria-label",f).attr("aria-description",a).call(O=>O.append("style").text(`:where(.${s}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${s} text),
:where(.${s} tspan) {
  white-space: pre;
}`)).call(Pu,n);for(const O of u){const{channels:q,values:F,facets:U}=g.get(O);if(p===void 0||O.facet==="super"){let Z=null;if(U&&(Z=U[0],Z=O.filter(Z,q,F),Z.length===0))continue;const nt=O.render(Z,b,F,v,M);if(nt==null)continue;E.appendChild(nt)}else{let Z;for(const nt of p){if(!(((V=O.facetAnchor)==null?void 0:V.call(O,p,N,nt))??!nt.empty))continue;let K=null;if(U){const H=d.has(O);if(K=U[H?nt.i:0],K=O.filter(K,q,F),K.length===0)continue;!H&&K===U[0]&&(K=F3(K)),K.fx=nt.x,K.fy=nt.y,K.fi=nt.i}const z=O.render(K,b,F,x,M);if(z!=null){(Z??(Z=Bn(E).append("g"))).append(()=>z).datum(nt);for(const H of["aria-label","aria-description","aria-hidden","transform"])z.hasAttribute(H)&&(Z.attr(H,z.getAttribute(H)),z.removeAttribute(H))}}Z==null||Z.selectChildren().attr("transform",S)}}const L=s7(_,M,t),{figure:P=r!=null||i!=null||o!=null||L.length>0}=t;P&&(I=T.createElement("figure"),I.className=`${s}-figure`,I.style.maxWidth="initial",r!=null&&I.append(Kl(T,r,"h2")),i!=null&&I.append(Kl(T,i,"h3")),I.append(...L,E),o!=null&&I.append($7(T,o)),"value"in E&&(I.value=E.value,delete E.value)),I.scale=d5(b.scales),I.legend=o7(_,M,t);const B=B8();return B>0&&Bn(E).append("text").attr("x",D).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),I}function Kl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function $7(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Jl(t){return t.flat(1/0).filter(e=>e!=null).map(A7)}function A7(t){return typeof t.render=="function"?t:new T7(t)}class T7 extends oe{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Hu(t,e){for(const n in t)Hg(t[n],e);return t}function Hg(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:f,transform:a=o?s=>s==null?NaN:s*100:U3(f,i)}=e[n]??{};a!=null&&(t.value=St(t.value,a),t.transform=!1)}function E7(t){for(const e in t)Ep(e,t[e])}function Er(t,e,n,r=D3){var i,o;for(const{channels:f}of e.values())for(const a in f){const s=f[a],{scale:u}=s;if(u!=null&&r(u))if(u==="projection"){if(!N5(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(c||d){const[l,h]=k5(s);c&&Aa(t,"x",l),d&&Aa(t,"y",h)}}}else Aa(t,u,s)}return t}function Aa(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function S7(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=or(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=ti(i,{value:n,scale:"fx"})),r!=null&&(o.fy=ti(i,{value:r,scale:"fy"})),Hu(o,e);const f=Du(i,o);return{channels:o,groups:f,data:t.data}}function td(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const s=or(t.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=ti(s,{value:r,scale:"fx"})),i!=null&&(u.fy=ti(s,{value:i,scale:"fy"})),Hu(u,n),{channels:u,groups:Du(s,u)}}if(e===void 0)return;const{channels:o,groups:f,data:a}=e;if(t.facet!=="auto"||t.data===a)return{channels:o,groups:f};a.length>0&&(f.size>1||f.size===1&&o.fx&&o.fy&&[...f][0][1].size>1)&&xs(or(t.data))===xs(a)&&We(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function N7(t,e={}){return An({...e,x:null,y:null},(n,r,i,o,f,a)=>a.getMarkState(t))}function C7(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?f4:/^y$/i.test(i)?ql:o4,r=i(N7(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===ql?"left":"bottom");const f=_7(n.data,r);f.facet=n.facet,f.facetAnchor=n.facetAnchor,e.push(f)}}return e}function I7(t,e,n){let{projection:r,x:i={},y:o={},fx:f={},fy:a={},axis:s,grid:u,facet:c={},facet:{axis:d=s,grid:l}=c,x:{axis:h=s,grid:p=h===null?null:u}=i,y:{axis:g=s,grid:_=g===null?null:u}=o,fx:{axis:m=d,grid:b=m===null?null:l}=f,fy:{axis:w=d,grid:y=w===null?null:l}=a}=n;(r||!vs(i)&&!ed("x",t))&&(h=p=null),(r||!vs(o)&&!ed("y",t))&&(g=_=null),e.has("fx")||(m=b=null),e.has("fy")||(w=y=null),h===void 0&&(h=!Qi(t,"x")),g===void 0&&(g=!Qi(t,"y")),m===void 0&&(m=!Qi(t,"fx")),w===void 0&&(w=!Qi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),w===!0&&(w=g==="right"||g===null?"left":"right");const x=[];return ji(x,y,Z4,a),Zi(x,w,Y4,"right","left",c,a),ji(x,b,Q4,f),Zi(x,m,z4,"top","bottom",c,f),ji(x,_,X4,o),Zi(x,g,Sg,"left","right",n,o),ji(x,p,j4,i),Zi(x,h,Ng,"bottom","top",n,i),x}function Zi(t,e,n,r,i,o,f){if(!e)return;const a=k7(e);f=D7(a?r:e,o,f);const{line:s}=f;(n===Sg||n===Ng)&&s&&!Jr(s)&&t.push(g7(L7(f))),t.push(n(f)),a&&t.push(n({...f,anchor:i,label:null}))}function ji(t,e,n,r){!e||Jr(e)||t.push(n(R7(e,r)))}function k7(t){return/^\s*both\s*$/i.test(t)}function D7(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:f,tickFormat:a,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:f,tickFormat:a,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function L7(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function R7(t,{stroke:e=Ef(t)?t:void 0,ticks:n=P7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function P7(t){switch(typeof t){case"number":return!0;case"string":return!Ef(t)}return In(t)||typeof(t==null?void 0:t.range)=="function"}function Qi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function ed(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function O7(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function F7({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:a,height:s}=ku(n),u=t&&nd(t),c=e&&nd(e);return{marginTop:e?c[0]:r,marginRight:t?a-u[1]:i,marginBottom:e?s-c[1]:o,marginLeft:t?u[0]:f,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:a,height:s}}function nd(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const U7=new Map([["basis",n3],["basis-closed",r3],["basis-open",i3],["bundle",o3],["bump-x",W6],["bump-y",V6],["cardinal",f3],["cardinal-closed",a3],["cardinal-open",s3],["catmull-rom",u3],["catmull-rom-closed",c3],["catmull-rom-open",l3],["linear",yf],["linear-closed",d3],["monotone-x",h3],["monotone-y",p3],["natural",g3],["step",m3],["step-after",_3],["step-before",b3]]);function q7(t=yf,e){if(typeof t=="function")return t;const n=U7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function B7(t=Wo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Wo:q7(t,e)}function Wo(t){return yf(t)}function Y7(t){return t.sort===void 0&&t.reverse===void 0?f8({channel:"-r"},t):t}const z7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class H7 extends oe{constructor(e,n={}){const{x:r,y:i,z:o,curve:f,tension:a}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:O3(n),optional:!0}},n,z7),this.z=o,this.curve=B7(f,a),Fu(this,n)}filter(e){return e}project(e,n,r){this.curve!==Wo&&super.project(e,n,r)}render(e,n,r,i,o){const{x:f,y:a}=r,{curve:s}=this;return Nt("svg:g",o).call(Je,this,i,o).call(en,this,n).call(u=>u.selectAll().data(Z5(e,[f,a],this,r)).enter().append("path").call(tn,this).call(V5,this,r).call(l4,this,r,o).attr("d",s===Wo&&o.projection?W7(o.projection,f,a):H6().curve(s).defined(c=>c>=0).x(c=>f[c]).y(c=>a[c]))).node()}}function W7(t,e,n){const r=af(t);return e=ir(e),n=ir(n),i=>{let o=[];const f=[o];for(const a of i)a===-1?(o=[],f.push(o)):o.push([e[a],n[a]]);return r({type:"MultiLineString",coordinates:f})}}function Wg(t,{x:e,y:n,...r}={}){return[e,n]=$f(e,n),new H7(t,{...r,x:e,y:n})}const V7={ariaLabel:"image",fill:null,stroke:null};function G7(t){return/^\.*\//.test(t)}function X7(t){return/^(blob|data|file|http|https):/i.test(t)}function Z7(t){return typeof t=="string"&&(G7(t)||X7(t))?[void 0,t]:[t,void 0]}class j7 extends oe{constructor(e,n={}){let{x:r,y:i,r:o,width:f,height:a,rotate:s,src:u,preserveAspectRatio:c,crossOrigin:d,frameAnchor:l,imageRendering:h}=n;o==null&&(o=void 0),o===void 0&&f===void 0&&a===void 0?f=a=16:f===void 0&&a!==void 0?f=a:a===void 0&&f!==void 0&&(a=f);const[p,g]=Z7(u),[_,m]=Mt(o),[b,w]=Mt(f,m!==void 0?m*2:void 0),[y,x]=Mt(a,m!==void 0?m*2:void 0),[v,M]=Mt(s,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:_,scale:"r",filter:hn,optional:!0},width:{value:b,filter:hn,optional:!0},height:{value:y,filter:hn,optional:!0},rotate:{value:v,optional:!0},src:{value:p,optional:!0}},Y7(n),V7),this.src=g,this.width=w,this.rotate=M,this.height=x,this.r=m,this.preserveAspectRatio=gt(c,"xMidYMid"),this.crossOrigin=Tt(d),this.frameAnchor=Sf(l),this.imageRendering=gt(h,"auto")}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,width:c,height:d,r:l,rotate:h,src:p}=r,{r:g,width:_,height:m,rotate:b}=this,[w,y]=Si(this,i);return Nt("svg:g",o).call(Je,this,i,o).call(en,this,{x:s&&f,y:u&&a}).call(x=>x.selectAll().data(e).enter().append("image").call(tn,this).attr("x",rd(s,c,l,w,_,g)).attr("y",rd(u,d,l,y,m,g)).attr("width",c?v=>c[v]:_!==void 0?_:l?v=>l[v]*2:g*2).attr("height",d?v=>d[v]:m!==void 0?m:l?v=>l[v]*2:g*2).attr("transform",h?v=>`rotate(${h[v]})`:b?`rotate(${b})`:null).attr("transform-origin",h||b?Uu`${s?v=>s[v]:w}px ${u?v=>u[v]:y}px`:null).call(G,"href",p?v=>p[v]:this.src).call(G,"preserveAspectRatio",this.preserveAspectRatio).call(G,"crossorigin",this.crossOrigin).call(G,"image-rendering",this.imageRendering).call(G,"clip-path",l?v=>`circle(${l[v]}px)`:g!==void 0?`circle(${g}px)`:null).call(hr,this,r)).node()}}function rd(t,e,n,r,i,o){return e&&t?f=>t[f]-e[f]/2:e?f=>r-e[f]/2:t&&i!==void 0?f=>t[f]-i/2:i!==void 0?r-i/2:n&&t?f=>t[f]-n[f]:n?f=>r-n[f]:t?f=>t[f]-o:r-o}function Q7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=$f(e,n)),new j7(t,{...r,x:e,y:n})}function K7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J7(t,e,n,r,i){for(var o=i+1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s>=0?(o=f,i=f-1):r=f+1}return o}function t9(t,e,n,r,i){for(var o=i+1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s>0?(o=f,i=f-1):r=f+1}return o}function e9(t,e,n,r,i){for(var o=r-1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s<0?(o=f,r=f+1):i=f-1}return o}function n9(t,e,n,r,i){for(var o=r-1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s<=0?(o=f,r=f+1):i=f-1}return o}function r9(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,f=t[o],a=n!==void 0?n(f,e):f-e;if(a===0)return o;a<=0?r=o+1:i=o-1}return-1}function Sr(t,e,n,r,i,o){return typeof n=="function"?o(t,e,n,r===void 0?0:r|0,i===void 0?t.length-1:i|0):o(t,e,void 0,n===void 0?0:n|0,r===void 0?t.length-1:r|0)}var i9={ge:function(t,e,n,r,i){return Sr(t,e,n,r,i,J7)},gt:function(t,e,n,r,i){return Sr(t,e,n,r,i,t9)},lt:function(t,e,n,r,i){return Sr(t,e,n,r,i,e9)},le:function(t,e,n,r,i){return Sr(t,e,n,r,i,n9)},eq:function(t,e,n,r,i){return Sr(t,e,n,r,i,r9)}},Vo=i9,qn=0,fn=1,fo=2,o9=a9;function Wu(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Ci=Wu.prototype;function Ta(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Vg(t,e){var n=ur(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function id(t,e){var n=t.intervals([]);n.push(e),Vg(t,n)}function od(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?qn:(n.splice(r,1),Vg(t,n),fn)}Ci.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};Ci.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?id(this,t):this.left.insert(t):this.left=ur([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?id(this,t):this.right.insert(t):this.right=ur([t]);else{var n=Vo.ge(this.leftPoints,t,Vu),r=Vo.ge(this.rightPoints,t,Gu);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}};Ci.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return qn;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return od(this,t);var r=this.left.remove(t);return r===fo?(this.left=null,this.count-=1,fn):(r===fn&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return qn;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return od(this,t);var r=this.right.remove(t);return r===fo?(this.right=null,this.count-=1,fn):(r===fn&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?fo:qn;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,f=this.left;f.right;)o=f,f=f.right;if(o===this)f.right=this.right;else{var a=this.left,r=this.right;o.count-=f.count,o.right=f.left,f.left=a,f.right=r}Ta(this,f),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Ta(this,this.left):Ta(this,this.right);return fn}for(var a=Vo.ge(this.leftPoints,t,Vu);a<this.leftPoints.length&&this.leftPoints[a][0]===t[0];++a)if(this.leftPoints[a]===t){this.count-=1,this.leftPoints.splice(a,1);for(var r=Vo.ge(this.rightPoints,t,Gu);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),fn}return qn}};function Gg(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function Xg(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function Zg(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}Ci.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return Gg(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return Xg(this.rightPoints,t,e)}else return Zg(this.leftPoints,e)};Ci.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?Gg(this.leftPoints,e,n):t>this.mid?Xg(this.rightPoints,t,n):Zg(this.leftPoints,n)};function f9(t,e){return t-e}function Vu(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Gu(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function ur(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(f9);for(var r=e[e.length>>1],i=[],o=[],f=[],n=0;n<t.length;++n){var a=t[n];a[1]<r?i.push(a):r<a[0]?o.push(a):f.push(a)}var s=f,u=f.slice();return s.sort(Vu),u.sort(Gu),new Wu(r,ur(i),ur(o),s,u)}function Ls(t){this.root=t}var mr=Ls.prototype;mr.insert=function(t){this.root?this.root.insert(t):this.root=new Wu(t[0],null,null,[t],[t])};mr.remove=function(t){if(this.root){var e=this.root.remove(t);return e===fo&&(this.root=null),e!==qn}return!1};mr.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};mr.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(mr,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(mr,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function a9(t){return!t||t.length===0?new Ls(null):new Ls(ur(t))}const s9=K7(o9),u9=({marginLeft:t})=>[1,t],c9=({width:t,marginRight:e})=>[-1,t-e],l9=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2];function d9(t){return typeof t=="string"?{anchor:t}:t}function fd(t={},e={}){arguments.length===1&&([t,e]=h9(t));let{anchor:n="left",padding:r=1,r:i=e.r}=d9(t);switch(`${n}`.toLowerCase()){case"left":n=u9;break;case"right":n=c9;break;case"middle":n=l9;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return p9("x","y",n,wt(r),i,e)}function h9(t){const{anchor:e,padding:n,...r}=t,{r:i}=r;return[{anchor:e,padding:n,r:i},r]}function p9(t,e,n,r,i,o){if(i!=null&&typeof i!="number"){let{channels:f,sort:a,reverse:s}=o;f=Tu(f),(f==null?void 0:f.r)===void 0&&(o={...o,channels:{...f,r:{value:i,scale:"r"}}}),a===void 0&&s===void 0&&(o.sort={channel:"-r"})}return An(o,function(f,a,s,u,c,d){let{[e]:l,r:h}=s;if(!s[e])throw new Error(`missing channel: ${e}`);({[e]:l}=I5(s,u,d));const p=h?void 0:i!==void 0?wt(i):this.r!==void 0?this.r:3;h&&(h=Pe(h.value,u[h.scale]||ye,Float64Array));let[g,_]=n(c);const m=g?m9:g9,b=new Float64Array(l.length),w=h?y=>h[y]:()=>p;for(let y of a){const x=s9();y=y.filter(h?M=>Yo(l[M])&&hn(h[M]):M=>Yo(l[M]));const v=new Float64Array(2*y.length+2);for(const M of y){const T=w(M),E=g?T+r:0,I=l[M]-T,$=l[M]+T;let N=2;x.queryInterval(I-r,$+r,([,,D])=>{const A=b[D]-E,L=l[M]-l[D],P=r+(h?h[M]+h[D]:2*p),B=Math.sqrt(P*P-L*L);v[N++]=A-B,v[N++]=A+B});let S=v.slice(0,N);g&&(S=S.filter(D=>D>=0));t:for(const D of S.sort(m)){for(let A=0;A<N;A+=2)if(v[A]+1e-6<D&&D<v[A+1]-1e-6)continue t;b[M]=D+E;break}x.insert([I,$,M])}}g||(g=1);for(const y of a)for(const x of y)b[x]=b[x]*g+_;return{data:f,facets:a,channels:{[t]:{value:b,source:null},[e]:{value:l,source:s[e]},...h&&{r:{value:h,source:s.r}}}}})}function g9(t,e){return Math.abs(t)-Math.abs(e)}function m9(t,e){return t-e}oe.prototype.plot=function({marks:t=[],...e}={}){return Rf({...e,marks:[...t,this]})};var b9=ne('<h2>New songs from last month</h2> <div role="img"></div>',1);function _9(t,e){ri(e,!0);let n=Vn(void 0),r=Vn(void 0);Us(()=>{var a,s,u;(s=(a=R(n))==null?void 0:a.firstChild)==null||s.remove(),(u=R(n))==null||u.append(i())});const i=()=>{const a=e.latestSongs.filter((s,u)=>e.latestSongs.map(c=>`${c.song_id}${c.commit_date}`).indexOf(`${s.song_id}${s.commit_date}`)===u).reduce((s,u)=>(u.song_id in s?(s[u.song_id].count=s[u.song_id].count+1,s[u.song_id].position=(s[u.song_id].position+u.position)/2):s[u.song_id]={count:1,label:`${u.playlist} 
${u.artists} 
${u.name}`,size:Math.log(u.name.length).toFixed(),...u},s),{});return console.log("count length",Object.keys(a).length),Rf({grid:!1,width:R(r),height:R(r)<500?1.5*R(r):R(r)/2,color:{legend:!0},y:{label:"Date"},marks:[Q7(Object.values(a),fd({y:"date",r:20,preserveAspectRatio:"xMidYMin slice",src:"cover_url",title:"label"})),Ni(Object.values(a),fd({y:"date",r:20,preserveAspectRatio:"xMidYMin slice",text:s=>String(s.name).replaceAll(" ",`
`).split("-")[0].split("(")[0],dy:35}))]})};var o=b9(),f=Pt(un(o),2);qs(f,a=>st(n,a),()=>R(n)),Bs(f,"clientWidth",a=>st(r,a)),pt(t,o),ii()}var y9=ne("<tr><td> </td><td> </td><td> </td><td> </td><td><!></td></tr>"),w9=ne('<div class="table-container"><table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth"><thead><tr><th>Position</th><th>Artists</th><th>Name</th><th>Album</th><th>Attribute</th></tr></thead><tbody></tbody></table></div>');function v9(t,e){ri(e,!1);const n=fe();let r=zf(e,"diffData",8),i=zf(e,"playlistChoosen",8),o=zf(e,"last_commits",8);const f=(c,d,l,h)=>{console.log("table recentSongAdds",c,d,l,h);const p=c.filter(m=>m.playlist==d&m.commit_date==h),g=c.filter(m=>m.playlist==d&m.commit_date==l);let _=[];return p.forEach((m,b)=>{g.forEach((w,y)=>{m.song_id===w.song_id&&(p[b].attribute=w.position-m.position,g[y].attribute=m.position-w.position)})}),p.forEach(m=>{"attribute"in m?_=[..._,m]:_=[..._,{...m,attribute:"+"}]}),g.forEach(m=>{"attribute"in m||(_=[..._,{...m,attribute:"-"}])}),_.filter(m=>m.attribute=="+")};Sa(()=>(Yf(r()),Yf(i()),Yf(o())),()=>{st(n,f(r(),i(),o()[0],o()[1]))}),wd(),gd();var a=Ii(),s=un(a);{var u=c=>{var d=w9(),l=Rt(d),h=Pt(Rt(l));Ca(h,5,()=>R(n),Na,(p,g)=>{var _=y9(),m=Rt(_),b=Rt(m,!0);$t(m);var w=Pt(m),y=Rt(w,!0);$t(w);var x=Pt(w),v=Rt(x,!0);$t(x);var M=Pt(x),T=Rt(M,!0);$t(M);var E=Pt(M),I=Rt(E);{var $=S=>{var D=yr();Yt(()=>Lt(D,`🆕 ${R(g).position??""}`)),pt(S,D)},N=S=>{var D=Ii(),A=un(D);{var L=B=>{var V=yr();Yt(()=>Lt(V,`🗑 ${R(g).position??""}`)),pt(B,V)},P=B=>{var V=Ii(),O=un(V);{var q=U=>{var Z=yr();Yt(()=>Lt(Z,`⬆ ${R(g).attribute??""}`)),pt(U,Z)},F=U=>{var Z=Ii(),nt=un(Z);{var K=H=>{var k=yr();Yt(()=>Lt(k,R(g).position)),pt(H,k)},z=H=>{var k=yr();Yt(()=>Lt(k,`⬇ ${Math.abs(R(g).attribute)??""}`)),pt(H,k)};jt(nt,H=>{R(g).attribute==0?H(K):H(z,!1)},!0)}pt(U,Z)};jt(O,U=>{R(g).attribute>0?U(q):U(F,!1)})}pt(B,V)};jt(A,B=>{R(g).attribute=="-"?B(L):B(P,!1)},!0)}pt(S,D)};jt(I,S=>{R(g).attribute=="+"?S($):S(N,!1)})}$t(E),$t(_),Yt(()=>{Lt(b,R(g).position),Lt(y,R(g).artists),Lt(v,R(g).name),Lt(T,R(g).album_name)}),pt(p,_)}),$t(h),$t(l),$t(d),pt(c,d)};jt(s,c=>{R(n).length>0&&c(u)})}pt(t,a),ii()}var x9=ne('<h2> </h2> <div role="img"></div>',1);function M9(t,e){ri(e,!0);let n=Vn(void 0),r=Vn(void 0);Us(()=>{var u,c,d;(c=(u=R(n))==null?void 0:u.firstChild)==null||c.remove(),(d=R(n))==null||d.append(i())});const i=()=>Rf({grid:!0,width:R(r),height:R(r)<500?1.5*R(r):R(r)/2,color:{legend:!1},x:{label:"Date"},y:{label:"Position"},marks:[Wg(e.dataFiltered.map(u=>(u.artists=typeof u.artists=="string"?u.artists:u.artists.filter(c=>e.mostFrequentArtists.indexOf(c)>-1)[0],u.commit_date=new Date(u.commit_date),u)).filter((u,c)=>e.dataFiltered.map(d=>`${d.artists}${d.commit_date}`).indexOf(`${u.artists}${u.commit_date}`)===c),{x:"commit_date",y:"position",stroke:"artists",tip:{channels:{artists:"artists"}}}),Ni(e.dataFiltered.map(u=>(u.artists=typeof u.artists=="string"?u.artists:u.artists.filter(c=>e.mostFrequentArtists.indexOf(c)>-1)[0],u.commit_date=new Date(u.commit_date),u)).filter((u,c)=>e.dataFiltered.map(d=>`${d.artists}${d.commit_date}`).indexOf(`${u.artists}${u.commit_date}`)===c),{filter:(u,c)=>c%4===0,x:"commit_date",y:"position",text:"artists",dy:-6,lineAnchor:"bottom"})]});var o=x9(),f=un(o),a=Rt(f);$t(f);var s=Pt(f,2);qs(s,u=>st(n,u),()=>R(n)),Yt(()=>Lt(a,`Best artist evolution in ${e.playlistChoosen??""}`)),Bs(s,"clientWidth",u=>st(r,u)),pt(t,o),ii()}var $9=ne('<h2> </h2> <div role="img"></div>',1);function A9(t,e){ri(e,!0);let n=Vn(void 0),r=Vn(void 0);Us(()=>{var u,c,d;(c=(u=R(n))==null?void 0:u.firstChild)==null||c.remove(),(d=R(n))==null||d.append(i())});const i=()=>Rf({grid:!0,width:R(r),height:R(r)<500?1.5*R(r):R(r)/2,color:{legend:!1},x:{label:"Date"},y:{label:"Position"},marks:[Wg(e.songsNames,{x:"commit_date",y:"position",stroke:"name",text:"name",tip:{channels:{artists:"artists",album_name:"album_name"}}}),Ni(e.songsNames,{filter:(u,c)=>c%4===0,x:"commit_date",y:"position",text:"name",dy:-6,lineAnchor:"bottom"})]});var o=$9(),f=un(o),a=Rt(f);Yt(()=>Lt(a,`Best ${[...new Set(e.songsNames.map(u=>u.song_id))].length??""} songs of ${e.artistChoosen??""} in ${e.playlistChoosen??""}`)),$t(f);var s=Pt(f,2);qs(s,u=>st(n,u),()=>R(n)),Bs(s,"clientWidth",u=>st(r,u)),pt(t,o),ii()}const ad=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],sn=["PLAIN",void 0,"PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],T9=["REQUIRED","OPTIONAL","REPEATED"],E9=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],S9=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],jg=["DATA_PAGE","INDEX_PAGE","DICTIONARY_PAGE","DATA_PAGE_V2"],Qg=864e5;function sd(t,e,n,r,i=!0){if(e&&r.endsWith("_DICTIONARY")){e=ud(e,n,i);let o=t;t instanceof Uint8Array&&!(e instanceof Uint8Array)&&(o=new e.constructor(t.length));for(let f=0;f<t.length;f++)o[f]=e[t[f]];return o}else return ud(t,n,i)}function ud(t,e,n=!0){var i,o;const r=e.converted_type;if(r==="DECIMAL"){const f=e.scale||0,a=Math.pow(10,-f),s=new Array(t.length);for(let u=0;u<s.length;u++)t[0]instanceof Uint8Array?s[u]=Kg(t[u])*a:s[u]=Number(t[u])*a;return s}if(r===void 0&&e.type==="INT96")return Array.from(t).map(N9);if(r==="DATE"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(t[a]*Qg);return f}if(r==="TIMESTAMP_MILLIS"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(Number(t[a]));return f}if(r==="TIMESTAMP_MICROS"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(Number(t[a]/1000n));return f}if(r==="JSON"){const f=new TextDecoder;return t.map(a=>JSON.parse(f.decode(a)))}if(r==="BSON")throw new Error("parquet bson not supported");if(r==="INTERVAL")throw new Error("parquet interval not supported");if(r==="UTF8"||n&&e.type==="BYTE_ARRAY"){const f=new TextDecoder,a=new Array(t.length);for(let s=0;s<a.length;s++)a[s]=t[s]&&f.decode(t[s]);return a}if(r==="UINT_64"){const f=new BigUint64Array(t.length);for(let a=0;a<f.length;a++)f[a]=BigInt(t[a]);return f}if(((i=e.logical_type)==null?void 0:i.type)==="FLOAT16")return Array.from(t).map(Jg);if(((o=e.logical_type)==null?void 0:o.type)==="TIMESTAMP"){const{unit:f}=e.logical_type;let a=1n;f==="MICROS"&&(a=1000n),f==="NANOS"&&(a=1000000n);const s=new Array(t.length);for(let u=0;u<s.length;u++)s[u]=new Date(Number(t[u]/a));return s}return t}function Kg(t){let e=0;for(const n of t)e=e<<8|n;return e}function N9(t){const e=Number((t>>64n)-2440588n),n=Number((t&0xffffffffffffffffn)/1000000n),r=e*Qg+n;return new Date(r)}function Jg(t){if(!t)return;const e=t[1]<<8|t[0],n=e>>15?-1:1,r=e>>10&31,i=e&1023;return r===0?n*Math.pow(2,-14)*(i/1024):r===31?i?NaN:n*(1/0):n*Math.pow(2,r-15)*(1+i/1024)}function tm(t,e,n){const r=t[e],i=[];let o=1;if(r.num_children)for(;i.length<r.num_children;){const f=t[e+o],a=tm(t,e+o,[...n,f.name]);o+=a.count,i.push(a)}return{count:o,element:r,children:i,path:n}}function cd(t,e){let n=tm(t,0,[]);const r=[n];for(const i of e){const o=n.children.find(f=>f.element.name===i);if(!o)throw new Error(`parquet schema element not found: ${e}`);r.push(o),n=o}return r}function em(t){let e=0;for(const{element:n}of t)n.repetition_type==="REPEATED"&&e++;return e}function Go(t){let e=0;for(const{element:n}of t.slice(1))n.repetition_type!=="REQUIRED"&&e++;return e}function C9(t){if(!t||t.element.converted_type!=="LIST"||t.children.length>1)return!1;const e=t.children[0];return!(e.children.length>1||e.element.repetition_type!=="REPEATED")}function I9(t){if(!t||t.element.converted_type!=="MAP"||t.children.length>1)return!1;const e=t.children[0];if(e.children.length!==2||e.element.repetition_type!=="REPEATED")return!1;const n=e.children.find(i=>i.element.name==="key");if((n==null?void 0:n.element.repetition_type)==="REPEATED")return!1;const r=e.children.find(i=>i.element.name==="value");return(r==null?void 0:r.element.repetition_type)!=="REPEATED"}const xt={STOP:0,TRUE:1,FALSE:2,BYTE:3,I16:4,I32:5,I64:6,DOUBLE:7,BINARY:8,LIST:9,SET:10,MAP:11,STRUCT:12,UUID:13};function nm(t){let e=0;const n={};for(;t.offset<t.view.byteLength;){const[r,i,o]=im(t,e);if(e=o,r===xt.STOP)break;n[`field_${i}`]=ao(t,r)}return n}function ao(t,e){switch(e){case xt.TRUE:return!0;case xt.FALSE:return!1;case xt.BYTE:return t.view.getInt8(t.offset++);case xt.I16:case xt.I32:return D9(t);case xt.I64:return Rs(t);case xt.DOUBLE:{const n=t.view.getFloat64(t.offset,!0);return t.offset+=8,n}case xt.BINARY:{const n=gn(t),r=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,n);return t.offset+=n,r}case xt.LIST:{const[n,r]=L9(t),i=n===xt.TRUE||n===xt.FALSE,o=new Array(r);for(let f=0;f<r;f++)o[f]=i?ao(t,xt.BYTE)===1:ao(t,n);return o}case xt.STRUCT:{const n={};let r=0;for(;;){let i,o;if([i,o,r]=im(t,r),i===xt.STOP)break;n[`field_${o}`]=ao(t,i)}return n}case xt.UUID:{let n="";for(let r=0;r<16;r++)n+=t.view.getUint8(t.offset++).toString(16).padStart(2,"0");return n}default:throw new Error(`thrift unhandled type: ${e}`)}}function gn(t){let e=0,n=0;for(;;){const r=t.view.getUint8(t.offset++);if(e|=(r&127)<<n,!(r&128))return e;n+=7}}function k9(t){let e=0n,n=0n;for(;;){const r=t.view.getUint8(t.offset++);if(e|=BigInt(r&127)<<n,!(r&128))return e;n+=7n}}function D9(t){const e=gn(t);return e>>>1^-(e&1)}function Rs(t){const e=k9(t);return e>>BigInt(1)^-(e&BigInt(1))}function rm(t){return t&15}function im(t,e){const n=t.view.getUint8(t.offset++);if((n&15)===xt.STOP)return[0,0,e];const r=n>>4;let i;if(r)i=e+r;else throw new Error("non-delta field id not supported");return[rm(n),i,i]}function L9(t){const e=t.view.getUint8(t.offset++),n=e>>4,r=rm(e);if(n===15){const i=gn(t);return[r,i]}return[r,n]}async function R9(t,e=1<<19){if(!t)throw new Error("parquet file is required");if(!(t.byteLength>=0))throw new Error("parquet file byteLength is required");const n=Math.max(0,t.byteLength-e),r=await t.slice(n,t.byteLength),i=new DataView(r);if(i.getUint32(r.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const o=i.getUint32(r.byteLength-8,!0);if(o>t.byteLength-8)throw new Error(`parquet metadata length ${o} exceeds available buffer ${t.byteLength-8}`);if(o+8>e){const f=t.byteLength-o-8,a=await t.slice(f,n),s=new ArrayBuffer(o+8),u=new Uint8Array(s);return u.set(new Uint8Array(a)),u.set(new Uint8Array(r),n-f),ld(s)}else return ld(r)}function ld(t){var _;if(!t)throw new Error("parquet file is required");const e=new DataView(t);if(e.byteLength<8)throw new Error("parquet file is too short");if(e.getUint32(e.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const n=e.byteLength-8,r=e.getUint32(n,!0);if(r>e.byteLength-8)throw new Error(`parquet metadata length ${r} exceeds available buffer ${e.byteLength-8}`);const i=n-r,f=nm({view:e,offset:i}),a=new TextDecoder;function s(m){return m&&a.decode(m)}const u=f.field_1,c=f.field_2.map(m=>({type:ad[m.field_1],type_length:m.field_2,repetition_type:T9[m.field_3],name:s(m.field_4),num_children:m.field_5,converted_type:E9[m.field_6],scale:m.field_7,precision:m.field_8,field_id:m.field_9,logical_type:P9(m.field_10)})),d=c.filter(m=>m.type),l=f.field_3,h=f.field_4.map(m=>{var b;return{columns:m.field_1.map((w,y)=>{var x,v;return{file_path:s(w.field_1),file_offset:w.field_2,meta_data:w.field_3&&{type:ad[w.field_3.field_1],encodings:(x=w.field_3.field_2)==null?void 0:x.map(M=>sn[M]),path_in_schema:w.field_3.field_3.map(s),codec:S9[w.field_3.field_4],num_values:w.field_3.field_5,total_uncompressed_size:w.field_3.field_6,total_compressed_size:w.field_3.field_7,key_value_metadata:w.field_3.field_8,data_page_offset:w.field_3.field_9,index_page_offset:w.field_3.field_10,dictionary_page_offset:w.field_3.field_11,statistics:O9(w.field_3.field_12,d[y]),encoding_stats:(v=w.field_3.field_13)==null?void 0:v.map(M=>({page_type:jg[M.field_1],encoding:sn[M.field_2],count:M.field_3})),bloom_filter_offset:w.field_3.field_14,bloom_filter_length:w.field_3.field_15,size_statistics:w.field_3.field_16&&{unencoded_byte_array_data_bytes:w.field_3.field_16.field_1,repetition_level_histogram:w.field_3.field_16.field_2,definition_level_histogram:w.field_3.field_16.field_3}},offset_index_offset:w.field_4,offset_index_length:w.field_5,column_index_offset:w.field_6,column_index_length:w.field_7,crypto_metadata:w.field_7,encrypted_column_metadata:w.field_8}}),total_byte_size:m.field_2,num_rows:m.field_3,sorting_columns:(b=m.field_4)==null?void 0:b.map(w=>({column_idx:w.field_1,descending:w.field_2,nulls_first:w.field_3})),file_offset:m.field_5,total_compressed_size:m.field_6,ordinal:m.field_7}}),p=(_=f.field_5)==null?void 0:_.map(m=>({key:s(m.field_1),value:s(m.field_2)})),g=s(f.field_6);return{version:u,schema:c,num_rows:l,row_groups:h,key_value_metadata:p,created_by:g,metadata_length:r}}function P9(t){return t!=null&&t.field_1?{type:"STRING"}:t!=null&&t.field_2?{type:"MAP"}:t!=null&&t.field_3?{type:"LIST"}:t!=null&&t.field_4?{type:"ENUM"}:t!=null&&t.field_5?{type:"DECIMAL",scale:t.field_5.field_1,precision:t.field_5.field_2}:t!=null&&t.field_6?{type:"DATE"}:t!=null&&t.field_7?{type:"TIME",isAdjustedToUTC:t.field_7.field_1,unit:dd(t.field_7.field_2)}:t!=null&&t.field_8?{type:"TIMESTAMP",isAdjustedToUTC:t.field_8.field_1,unit:dd(t.field_8.field_2)}:t!=null&&t.field_10?{type:"INTEGER",bitWidth:t.field_10.field_1,isSigned:t.field_10.field_2}:t!=null&&t.field_11?{type:"NULL"}:t!=null&&t.field_12?{type:"JSON"}:t!=null&&t.field_13?{type:"BSON"}:t!=null&&t.field_14?{type:"UUID"}:t!=null&&t.field_15?{type:"FLOAT16"}:t}function dd(t){if(t.field_1)return"MILLIS";if(t.field_2)return"MICROS";if(t.field_3)return"NANOS";throw new Error("parquet time unit required")}function O9(t,e){return t&&{max:Ki(t.field_1,e),min:Ki(t.field_2,e),null_count:t.field_3,distinct_count:t.field_4,max_value:Ki(t.field_5,e),min_value:Ki(t.field_6,e),is_max_value_exact:t.field_7,is_min_value_exact:t.field_8}}function Ki(t,e){const{type:n,converted_type:r,logical_type:i}=e;if(t===void 0)return t;if(n==="BOOLEAN")return t[0]===1;if(n==="BYTE_ARRAY")return new TextDecoder().decode(t);const o=new DataView(t.buffer,t.byteOffset,t.byteLength);return n==="FLOAT"&&o.byteLength===4?o.getFloat32(0,!0):n==="DOUBLE"&&o.byteLength===8?o.getFloat64(0,!0):n==="INT32"&&r==="DATE"?new Date(o.getInt32(0,!0)*864e5):n==="INT64"&&r==="TIMESTAMP_MICROS"?new Date(Number(o.getBigInt64(0,!0)/1000n)):n==="INT64"&&r==="TIMESTAMP_MILLIS"?new Date(Number(o.getBigInt64(0,!0))):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"&&(i==null?void 0:i.unit)==="NANOS"?new Date(Number(o.getBigInt64(0,!0)/1000000n)):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"&&(i==null?void 0:i.unit)==="MICROS"?new Date(Number(o.getBigInt64(0,!0)/1000n)):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"?new Date(Number(o.getBigInt64(0,!0))):n==="INT32"&&o.byteLength===4?o.getInt32(0,!0):n==="INT64"&&o.byteLength===8?o.getBigInt64(0,!0):r==="DECIMAL"?Kg(t)*Math.pow(10,-(e.scale||0)):(i==null?void 0:i.type)==="FLOAT16"?Jg(t):t}function hd(t,e,n,r,i,o){const f=(e==null?void 0:e.length)||n.length;let a=0;const s=[t];let u=t,c=0,d=0,l=0;if(n[0])for(;c<i.length-2&&l<n[0];)u=u.at(-1),s.push(u),c++,i[c]!=="REQUIRED"&&d++,i[c]==="REPEATED"&&l++;for(let h=0;h<f;h++){const p=e!=null&&e.length?e[h]:o,g=n[h];for(;c&&(g<l||i[c]!=="REPEATED");)i[c]!=="REQUIRED"&&(s.pop(),d--),i[c]==="REPEATED"&&l--,c--;for(u=s.at(-1);(c<i.length-2||i[c+1]==="REPEATED")&&(d<p||i[c+1]==="REQUIRED");){if(c++,i[c]!=="REQUIRED"){const _=[];u.push(_),u=_,s.push(_),d++}i[c]==="REPEATED"&&l++}p===o?u.push(r[a++]):c===i.length-2?u.push(null):u.push([])}if(!t.length)for(let h=0;h<o;h++){const p=[];u.push(p),u=p}return t}function Or(t,e,n=0){const r=e.path.join("."),i=e.element.repetition_type==="OPTIONAL",o=i?n+1:n;if(C9(e)){let f=e.children[0],a=o;f.children.length===1&&(f=f.children[0],a++),Or(t,f,a);const s=f.path.join("."),u=t.get(s);if(!u)throw new Error("parquet list column missing values");i&&so(u,n),t.set(r,u),t.delete(s);return}if(I9(e)){const f=e.children[0].element.name;Or(t,e.children[0].children[0],o+1),Or(t,e.children[0].children[1],o+1);const a=t.get(`${r}.${f}.key`),s=t.get(`${r}.${f}.value`);if(!a)throw new Error("parquet map column missing keys");if(!s)throw new Error("parquet map column missing values");if(a.length!==s.length)throw new Error("parquet map column key/value length mismatch");const u=om(a,s,o);i&&so(u,n),t.delete(`${r}.${f}.key`),t.delete(`${r}.${f}.value`),t.set(r,u);return}if(e.children.length){const f=e.element.repetition_type==="REQUIRED"?n:n+1,a={};for(const u of e.children){Or(t,u,f);const c=t.get(u.path.join("."));if(!c)throw new Error("parquet struct missing child data");a[u.element.name]=c}for(const u of e.children)t.delete(u.path.join("."));const s=fm(a,f);i&&so(s,n),t.set(r,s)}}function so(t,e){for(let n=0;n<t.length;n++)e?so(t[n],e-1):t[n]=t[n][0]}function om(t,e,n){const r=[];for(let i=0;i<t.length;i++)if(n)r.push(om(t[i],e[i],n-1));else if(t[i]){const o={};for(let f=0;f<t[i].length;f++){const a=e[i][f];o[t[i][f]]=a===void 0?null:a}r.push(o)}else r.push(void 0);return r}function fm(t,e){var o;const n=Object.keys(t),r=(o=t[n[0]])==null?void 0:o.length,i=[];for(let f=0;f<r;f++){const a={};for(const s of n){if(t[s].length!==r)throw new Error("parquet struct parsing error");a[s]=t[s][f]}e?i.push(fm(a,e-1)):i.push(a)}return i}function Xo(t,e,n){const r=n instanceof Int32Array,i=gn(t),o=gn(t);gn(t);let f=Rs(t),a=0;n[a++]=r?Number(f):f;const s=i/o;for(;a<e;){const u=Rs(t),c=new Uint8Array(o);for(let d=0;d<o;d++)c[d]=t.view.getUint8(t.offset++);for(let d=0;d<o&&a<e;d++){const l=BigInt(c[d]);if(l){let h=0n,p=s;const g=(1n<<l)-1n;for(;p&&a<e;){let _=BigInt(t.view.getUint8(t.offset))>>h&g;for(h+=l;h>=8;)h-=8n,t.offset++,h&&(_|=BigInt(t.view.getUint8(t.offset))<<l-h&g);const m=u+_;f+=m,n[a++]=r?Number(f):f,p--}p&&(t.offset+=Math.ceil((p*Number(l)+Number(h))/8))}else for(let h=0;h<s&&a<e;h++)f+=u,n[a++]=r?Number(f):f}}}function F9(t,e,n){const r=new Int32Array(e);Xo(t,e,r);for(let i=0;i<e;i++)n[i]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,r[i]),t.offset+=r[i]}function U9(t,e,n){const r=new Int32Array(e);Xo(t,e,r);const i=new Int32Array(e);Xo(t,e,i);for(let o=0;o<e;o++){const f=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,i[o]);r[o]?(n[o]=new Uint8Array(r[o]+i[o]),n[o].set(n[o-1].subarray(0,r[o])),n[o].set(f,r[o])):n[o]=f,t.offset+=i[o]}}function Pf(t){return 32-Math.clz32(t)}function Tn(t,e,n,r){n||(t.offset+=4);let i=0;for(;i<r.length;){const o=gn(t);if(o&1)i=B9(t,o,e,r,i);else{const f=o>>>1;q9(t,f,e,r,i),i+=f}}}function q9(t,e,n,r,i){const o=n+7>>3;let f=0;for(let a=0;a<o;a++)f|=t.view.getUint8(t.offset++)<<(a<<3);for(let a=0;a<e;a++)r[i+a]=f}function B9(t,e,n,r,i){let o=e>>1<<3;const f=(1<<n)-1;let a=0;if(t.offset<t.view.byteLength)a=t.view.getUint8(t.offset++);else if(f)throw new Error(`parquet bitpack offset ${t.offset} out of range`);let s=8,u=0;for(;o;)u>8?(u-=8,s-=8,a>>>=8):s-u<n?(a|=t.view.getUint8(t.offset)<<s,t.offset++,s+=8):(i<r.length&&(r[i++]=a>>u&f),o--,u+=n);return i}function am(t,e,n,r){const i=Y9(n,r),o=new Uint8Array(e*i);for(let f=0;f<i;f++)for(let a=0;a<e;a++)o[a*i+f]=t.view.getUint8(t.offset++);if(n==="FLOAT")return new Float32Array(o.buffer);if(n==="DOUBLE")return new Float64Array(o.buffer);if(n==="INT32")return new Int32Array(o.buffer);if(n==="INT64")return new BigInt64Array(o.buffer);if(n==="FIXED_LEN_BYTE_ARRAY"){const f=new Array(e);for(let a=0;a<e;a++)f[a]=o.subarray(a*i,(a+1)*i);return f}throw new Error(`parquet byte_stream_split unsupported type: ${n}`)}function Y9(t,e){switch(t){case"INT32":case"FLOAT":return 4;case"INT64":case"DOUBLE":return 8;case"FIXED_LEN_BYTE_ARRAY":if(!e)throw new Error("parquet byteWidth missing type_length");return e;default:throw new Error(`parquet unsupported type: ${t}`)}}function Xu(t,e,n,r){if(n===0)return[];if(e==="BOOLEAN")return z9(t,n);if(e==="INT32")return H9(t,n);if(e==="INT64")return W9(t,n);if(e==="INT96")return V9(t,n);if(e==="FLOAT")return G9(t,n);if(e==="DOUBLE")return X9(t,n);if(e==="BYTE_ARRAY")return Z9(t,n);if(e==="FIXED_LEN_BYTE_ARRAY"){if(!r)throw new Error("parquet missing fixed length");return j9(t,n,r)}else throw new Error(`parquet unhandled type: ${e}`)}function z9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.offset+(r/8|0),o=r%8,f=t.view.getUint8(i);n[r]=(f&1<<o)!==0}return t.offset+=Math.ceil(e/8),n}function H9(t,e){const n=(t.view.byteOffset+t.offset)%4?new Int32Array(Of(t.view.buffer,t.view.byteOffset+t.offset,e*4)):new Int32Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*4,n}function W9(t,e){const n=(t.view.byteOffset+t.offset)%8?new BigInt64Array(Of(t.view.buffer,t.view.byteOffset+t.offset,e*8)):new BigInt64Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*8,n}function V9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.view.getBigInt64(t.offset+r*12,!0),o=t.view.getInt32(t.offset+r*12+8,!0);n[r]=BigInt(o)<<64n|i}return t.offset+=e*12,n}function G9(t,e){const n=(t.view.byteOffset+t.offset)%4?new Float32Array(Of(t.view.buffer,t.view.byteOffset+t.offset,e*4)):new Float32Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*4,n}function X9(t,e){const n=(t.view.byteOffset+t.offset)%8?new Float64Array(Of(t.view.buffer,t.view.byteOffset+t.offset,e*8)):new Float64Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*8,n}function Z9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.view.getInt32(t.offset,!0);t.offset+=4,n[r]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,i),t.offset+=i}return n}function j9(t,e,n){const r=new Array(e);for(let i=0;i<e;i++)r[i]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,n),t.offset+=n;return r}function Of(t,e,n){const r=new ArrayBuffer(n);return new Uint8Array(r).set(new Uint8Array(t,e,n)),r}const Q9=[0,255,65535,16777215,4294967295];function K9(t,e,n,r,i){for(let o=0;o<i;o++)n[r+o]=t[e+o]}function J9(t,e,n,r){for(let i=0;i<r;i++)t[e+i]=t[e-n+i]}function tx(t,e){const n=t.byteLength,r=e.byteLength;let i=0,o=0;for(;i<n;){const f=t[i];if(i++,f<128)break}if(r&&i>=n)throw new Error("invalid snappy length header");for(;i<n;){const f=t[i];let a=0;if(i++,i>=n)throw new Error("missing eof marker");if(f&3){let s=0;switch(f&3){case 1:a=(f>>>2&7)+4,s=t[i]+(f>>>5<<8),i++;break;case 2:if(n<=i+1)throw new Error("snappy error end of input");a=(f>>>2)+1,s=t[i]+(t[i+1]<<8),i+=2;break;case 3:if(n<=i+3)throw new Error("snappy error end of input");a=(f>>>2)+1,s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+(t[i+3]<<24),i+=4;break}if(s===0||isNaN(s))throw new Error(`invalid offset ${s} pos ${i} inputLength ${n}`);if(s>o)throw new Error("cannot copy from before start of buffer");J9(e,o,s,a),o+=a}else{let s=(f>>>2)+1;if(s>60){if(i+3>=n)throw new Error("snappy error literal pos + 3 >= inputLength");const u=s-60;s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+(t[i+3]<<24),s=(s&Q9[u])+1,i+=u}if(i+s>n)throw new Error("snappy error literal exceeds input length");K9(t,i,e,o,s),i+=s,o+=s}}if(o!==r)throw new Error("premature end of input")}function ex(t,e,n,{type:r}){const i=new DataView(t.buffer,t.byteOffset,t.byteLength),o={view:i,offset:0};let f;const a=rx(o,e,n),{definitionLevels:s,numNulls:u}=ix(o,e,n),c=e.num_values-u;if(e.encoding==="PLAIN"){const{type_length:d}=n[n.length-1].element;f=Xu(o,r,c,d)}else if(e.encoding==="PLAIN_DICTIONARY"||e.encoding==="RLE_DICTIONARY"||e.encoding==="RLE"){const d=r==="BOOLEAN"?1:i.getUint8(o.offset++);d?(f=new Array(c),Tn(o,d,i.byteLength-o.offset,f)):f=new Uint8Array(c)}else if(e.encoding==="BYTE_STREAM_SPLIT"){const{type_length:d}=n[n.length-1].element;f=am(o,c,r,d)}else throw new Error(`parquet unsupported encoding: ${e.encoding}`);return{definitionLevels:s,repetitionLevels:a,dataPage:f}}function nx(t,e,n,r){const o={view:new DataView(t.buffer,t.byteOffset,t.byteLength),offset:0};return Xu(o,n.type,e.num_values,r)}function rx(t,e,n){if(n.length>1){const r=em(n);if(r){const i=new Array(e.num_values);return Tn(t,Pf(r),0,i),i}}return[]}function ix(t,e,n){const r=Go(n);if(!r)return{definitionLevels:[],numNulls:0};const i=new Array(e.num_values);Tn(t,Pf(r),0,i);let o=e.num_values;for(const f of i)f===r&&o--;return o===0&&(i.length=0),{definitionLevels:i,numNulls:o}}function Ps(t,e,n,r){let i;const o=r==null?void 0:r[n];if(n==="UNCOMPRESSED")i=t;else if(o)i=o(t,e);else if(n==="SNAPPY")i=new Uint8Array(e),tx(t,i);else throw new Error(`parquet unsupported compression codec: ${n}`);if((i==null?void 0:i.length)!==e)throw new Error(`parquet decompressed page length ${i==null?void 0:i.length} does not match header ${e}`);return i}function ox(t,e,n,r,i){const f={view:new DataView(t.buffer,t.byteOffset,t.byteLength),offset:0},{codec:a,type:s}=r,u=e.data_page_header_v2;if(!u)throw new Error("parquet data page header v2 is undefined");const c=fx(f,u,n);f.offset=u.repetition_levels_byte_length;const d=ax(f,u,n),l=e.uncompressed_page_size-u.definition_levels_byte_length-u.repetition_levels_byte_length;let h=t.subarray(f.offset);u.is_compressed!==!1&&(h=Ps(h,l,a,i));const p=new DataView(h.buffer,h.byteOffset,h.byteLength),g={view:p,offset:0};let _;const m=u.num_values-u.num_nulls;if(u.encoding==="PLAIN"){const{type_length:b}=n[n.length-1].element;_=Xu(g,s,m,b)}else if(u.encoding==="RLE")_=new Array(m),Tn(g,1,0,_),_=_.map(b=>!!b);else if(u.encoding==="PLAIN_DICTIONARY"||u.encoding==="RLE_DICTIONARY"){const b=p.getUint8(g.offset++);_=new Array(m),Tn(g,b,l-1,_)}else if(u.encoding==="DELTA_BINARY_PACKED")_=s==="INT32"?new Int32Array(m):new BigInt64Array(m),Xo(g,m,_);else if(u.encoding==="DELTA_LENGTH_BYTE_ARRAY")_=new Array(m),F9(g,m,_);else if(u.encoding==="DELTA_BYTE_ARRAY")_=new Array(m),U9(g,m,_);else if(u.encoding==="BYTE_STREAM_SPLIT"){const{type_length:b}=n[n.length-1].element;_=am(f,m,s,b)}else throw new Error(`parquet unsupported encoding: ${u.encoding}`);return{definitionLevels:d,repetitionLevels:c,dataPage:_}}function fx(t,e,n){const r=em(n);if(!r)return[];const i=new Array(e.num_values);return Tn(t,Pf(r),e.repetition_levels_byte_length,i),i}function ax(t,e,n){const r=Go(n);if(r){const i=new Array(e.num_values);return Tn(t,Pf(r),e.definition_levels_byte_length,i),i}}function Os(t,e){for(let r=0;r<e.length;r+=1e4)t.push(...e.slice(r,r+1e4))}async function sx(t,e){return await fetch(t,{...e,method:"HEAD"}).then(n=>{if(!n.ok)throw new Error(`fetch head failed ${n.status}`);const r=n.headers.get("Content-Length");if(!r)throw new Error("missing content length");return parseInt(r)})}async function ux({url:t,byteLength:e,requestInit:n}){if(!t)throw new Error("missing url");e||(e=await sx(t,n));let r;const i=n||{};return{byteLength:e,async slice(o,f){if(r)return r.then(c=>c.slice(o,f));const a=new Headers(i.headers),s=f===void 0?"":f-1;a.set("Range",`bytes=${o}-${s}`);const u=await fetch(t,{...i,headers:a});if(!u.ok||!u.body)throw new Error(`fetch failed ${u.status}`);if(u.status===200)return r=u.arrayBuffer(),r.then(c=>c.slice(o,f));if(u.status===206)return u.arrayBuffer();throw new Error(`fetch received unexpected status code ${u.status}`)}}}function cx(t,e,n,r,{compressors:i,utf8:o}){const{element:f}=r[r.length-1];let a;const s=[],u=e!==void 0&&e>=0&&isFinite(e);for(;(!u||s.length<e)&&!(t.offset>=t.view.byteLength-1);){const c=lx(t),d=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,c.compressed_page_size);let l;if(c.type==="DATA_PAGE"){const h=c.data_page_header;if(!h)throw new Error("parquet data page header is undefined");const p=Ps(d,Number(c.uncompressed_page_size),n.codec,i),{definitionLevels:g,repetitionLevels:_,dataPage:m}=ex(p,h,r,n);if(l=sd(m,a,f,h.encoding,o),_.length||g!=null&&g.length){const b=Go(r),w=r.map(({element:y})=>y.repetition_type);hd(s,g,_,l,w,b)}else{for(let b=2;b<r.length;b++)r[b].element.repetition_type!=="REQUIRED"&&(l=Array.from(l,w=>[w]));Os(s,l)}}else if(c.type==="DATA_PAGE_V2"){const h=c.data_page_header_v2;if(!h)throw new Error("parquet data page header v2 is undefined");const{definitionLevels:p,repetitionLevels:g,dataPage:_}=ox(d,c,r,n,i);if(l=sd(_,a,f,h.encoding,o),g.length||p!=null&&p.length){const m=Go(r),b=r.map(({element:w})=>w.repetition_type);hd(s,p,g,l,b,m)}else Os(s,l)}else if(c.type==="DICTIONARY_PAGE"){const h=c.dictionary_page_header;if(!h)throw new Error("parquet dictionary page header is undefined");const p=Ps(d,Number(c.uncompressed_page_size),n.codec,i);a=nx(p,h,n,f.type_length)}else throw new Error(`parquet unsupported page type: ${c.type}`);t.offset+=c.compressed_page_size}if(u){if(s.length<e)throw new Error(`parquet row data length ${s.length} does not match row group limit ${e}}`);s.length>e&&(s.length=e)}return s}function pd({dictionary_page_offset:t,data_page_offset:e,total_compressed_size:n}){let r=t;return(!r||e<r)&&(r=e),[r,r+n]}function lx(t){const e=nm(t),n=jg[e.field_1],r=e.field_2,i=e.field_3,o=e.field_4,f=e.field_5&&{num_values:e.field_5.field_1,encoding:sn[e.field_5.field_2],definition_level_encoding:sn[e.field_5.field_3],repetition_level_encoding:sn[e.field_5.field_4],statistics:e.field_5.field_5&&{max:e.field_5.field_5.field_1,min:e.field_5.field_5.field_2,null_count:e.field_5.field_5.field_3,distinct_count:e.field_5.field_5.field_4,max_value:e.field_5.field_5.field_5,min_value:e.field_5.field_5.field_6}},a=e.field_6,s=e.field_7&&{num_values:e.field_7.field_1,encoding:sn[e.field_7.field_2],is_sorted:e.field_7.field_3},u=e.field_8&&{num_values:e.field_8.field_1,num_nulls:e.field_8.field_2,num_rows:e.field_8.field_3,encoding:sn[e.field_8.field_4],definition_levels_byte_length:e.field_8.field_5,repetition_levels_byte_length:e.field_8.field_6,is_compressed:e.field_8.field_7===void 0?!0:e.field_8.field_7,statistics:e.field_8.field_8};return{type:n,uncompressed_page_size:r,compressed_page_size:i,crc:o,data_page_header:f,index_page_header:a,dictionary_page_header:s,data_page_header_v2:u}}async function dx(t){if(!t.file)throw new Error("parquet file is required");if(t.metadata||(t.metadata=await R9(t.file)),!t.metadata)throw new Error("parquet metadata not found");const{metadata:e,onComplete:n,rowEnd:r}=t,i=t.rowStart||0,o=[];let f=0;for(const a of e.row_groups){const s=Number(a.num_rows);if(f+s>=i&&(r===void 0||f<r)){const u=r&&r-f,c=await hx(t,a,f,u);if(n){const d=Math.max(i-f,0),l=r===void 0?void 0:r-f;Os(o,c.slice(d,l))}}f+=s}n&&n(o)}async function hx(t,e,n,r){const{file:i,metadata:o,columns:f}=t;if(!o)throw new Error("parquet metadata not found");(r===void 0||r>e.num_rows)&&(r=Number(e.num_rows));let[a,s]=[i.byteLength,0];if(e.columns.forEach(({meta_data:p})=>{if(!p)throw new Error("parquet column metadata is undefined");if(f&&!f.includes(p.path_in_schema[0]))return;const[g,_]=pd(p).map(Number);a=Math.min(a,g),s=Math.max(s,_)}),a>=s&&(f!=null&&f.length))throw new Error(`parquet columns not found: ${f.join(", ")}`);let u;s-a<=1<<25&&(u=await i.slice(a,s));const c=[],{children:d}=cd(o.schema,[])[0],l=new Map(d.map(p=>[p.element.name,sm(p)])),h=new Map;for(let p=0;p<e.columns.length;p++){const g=e.columns[p].meta_data;if(!g)throw new Error("parquet column metadata is undefined");const _=g.path_in_schema[0];if(f&&!f.includes(_))continue;const[m,b]=pd(g).map(Number),w=b-m;if(w>1<<30){console.warn(`parquet skipping huge column "${g.path_in_schema}" ${w.toLocaleString()} bytes`);continue}let y,x=0;u?(y=Promise.resolve(u),x=m-a):y=Promise.resolve(i.slice(m,b)),c.push(y.then(v=>{var N;const M=cd(o.schema,g.path_in_schema),T={view:new DataView(v),offset:x};let E=cx(T,r,g,M,t);const I=g.path_in_schema.join(".");h.set(I,E),E=void 0;const $=l.get(_);if($!=null&&$.every(S=>h.has(S))&&(Or(h,M[1]),E=h.get(_),!E))throw new Error(`parquet column data not assembled: ${_}`);E&&((N=t.onChunk)==null||N.call(t,{columnName:_,columnData:E,rowStart:n,rowEnd:n+E.length}))}))}if(await Promise.all(c),t.onComplete){const p=new Array(r),g=d.map(b=>b.element.name).filter(b=>!f||f.includes(b)),_=f||g,m=_.map(b=>g.includes(b)?h.get(b):void 0);for(let b=0;b<r;b++)if(t.rowFormat==="object"){const w={};_.forEach((y,x)=>{var v;w[y]=(v=m[x])==null?void 0:v[b]}),p[b]=w}else p[b]=m.map(w=>w==null?void 0:w[b]);return p}return[]}function sm(t,e=[]){if(t.children.length)for(const n of t.children)sm(n,e);else e.push(t.path.join("."));return e}var px=ne('<meta name="description" content="Playlists app">'),gx=ne("<option> </option>"),mx=ne("<select></select>"),bx=ne("<option> </option>"),_x=ne("<select></select>"),yx=ne('<div class="app"><!> <br> <br> <!> <br> <!> <br> <!> <br> <br> <!> <br> <!></div>');function Sx(t,e){ri(e,!1);const n=fe();let r=fe([]),i=fe([]),o=fe([]),f=fe([]),a=fe([]),s=fe([]);const u=["AllOut2000s","BigOnTheInternet","CafeCroissant","ColdplayRadio","FreshFinds","FutursHits","GardeLaPeche","GooseBumps","GrandHit","GustavoCeratiRadio","HitRadioFr","ItsAllGood","JazzintheBackground","JustHits","Mint","MorningMotivation","MuseRadio","NewMusicFriday","PopRock","PopRockRadio","PowerWorkout","ReveilDouceur","RockClassics","RockParty","RockThis","TheStrokesRadio","ThisIsGustavoCerati","TodayTopHits","VivaLatino","WakeUpHappy","Workout"];let c=fe(u[0]),d=fe();const l=(N,S)=>typeof N=="string"?S.indexOf(N)>-1:N.filter(D=>S.indexOf(D)>-1).length>0,h=(N,S)=>{const D=N.filter(L=>L.playlist==S).map(L=>L.artists).flat();st(f,p(D,7)),console.log("mostFrequentArtists",R(f)),st(d,R(f)[0]);const A=N.filter(L=>L.playlist==S&&l(L.artists,R(f)));return console.log("bestArtists",A.length),A},p=(N,S)=>{const D={};for(const A of N)D[A]=(D[A]||0)+1;return Object.entries(D).sort((A,L)=>L[1]-A[1]).slice(0,S).map(([A])=>A)};Im(async()=>{const N=`${Rm}/data/historical.parquet`,S=D=>{const A=D;st(s,A),st(o,[...new Set(A.map(P=>P.commit_date.toISOString().split("T")[0]))].slice(0,2)),console.log("last_commits",R(o));const L=["JazzintheBackground","NewMusicFriday","FreshFinds","DeepSleep"];st(r,A.filter(P=>P.position<30&&!(L.indexOf(P.playlist)>-1)&&P.date>new Date().setDate(new Date(R(o)[0]).getDate()-30)).map(P=>(P.commit_date=P.commit_date.toISOString().split("T")[0],P.position=Number(P.position),P))),console.log("data preprop latestSongs",R(r).length),st(i,A.filter(P=>u.indexOf(P.playlist)>-1&&R(o).indexOf(P.commit_date>-1)).map(P=>(P.commit_date=typeof P.commit_date=="string"?P.commit_date:P.commit_date.toISOString().split("T")[0],P.position=Number(P.position),P))),console.log("diffData",R(i).length)};await dx({file:await ux({url:N}),columns:["name","artists","album_name","date","song_id","cover_url","playlist","position","commit_date"],rowFormat:"object",onComplete:D=>S(D)})}),Sa(()=>(R(s),R(c)),()=>{st(n,h(R(s),R(c)))}),Sa(()=>(R(n),R(d)),()=>{st(a,R(n).filter(N=>l(N.artists,[R(d)])))}),wd(),gd();var g=yx();Dm(N=>{var S=px();km.title="Playlists",pt(N,S)});var _=Rt(g);{var m=N=>{_9(N,{get latestSongs(){return R(r)}})};jt(_,N=>{R(r).length>0&&N(m)})}var b=Pt(_,6);{var w=N=>{var S=mx();Yt(()=>{R(c),nc(()=>{})}),Ca(S,5,()=>u,Na,(D,A)=>{var L=gx(),P={},B=Rt(L,!0);$t(L),Yt(()=>{P!==(P=R(A))&&(L.value=(L.__value=R(A))==null?"":R(A)),Lt(B,R(A))}),pt(D,L)}),$t(S),oc(S,()=>R(c),D=>st(c,D)),pt(N,S)};jt(b,N=>{u.length>0&&N(w)})}var y=Pt(b,4);{var x=N=>{v9(N,{get diffData(){return R(i)},set diffData(S){st(i,S)},get playlistChoosen(){return R(c)},set playlistChoosen(S){st(c,S)},get last_commits(){return R(o)},set last_commits(S){st(o,S)},$$legacy:!0})};jt(y,N=>{R(i).length>0&&N(x)})}var v=Pt(y,4);{var M=N=>{M9(N,{get dataFiltered(){return R(n)},set dataFiltered(S){st(n,S)},get playlistChoosen(){return R(c)},set playlistChoosen(S){st(c,S)},get mostFrequentArtists(){return R(f)},set mostFrequentArtists(S){st(f,S)},$$legacy:!0})};jt(v,N=>{R(n).length>0&&R(f).length>0&&N(M)})}var T=Pt(v,6);{var E=N=>{var S=_x();Yt(()=>{R(d),nc(()=>{R(f)})}),Ca(S,5,()=>R(f),Na,(D,A)=>{var L=bx(),P={},B=Rt(L,!0);$t(L),Yt(()=>{P!==(P=R(A))&&(L.value=(L.__value=R(A))==null?"":R(A)),Lt(B,R(A))}),pt(D,L)}),$t(S),oc(S,()=>R(d),D=>st(d,D)),pt(N,S)};jt(T,N=>{R(f).length>0&&N(E)})}var I=Pt(T,4);{var $=N=>{A9(N,{get songsNames(){return R(a)},set songsNames(S){st(a,S)},get artistChoosen(){return R(d)},set artistChoosen(S){st(d,S)},get playlistChoosen(){return R(c)},set playlistChoosen(S){st(c,S)},$$legacy:!0})};jt(I,N=>{R(a).length>0&&N($)})}$t(g),pt(t,g),ii()}export{Sx as component,Ex as universal};

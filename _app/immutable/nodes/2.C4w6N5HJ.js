import{a as pt,t as me,c as $i,d as hr}from"../chunks/4_xHa1Ib.js";import{i as Es}from"../chunks/kYCum3QG.js";import{ab as Pu,a2 as Ou,ac as Jl,D as ba,ad as Xg,H as Zg,I as en,N as If,J as jg,a as F,L as Qg,M as Fu,O as kf,T as pr,ay as Gi,P as td,Q as ed,R as Kg,ao as nd,az as Jg,aA as tm,an as em,aB as nm,aC as rm,ah as im,a8 as om,ak as fm,m as am,A as Uu,aD as sm,aE as um,aF as cm,ag as lm,G as dm,V as Ss,f as hm,p as jr,q as Qr,aG as ya,aH as rd,l as Ai,aI as ne,i as Lf,v as Gt,x as oe,w as Ct,o as ie,b as ht,c as id,av as od,at as pm,aJ as gm,aK as qu}from"../chunks/5YL_0G8K.js";import{s as Vt,a as mm}from"../chunks/DX4SwyQo.js";import{c as bm,p as Xi,i as fe,b as fd}from"../chunks/DyWNm0nT.js";import{b as ym}from"../chunks/BoIHPy5x.js";let Bu=!1;function _m(){Bu||(Bu=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function wm(t){var e=Jl,n=ba;Pu(null),Ou(null);try{return t()}finally{Pu(e),Ou(n)}}function vm(t,e,n,r=n){t.addEventListener(e,()=>wm(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),_m()}function _a(t,e){return e}function xm(t,e,n,r){for(var i=[],o=e.length,f=0;f<o;f++)tm(e[f].e,i,!0);var a=o>0&&i.length===0&&n!==null;if(a){var s=n.parentNode;em(s),s.append(n),r.clear(),Fe(t,e[0].prev,e[o-1].next)}nm(i,()=>{for(var u=0;u<o;u++){var c=e[u];a||(r.delete(c.k),Fe(t,c.prev,c.next)),rm(c.e,!a)}})}function wa(t,e,n,r,i,o=null){var f=t,a={flags:e,items:new Map,first:null};{var s=t;f=en?If(im(s)):s.appendChild(Xg())}en&&jg();var u=null,c=!1,d=om(()=>{var l=n();return dm(l)?l:l==null?[]:nd(l)});Zg(()=>{var l=F(d),h=l.length;if(c&&h===0)return;c=h===0;let p=!1;if(en){var g=f.data===Qg;g!==(h===0)&&(f=Fu(),If(f),kf(!1),p=!0)}if(en){for(var y=null,m,b=0;b<h;b++){if(pr.nodeType===8&&pr.data===fm){f=pr,p=!0,kf(!1);break}var w=l[b],_=r(w,b);m=ad(pr,a,y,null,w,_,b,i,e),a.items.set(_,m),y=m}h>0&&If(Fu())}if(!en){var M=Jl;Mm(l,a,f,i,e,(M.f&Gi)!==0,r)}o!==null&&(h===0?u?td(u):u=ed(()=>o(f)):u!==null&&Kg(u,()=>{u=null})),p&&kf(!0),F(d)}),en&&(f=pr)}function Mm(t,e,n,r,i,o,f,a){var s=t.length,u=e.items,c=e.first,d=c,l,h=null,p=[],g=[],y,m,b,w;for(w=0;w<s;w+=1){if(y=t[w],m=f(y,w),b=u.get(m),b===void 0){var _=d?d.e.nodes_start:n;h=ad(_,e,h,h===null?e.first:h.next,y,m,w,r,i),u.set(m,h),p=[],g=[],d=h.next;continue}if($m(b,y,w),b.e.f&Gi&&td(b.e),b!==d){if(l!==void 0&&l.has(b)){if(p.length<g.length){var M=g[0],v;h=M.prev;var $=p[0],T=p[p.length-1];for(v=0;v<p.length;v+=1)Yu(p[v],M,n);for(v=0;v<g.length;v+=1)l.delete(g[v]);Fe(e,$.prev,T.next),Fe(e,h,$),Fe(e,T,M),d=M,h=T,w-=1,p=[],g=[]}else l.delete(b),Yu(b,d,n),Fe(e,b.prev,b.next),Fe(e,b,h===null?e.first:h.next),Fe(e,h,b),h=b;continue}for(p=[],g=[];d!==null&&d.k!==m;)(o||!(d.e.f&Gi))&&(l??(l=new Set)).add(d),g.push(d),d=d.next;if(d===null)continue;b=d}p.push(b),h=b,d=b.next}if(d!==null||l!==void 0){for(var E=l===void 0?[]:nd(l);d!==null;)(o||!(d.e.f&Gi))&&E.push(d),d=d.next;var S=E.length;if(S>0){var x=s===0?n:null;xm(e,E,x,u)}}ba.first=e.first&&e.first.e,ba.last=h&&h.e}function $m(t,e,n,r){Jg(t.v,e),t.i=n}function ad(t,e,n,r,i,o,f,a,s,u){var c=(s&um)!==0,d=(s&cm)===0,l=c?d?am(i):Uu(i):i,h=s&sm?Uu(f):f,p={i:h,v:l,k:o,a:null,e:null,prev:n,next:r};try{return p.e=ed(()=>a(t,l,h),en),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Yu(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var f=lm(o);i.before(o),o=f}}function Fe(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Am(t,e,n){Ss(()=>{var r=hm(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function sd(t,e,n){if(t.multiple)return Em(t,e);for(var r of t.options){var i=kr(r);if(bm(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Tm(t,e){Ss(()=>{var n=new MutationObserver(()=>{var r=t.__value;sd(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function zu(t,e,n=e){var r=!0;vm(t,"change",i=>{var o=i?"[selected]":":checked",f;if(t.multiple)f=[].map.call(t.querySelectorAll(o),kr);else{var a=t.querySelector(o)??t.querySelector("option:not([disabled])");f=a&&kr(a)}n(f)}),Ss(()=>{var i=e();if(sd(t,i,r),r&&i===void 0){var o=t.querySelector(":checked");o!==null&&(i=kr(o),n(i))}t.__value=i,r=!1}),Tm(t)}function Em(t,e){for(var n of t.options)n.selected=~e.indexOf(kr(n))}function kr(t){return"__value"in t?t.__value:t.value}const Sm=!0,sx=Object.freeze(Object.defineProperty({__proto__:null,prerender:Sm},Symbol.toStringTag,{value:"Module"}));function Be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ho(t){let e,n,r;t.length!==2?(e=Be,n=(a,s)=>Be(t(a),s),r=(a,s)=>t(a)-s):(e=t===Be||t===Kr?t:Nm,n=t,r=t);function i(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const d=u+c>>>1;n(a[d],s)<0?u=d+1:c=d}while(u<c)}return u}function o(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const d=u+c>>>1;n(a[d],s)<=0?u=d+1:c=d}while(u<c)}return u}function f(a,s,u=0,c=a.length){const d=i(a,s,u,c-1);return d>u&&r(a[d-1],s)>-r(a[d],s)?d-1:d}return{left:i,center:f,right:o}}function Nm(){return 0}function ud(t){return t===null?NaN:+t}function*Cm(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Im=Ho(Be),Ns=Im.right;Ho(ud).center;function km(t){return t.length|0}function Lm(t){return!(t>0)}function Dm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Rm(t){return e=>t(...e)}function Pm(...t){const e=typeof t[t.length-1]=="function"&&Rm(t.pop());t=t.map(Dm);const n=t.map(km),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Lm))return o;for(;;){o.push(i.map((a,s)=>t[s][a]));let f=r;for(;++i[f]===n[f];){if(f===0)return e?o.map(e):o;i[f--]=0}}}function cd(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let f of t)f!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i));else{let f=-1;for(let a of t)(a=e(a,++f,t))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Om(t,e){const n=cd(t,e);return n&&Math.sqrt(n)}function Ye(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class hn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],f=e+o,a=Math.abs(e)<Math.abs(o)?e-(f-o):o-(f-e);a&&(n[r++]=a),e=f}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,f=0;if(n>0){for(f=e[--n];n>0&&(r=f,i=e[--n],f=r+i,o=i-(f-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=f+i,i==r-f&&(f=r))}return f}}class Or extends Map{constructor(e,n=hd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(va(this,e))}has(e){return super.has(va(this,e))}set(e,n){return super.set(ld(this,e),n)}delete(e){return super.delete(dd(this,e))}}class Wo extends Set{constructor(e,n=hd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(va(this,e))}add(e){return super.add(ld(this,e))}delete(e){return super.delete(dd(this,e))}}function va({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ld({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dd({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xa(t){return t}function Fm(t,...e){return Cs(t,xa,xa,e)}function Df(t,e,...n){return Cs(t,xa,e,n)}function Um(t,e,...n){return Cs(t,Array.from,e,n)}function Cs(t,e,n,r){return function i(o,f){if(f>=r.length)return n(o);const a=new Or,s=r[f++];let u=-1;for(const c of o){const d=s(c,++u,o),l=a.get(d);l?l.push(c):a.set(d,[c])}for(const[c,d]of a)a.set(c,i(d,f));return e(a)}(t,0)}function qm(t,e){return Array.from(e,n=>t[n])}function Bm(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const f of e){const a=io(f[i],f[o]);if(a)return a}})):(n=t.map(n),r.sort((i,o)=>io(n[i],n[o]))),qm(t,r)}return t.sort(pd(n))}function pd(t=Be){if(t===Be)return io;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function io(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ym=Math.sqrt(50),zm=Math.sqrt(10),Hm=Math.sqrt(2);function oo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),f=o>=Ym?10:o>=zm?5:o>=Hm?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/f,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*f,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?oo(t,e,n*2):[a,s,u]}function fo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,f]=r?oo(e,t,n):oo(t,e,n);if(!(o>=i))return[];const a=o-i+1,s=new Array(a);if(r)if(f<0)for(let u=0;u<a;++u)s[u]=(o-u)/-f;else for(let u=0;u<a;++u)s[u]=(o-u)*f;else if(f<0)for(let u=0;u<a;++u)s[u]=(i+u)/-f;else for(let u=0;u<a;++u)s[u]=(i+u)*f;return s}function Ma(t,e,n){return e=+e,t=+t,n=+n,oo(t,e,n)[2]}function $a(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ma(e,t,n):Ma(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function de(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Wm(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Fr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Vm(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function gd(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?io:pd(i);r>n;){if(r-n>600){const s=r-n+1,u=e-n+1,c=Math.log(s),d=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*d*(s-d)/s)*(u-s/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/s+l)),p=Math.min(r,Math.floor(e+(s-u)*d/s+l));gd(t,e,h,p,i)}const o=t[e];let f=n,a=r;for(gr(t,n,e),i(t[r],o)>0&&gr(t,n,r);f<a;){for(gr(t,f,a),++f,--a;i(t[f],o)<0;)++f;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?gr(t,n,a):(++a,gr(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function gr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ao(t,e,n){if(t=Float64Array.from(Cm(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Fr(t);if(e>=1)return de(t);var r,i=(r-1)*e,o=Math.floor(i),f=de(gd(t,o).subarray(0,o+1)),a=Fr(t.subarray(o+1));return f+(a-f)*(i-o)}}function Gm(t,e,n=ud){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),f=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return f+(a-f)*(i-o)}}function Xm(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Aa(t,e){return ao(t,.5,e)}function*Zm(t){for(const e of t)yield*e}function md(t){return Array.from(Zm(t))}function jm(t,e){const n=new Or;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let f of t)(f=e(f,++o,t))!=null&&f>=f&&n.set(f,(n.get(f)||0)+1)}let r,i=0;for(const[o,f]of n)f>i&&(i=f,r=o);return r}function Qm(t,e=Km){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Km(t,e){return[t,e]}function Ta(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Is(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function so(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Jm(t){return t}var tb=3,Hu=1e-6;function eb(t){return"translate("+t+",0)"}function nb(t){return e=>+t(e)}function rb(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ib(){return!this.__axis}function ob(t,e){var n=[],r=null,i=null,o=6,f=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,c="y",d=eb;function l(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):Jm),y=Math.max(o,0)+a,m=e.range(),b=+m[0]+s,w=+m[m.length-1]+s,_=(e.bandwidth?rb:nb)(e.copy(),s),M=h.selection?h.selection():h,v=M.selectAll(".domain").data([null]),$=M.selectAll(".tick").data(p,e).order(),T=$.exit(),E=$.enter().append("g").attr("class","tick"),S=$.select("line"),x=$.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),x=x.merge(E.append("text").attr("fill","currentColor").attr(c,u*y).attr("dy","0.71em")),h!==M&&(v=v.transition(h),$=$.transition(h),S=S.transition(h),x=x.transition(h),T=T.transition(h).attr("opacity",Hu).attr("transform",function(L){return isFinite(L=_(L))?d(L+s):this.getAttribute("transform")}),E.attr("opacity",Hu).attr("transform",function(L){var k=this.parentNode.__axis;return d((k&&isFinite(k=k(L))?k:_(L))+s)})),T.remove(),v.attr("d",f?"M"+b+","+u*f+"V"+s+"H"+w+"V"+u*f:"M"+b+","+s+"H"+w),$.attr("opacity",1).attr("transform",function(L){return d(_(L)+s)}),S.attr(c+"2",u*o),x.attr(c,u*y).text(g),M.filter(ib).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=f=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(f=+h,l):f},l.tickPadding=function(h){return arguments.length?(a=+h,l):a},l.offset=function(h){return arguments.length?(s=+h,l):s},l}function fb(t){return ob(tb,t)}var ab={value:()=>{}};function bd(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zi(n)}function Zi(t){this._=t}function sb(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zi.prototype=bd.prototype={constructor:Zi,on:function(t,e){var n=this._,r=sb(t+"",n),i,o=-1,f=r.length;if(arguments.length<2){for(;++o<f;)if((i=(t=r[o]).type)&&(i=ub(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<f;)if(i=(t=r[o]).type)n[i]=Wu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Wu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ub(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Wu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ab,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ea="http://www.w3.org/1999/xhtml";const Yn={svg:"http://www.w3.org/2000/svg",xhtml:Ea,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Yn.hasOwnProperty(e)?{space:Yn[e],local:t}:t}function cb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ea&&e.documentElement.namespaceURI===Ea?e.createElement(t):e.createElementNS(n,t)}}function lb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Go(t){var e=Vo(t);return(e.local?lb:cb)(e)}function db(){}function ks(t){return t==null?db:function(){return this.querySelector(t)}}function hb(t){typeof t!="function"&&(t=ks(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=new Array(f),s,u,c=0;c<f;++c)(s=o[c])&&(u=t.call(s,s.__data__,c,o))&&("__data__"in s&&(u.__data__=s.__data__),a[c]=u);return new Rt(r,this._parents)}function pb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function gb(){return[]}function yd(t){return t==null?gb:function(){return this.querySelectorAll(t)}}function mb(t){return function(){return pb(t.apply(this,arguments))}}function bb(t){typeof t=="function"?t=mb(t):t=yd(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var f=e[o],a=f.length,s,u=0;u<a;++u)(s=f[u])&&(r.push(t.call(s,s.__data__,u,f)),i.push(s));return new Rt(r,i)}function _d(t){return function(){return this.matches(t)}}function wd(t){return function(e){return e.matches(t)}}var yb=Array.prototype.find;function _b(t){return function(){return yb.call(this.children,t)}}function wb(){return this.firstElementChild}function vb(t){return this.select(t==null?wb:_b(typeof t=="function"?t:wd(t)))}var xb=Array.prototype.filter;function Mb(){return Array.from(this.children)}function $b(t){return function(){return xb.call(this.children,t)}}function Ab(t){return this.selectAll(t==null?Mb:$b(typeof t=="function"?t:wd(t)))}function Tb(t){typeof t!="function"&&(t=_d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=[],s,u=0;u<f;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&a.push(s);return new Rt(r,this._parents)}function vd(t){return new Array(t.length)}function Eb(){return new Rt(this._enter||this._groups.map(vd),this._parents)}function uo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}uo.prototype={constructor:uo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sb(t){return function(){return t}}function Nb(t,e,n,r,i,o){for(var f=0,a,s=e.length,u=o.length;f<u;++f)(a=e[f])?(a.__data__=o[f],r[f]=a):n[f]=new uo(t,o[f]);for(;f<s;++f)(a=e[f])&&(i[f]=a)}function Cb(t,e,n,r,i,o,f){var a,s,u=new Map,c=e.length,d=o.length,l=new Array(c),h;for(a=0;a<c;++a)(s=e[a])&&(l[a]=h=f.call(s,s.__data__,a,e)+"",u.has(h)?i[a]=s:u.set(h,s));for(a=0;a<d;++a)h=f.call(t,o[a],a,o)+"",(s=u.get(h))?(r[a]=s,s.__data__=o[a],u.delete(h)):n[a]=new uo(t,o[a]);for(a=0;a<c;++a)(s=e[a])&&u.get(l[a])===s&&(i[a]=s)}function Ib(t){return t.__data__}function kb(t,e){if(!arguments.length)return Array.from(this,Ib);var n=e?Cb:Nb,r=this._parents,i=this._groups;typeof t!="function"&&(t=Sb(t));for(var o=i.length,f=new Array(o),a=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],l=d.length,h=Lb(t.call(c,c&&c.__data__,u,r)),p=h.length,g=a[u]=new Array(p),y=f[u]=new Array(p),m=s[u]=new Array(l);n(c,d,g,y,m,h,e);for(var b=0,w=0,_,M;b<p;++b)if(_=g[b]){for(b>=w&&(w=b+1);!(M=y[w])&&++w<p;);_._next=M||null}}return f=new Rt(f,r),f._enter=a,f._exit=s,f}function Lb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Db(){return new Rt(this._exit||this._groups.map(vd),this._parents)}function Rb(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Pb(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,f=Math.min(i,o),a=new Array(i),s=0;s<f;++s)for(var u=n[s],c=r[s],d=u.length,l=a[s]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(l[p]=h);for(;s<i;++s)a[s]=n[s];return new Rt(a,this._parents)}function Ob(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],f;--i>=0;)(f=r[i])&&(o&&f.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(f,o),o=f);return this}function Fb(t){t||(t=Ub);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var f=n[o],a=f.length,s=i[o]=new Array(a),u,c=0;c<a;++c)(u=f[c])&&(s[c]=u);s.sort(e)}return new Rt(i,this._parents).order()}function Ub(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Bb(){return Array.from(this)}function Yb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var f=r[i];if(f)return f}return null}function zb(){let t=0;for(const e of this)++t;return t}function Hb(){return!this.node()}function Wb(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,f=i.length,a;o<f;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Vb(t){return function(){this.removeAttribute(t)}}function Gb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xb(t,e){return function(){this.setAttribute(t,e)}}function Zb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Kb(t,e){var n=Vo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Gb:Vb:typeof e=="function"?n.local?Qb:jb:n.local?Zb:Xb)(n,e))}function xd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Jb(t){return function(){this.style.removeProperty(t)}}function t2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function e2(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function n2(t,e,n){return arguments.length>1?this.each((e==null?Jb:typeof e=="function"?e2:t2)(t,e,n??"")):zn(this.node(),t)}function zn(t,e){return t.style.getPropertyValue(e)||xd(t).getComputedStyle(t,null).getPropertyValue(e)}function r2(t){return function(){delete this[t]}}function i2(t,e){return function(){this[t]=e}}function o2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function f2(t,e){return arguments.length>1?this.each((e==null?r2:typeof e=="function"?o2:i2)(t,e)):this.node()[t]}function Md(t){return t.trim().split(/^|\s+/)}function Ls(t){return t.classList||new $d(t)}function $d(t){this._node=t,this._names=Md(t.getAttribute("class")||"")}$d.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ad(t,e){for(var n=Ls(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Td(t,e){for(var n=Ls(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function a2(t){return function(){Ad(this,t)}}function s2(t){return function(){Td(this,t)}}function u2(t,e){return function(){(e.apply(this,arguments)?Ad:Td)(this,t)}}function c2(t,e){var n=Md(t+"");if(arguments.length<2){for(var r=Ls(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?u2:e?a2:s2)(n,e))}function l2(){this.textContent=""}function d2(t){return function(){this.textContent=t}}function h2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function p2(t){return arguments.length?this.each(t==null?l2:(typeof t=="function"?h2:d2)(t)):this.node().textContent}function g2(){this.innerHTML=""}function m2(t){return function(){this.innerHTML=t}}function b2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function y2(t){return arguments.length?this.each(t==null?g2:(typeof t=="function"?b2:m2)(t)):this.node().innerHTML}function _2(){this.nextSibling&&this.parentNode.appendChild(this)}function w2(){return this.each(_2)}function v2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function x2(){return this.each(v2)}function M2(t){var e=typeof t=="function"?t:Go(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $2(){return null}function A2(t,e){var n=typeof t=="function"?t:Go(t),r=e==null?$2:typeof e=="function"?e:ks(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function T2(){var t=this.parentNode;t&&t.removeChild(this)}function E2(){return this.each(T2)}function S2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function N2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function C2(t){return this.select(t?N2:S2)}function I2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function k2(t){return function(e){t.call(this,e,this.__data__)}}function L2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function D2(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function R2(t,e,n){return function(){var r=this.__on,i,o=k2(e);if(r){for(var f=0,a=r.length;f<a;++f)if((i=r[f]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function P2(t,e,n){var r=L2(t+""),i,o=r.length,f;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,c;s<u;++s)for(i=0,c=a[s];i<o;++i)if((f=r[i]).type===c.type&&f.name===c.name)return c.value}return}for(a=e?R2:D2,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Ed(t,e,n){var r=xd(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function O2(t,e){return function(){return Ed(this,t,e)}}function F2(t,e){return function(){return Ed(this,t,e.apply(this,arguments))}}function U2(t,e){return this.each((typeof e=="function"?F2:O2)(t,e))}function*q2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,f;i<o;++i)(f=r[i])&&(yield f)}var Sd=[null];function Rt(t,e){this._groups=t,this._parents=e}function Jr(){return new Rt([[document.documentElement]],Sd)}function B2(){return this}Rt.prototype=Jr.prototype={constructor:Rt,select:hb,selectAll:bb,selectChild:vb,selectChildren:Ab,filter:Tb,data:kb,enter:Eb,exit:Db,join:Rb,merge:Pb,selection:B2,order:Ob,sort:Fb,call:qb,nodes:Bb,node:Yb,size:zb,empty:Hb,each:Wb,attr:Kb,style:n2,property:f2,classed:c2,text:p2,html:y2,raise:w2,lower:x2,append:M2,insert:A2,remove:E2,clone:C2,datum:I2,on:P2,dispatch:U2,[Symbol.iterator]:q2};function Fn(t){return typeof t=="string"?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],Sd)}function Y2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function z2(t,e){if(t=Y2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function or(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ti(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xe(){}var pn=.7,Hn=1/pn,Un="\\s*([+-]?\\d+)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H2=/^#([0-9a-f]{3,8})$/,W2=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),V2=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),G2=new RegExp(`^rgba\\(${Un},${Un},${Un},${Ur}\\)$`),X2=new RegExp(`^rgba\\(${ce},${ce},${ce},${Ur}\\)$`),Z2=new RegExp(`^hsl\\(${Ur},${ce},${ce}\\)$`),j2=new RegExp(`^hsla\\(${Ur},${ce},${ce},${Ur}\\)$`),Vu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};or(Xe,gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gu,formatHex:Gu,formatHex8:Q2,formatHsl:K2,formatRgb:Xu,toString:Xu});function Gu(){return this.rgb().formatHex()}function Q2(){return this.rgb().formatHex8()}function K2(){return Nd(this).formatHsl()}function Xu(){return this.rgb().formatRgb()}function gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=H2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zu(e):n===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W2.exec(t))?new _t(e[1],e[2],e[3],1):(e=V2.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=G2.exec(t))?Ti(e[1],e[2],e[3],e[4]):(e=X2.exec(t))?Ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z2.exec(t))?Ku(e[1],e[2]/100,e[3]/100,1):(e=j2.exec(t))?Ku(e[1],e[2]/100,e[3]/100,e[4]):Vu.hasOwnProperty(t)?Zu(Vu[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function Zu(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function Ti(t,e,n,r){return r<=0&&(t=e=n=NaN),new _t(t,e,n,r)}function Ds(t){return t instanceof Xe||(t=gn(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function He(t,e,n,r){return arguments.length===1?Ds(t):new _t(t,e,n,r??1)}function _t(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}or(_t,He,ti(Xe,{brighter(t){return t=t==null?Hn:Math.pow(Hn,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pn:Math.pow(pn,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(sn(this.r),sn(this.g),sn(this.b),co(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ju,formatHex:ju,formatHex8:J2,formatRgb:Qu,toString:Qu}));function ju(){return`#${an(this.r)}${an(this.g)}${an(this.b)}`}function J2(){return`#${an(this.r)}${an(this.g)}${an(this.b)}${an((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qu(){const t=co(this.opacity);return`${t===1?"rgb(":"rgba("}${sn(this.r)}, ${sn(this.g)}, ${sn(this.b)}${t===1?")":`, ${t})`}`}function co(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function an(t){return t=sn(t),(t<16?"0":"")+t.toString(16)}function Ku(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function Nd(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof Xe||(t=gn(t)),!t)return new Xt;if(t instanceof Xt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),f=NaN,a=o-i,s=(o+i)/2;return a?(e===o?f=(n-r)/a+(n<r)*6:n===o?f=(r-e)/a+2:f=(e-n)/a+4,a/=s<.5?o+i:2-o-i,f*=60):a=s>0&&s<1?0:f,new Xt(f,a,s,t.opacity)}function Sa(t,e,n,r){return arguments.length===1?Nd(t):new Xt(t,e,n,r??1)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}or(Xt,Sa,ti(Xe,{brighter(t){return t=t==null?Hn:Math.pow(Hn,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pn:Math.pow(pn,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _t(Rf(t>=240?t-240:t+120,i,r),Rf(t,i,r),Rf(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xt(Ju(this.h),Ei(this.s),Ei(this.l),co(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=co(this.opacity);return`${t===1?"hsl(":"hsla("}${Ju(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ju(t){return t=(t||0)%360,t<0?t+360:t}function Ei(t){return Math.max(0,Math.min(1,t||0))}function Rf(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cd=Math.PI/180,Id=180/Math.PI,lo=18,kd=.96422,Ld=1,Dd=.82521,Rd=4/29,qn=6/29,Pd=3*qn*qn,ty=qn*qn*qn;function Od(t){if(t instanceof le)return new le(t.l,t.a,t.b,t.opacity);if(t instanceof Ee)return Fd(t);t instanceof _t||(t=Ds(t));var e=Uf(t.r),n=Uf(t.g),r=Uf(t.b),i=Pf((.2225045*e+.7168786*n+.0606169*r)/Ld),o,f;return e===n&&n===r?o=f=i:(o=Pf((.4360747*e+.3850649*n+.1430804*r)/kd),f=Pf((.0139322*e+.0971045*n+.7141733*r)/Dd)),new le(116*i-16,500*(o-i),200*(i-f),t.opacity)}function Na(t,e,n,r){return arguments.length===1?Od(t):new le(t,e,n,r??1)}function le(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}or(le,Na,ti(Xe,{brighter(t){return new le(this.l+lo*(t??1),this.a,this.b,this.opacity)},darker(t){return new le(this.l-lo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=kd*Of(e),t=Ld*Of(t),n=Dd*Of(n),new _t(Ff(3.1338561*e-1.6168667*t-.4906146*n),Ff(-.9787684*e+1.9161415*t+.033454*n),Ff(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Pf(t){return t>ty?Math.pow(t,1/3):t/Pd+Rd}function Of(t){return t>qn?t*t*t:Pd*(t-Rd)}function Ff(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Uf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ey(t){if(t instanceof Ee)return new Ee(t.h,t.c,t.l,t.opacity);if(t instanceof le||(t=Od(t)),t.a===0&&t.b===0)return new Ee(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Id;return new Ee(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ca(t,e,n,r){return arguments.length===1?ey(t):new Ee(t,e,n,r??1)}function Ee(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Fd(t){if(isNaN(t.h))return new le(t.l,0,0,t.opacity);var e=t.h*Cd;return new le(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}or(Ee,Ca,ti(Xe,{brighter(t){return new Ee(this.h,this.c,this.l+lo*(t??1),this.opacity)},darker(t){return new Ee(this.h,this.c,this.l-lo*(t??1),this.opacity)},rgb(){return Fd(this).rgb()}}));var Ud=-.14861,Rs=1.78277,Ps=-.29227,Xo=-.90649,qr=1.97294,tc=qr*Xo,ec=qr*Rs,nc=Rs*Ps-Xo*Ud;function ny(t){if(t instanceof un)return new un(t.h,t.s,t.l,t.opacity);t instanceof _t||(t=Ds(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nc*r+tc*e-ec*n)/(nc+tc-ec),o=r-i,f=(qr*(n-i)-Ps*o)/Xo,a=Math.sqrt(f*f+o*o)/(qr*i*(1-i)),s=a?Math.atan2(f,o)*Id-120:NaN;return new un(s<0?s+360:s,a,i,t.opacity)}function he(t,e,n,r){return arguments.length===1?ny(t):new un(t,e,n,r??1)}function un(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}or(un,he,ti(Xe,{brighter(t){return t=t==null?Hn:Math.pow(Hn,t),new un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pn:Math.pow(pn,t),new un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Cd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new _t(255*(e+n*(Ud*r+Rs*i)),255*(e+n*(Ps*r+Xo*i)),255*(e+n*(qr*r)),this.opacity)}}));function ry(t,e,n,r,i){var o=t*t,f=o*t;return((1-3*t+3*o-f)*e+(4-6*o+3*f)*n+(1+3*t+3*o-3*f)*r+f*i)/6}function iy(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],f=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return ry((n-r/e)*e,f,i,o,a)}}const Zo=t=>()=>t;function qd(t,e){return function(n){return t+n*e}}function oy(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Os(t,e){var n=e-t;return n?qd(t,n>180||n<-180?n-360*Math.round(n/360):n):Zo(isNaN(t)?e:t)}function fy(t){return(t=+t)==1?Tt:function(e,n){return n-e?oy(e,n,t):Zo(isNaN(e)?n:e)}}function Tt(t,e){var n=e-t;return n?qd(t,n):Zo(isNaN(t)?e:t)}const mn=function t(e){var n=fy(e);function r(i,o){var f=n((i=He(i)).r,(o=He(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),u=Tt(i.opacity,o.opacity);return function(c){return i.r=f(c),i.g=a(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ay(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),f,a;for(f=0;f<n;++f)a=He(e[f]),r[f]=a.r||0,i[f]=a.g||0,o[f]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(s){return a.r=r(s),a.g=i(s),a.b=o(s),a+""}}}var sy=ay(iy);function uy(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function cy(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ly(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),f;for(f=0;f<r;++f)i[f]=ei(t[f],e[f]);for(;f<n;++f)o[f]=e[f];return function(a){for(f=0;f<r;++f)o[f]=i[f](a);return o}}function dy(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function hy(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ei(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qf=new RegExp(Ia.source,"g");function py(t){return function(){return t}}function gy(t){return function(e){return t(e)+""}}function Bd(t,e){var n=Ia.lastIndex=qf.lastIndex=0,r,i,o,f=-1,a=[],s=[];for(t=t+"",e=e+"";(r=Ia.exec(t))&&(i=qf.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[f]?a[f]+=o:a[++f]=o),(r=r[0])===(i=i[0])?a[f]?a[f]+=i:a[++f]=i:(a[++f]=null,s.push({i:f,x:$t(r,i)})),n=qf.lastIndex;return n<e.length&&(o=e.slice(n),a[f]?a[f]+=o:a[++f]=o),a.length<2?s[0]?gy(s[0].x):py(e):(e=s.length,function(u){for(var c=0,d;c<e;++c)a[(d=s[c]).i]=d.x(u);return a.join("")})}function ei(t,e){var n=typeof e,r;return e==null||n==="boolean"?Zo(e):(n==="number"?$t:n==="string"?(r=gn(e))?(e=r,mn):Bd:e instanceof gn?mn:e instanceof Date?dy:cy(e)?uy:Array.isArray(e)?ly:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hy:$t)(t,e)}function Fs(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var rc=180/Math.PI,ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yd(t,e,n,r,i,o){var f,a,s;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,f=-f),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*rc,skewX:Math.atan(s)*rc,scaleX:f,scaleY:a}}var Si;function my(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ka:Yd(e.a,e.b,e.c,e.d,e.e,e.f)}function by(t){return t==null||(Si||(Si=document.createElementNS("http://www.w3.org/2000/svg","g")),Si.setAttribute("transform",t),!(t=Si.transform.baseVal.consolidate()))?ka:(t=t.matrix,Yd(t.a,t.b,t.c,t.d,t.e,t.f))}function zd(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,l,h,p){if(u!==d||c!==l){var g=h.push("translate(",null,e,null,n);p.push({i:g-4,x:$t(u,d)},{i:g-2,x:$t(c,l)})}else(d||l)&&h.push("translate("+d+e+l+n)}function f(u,c,d,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$t(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,l){u!==c?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$t(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function s(u,c,d,l,h,p){if(u!==d||c!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:$t(u,d)},{i:g-2,x:$t(c,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(u,c){var d=[],l=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,l),f(u.rotate,c.rotate,d,l),a(u.skewX,c.skewX,d,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,l),u=c=null,function(h){for(var p=-1,g=l.length,y;++p<g;)d[(y=l[p]).i]=y.x(h);return d.join("")}}}var yy=zd(my,"px, ","px)","deg)"),_y=zd(by,", ",")",")");function wy(t){return function(e,n){var r=t((e=Sa(e)).h,(n=Sa(n)).h),i=Tt(e.s,n.s),o=Tt(e.l,n.l),f=Tt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=o(a),e.opacity=f(a),e+""}}}const vy=wy(Os);function xy(t,e){var n=Tt((t=Na(t)).l,(e=Na(e)).l),r=Tt(t.a,e.a),i=Tt(t.b,e.b),o=Tt(t.opacity,e.opacity);return function(f){return t.l=n(f),t.a=r(f),t.b=i(f),t.opacity=o(f),t+""}}function My(t){return function(e,n){var r=t((e=Ca(e)).h,(n=Ca(n)).h),i=Tt(e.c,n.c),o=Tt(e.l,n.l),f=Tt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=o(a),e.opacity=f(a),e+""}}}const $y=My(Os);function Hd(t){return function e(n){n=+n;function r(i,o){var f=t((i=he(i)).h,(o=he(o)).h),a=Tt(i.s,o.s),s=Tt(i.l,o.l),u=Tt(i.opacity,o.opacity);return function(c){return i.h=f(c),i.s=a(c),i.l=s(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}Hd(Os);var Us=Hd(Tt);function jo(t,e){e===void 0&&(e=t,t=ei);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(f){var a=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return o[a](f-a)}}function jt(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Wn=0,Mr=0,mr=0,Wd=1e3,ho,$r,po=0,bn=0,Qo=0,Br=typeof performance=="object"&&performance.now?performance:Date,Vd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qs(){return bn||(Vd(Ay),bn=Br.now()+Qo)}function Ay(){bn=0}function go(){this._call=this._time=this._next=null}go.prototype=Gd.prototype={constructor:go,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qs():+n)+(e==null?0:+e),!this._next&&$r!==this&&($r?$r._next=this:ho=this,$r=this),this._call=t,this._time=n,La()},stop:function(){this._call&&(this._call=null,this._time=1/0,La())}};function Gd(t,e,n){var r=new go;return r.restart(t,e,n),r}function Ty(){qs(),++Wn;for(var t=ho,e;t;)(e=bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Wn}function ic(){bn=(po=Br.now())+Qo,Wn=Mr=0;try{Ty()}finally{Wn=0,Sy(),bn=0}}function Ey(){var t=Br.now(),e=t-po;e>Wd&&(Qo-=e,po=t)}function Sy(){for(var t,e=ho,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ho=n);$r=t,La(r)}function La(t){if(!Wn){Mr&&(Mr=clearTimeout(Mr));var e=t-bn;e>24?(t<1/0&&(Mr=setTimeout(ic,t-Br.now()-Qo)),mr&&(mr=clearInterval(mr))):(mr||(po=Br.now(),mr=setInterval(Ey,Wd)),Wn=1,Vd(ic))}}function oc(t,e,n){var r=new go;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ny=bd("start","end","cancel","interrupt"),Cy=[],Xd=0,fc=1,Da=2,ji=3,ac=4,Ra=5,Qi=6;function Ko(t,e,n,r,i,o){var f=t.__transition;if(!f)t.__transition={};else if(n in f)return;Iy(t,n,{name:e,index:r,group:i,on:Ny,tween:Cy,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xd})}function Bs(t,e){var n=Jt(t,e);if(n.state>Xd)throw new Error("too late; already scheduled");return n}function be(t,e){var n=Jt(t,e);if(n.state>ji)throw new Error("too late; already running");return n}function Jt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Iy(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Gd(o,0,n.time);function o(u){n.state=fc,n.timer.restart(f,n.delay,n.time),n.delay<=u&&f(u-n.delay)}function f(u){var c,d,l,h;if(n.state!==fc)return s();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ji)return oc(f);h.state===ac?(h.state=Qi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=Qi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(oc(function(){n.state===ji&&(n.state=ac,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Da,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Da){for(n.state=ji,i=new Array(l=n.tween.length),c=0,d=-1;c<l;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ra,1),d=-1,l=i.length;++d<l;)i[d].call(t,c);n.state===Ra&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Qi,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function ky(t,e){var n=t.__transition,r,i,o=!0,f;if(n){e=e==null?null:e+"";for(f in n){if((r=n[f]).name!==e){o=!1;continue}i=r.state>Da&&r.state<Ra,r.state=Qi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[f]}o&&delete t.__transition}}function Ly(t){return this.each(function(){ky(this,t)})}function Dy(t,e){var n,r;return function(){var i=be(this,t),o=i.tween;if(o!==n){r=n=o;for(var f=0,a=r.length;f<a;++f)if(r[f].name===e){r=r.slice(),r.splice(f,1);break}}i.tween=r}}function Ry(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=be(this,t),f=o.tween;if(f!==r){i=(r=f).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}o.tween=i}}function Py(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Jt(this.node(),n).tween,i=0,o=r.length,f;i<o;++i)if((f=r[i]).name===t)return f.value;return null}return this.each((e==null?Dy:Ry)(n,t,e))}function Ys(t,e,n){var r=t._id;return t.each(function(){var i=be(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Jt(i,r).value[e]}}function Zd(t,e){var n;return(typeof e=="number"?$t:e instanceof gn?mn:(n=gn(e))?(e=n,mn):Bd)(t,e)}function Oy(t){return function(){this.removeAttribute(t)}}function Fy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uy(t,e,n){var r,i=n+"",o;return function(){var f=this.getAttribute(t);return f===i?null:f===r?o:o=e(r=f,n)}}function qy(t,e,n){var r,i=n+"",o;return function(){var f=this.getAttributeNS(t.space,t.local);return f===i?null:f===r?o:o=e(r=f,n)}}function By(t,e,n){var r,i,o;return function(){var f,a=n(this),s;return a==null?void this.removeAttribute(t):(f=this.getAttribute(t),s=a+"",f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a)))}}function Yy(t,e,n){var r,i,o;return function(){var f,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),s=a+"",f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a)))}}function zy(t,e){var n=Vo(t),r=n==="transform"?_y:Zd;return this.attrTween(t,typeof e=="function"?(n.local?Yy:By)(n,r,Ys(this,"attr."+t,e)):e==null?(n.local?Fy:Oy)(n):(n.local?qy:Uy)(n,r,e))}function Hy(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wy(t,o)),n}return i._value=e,i}function Gy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Hy(t,o)),n}return i._value=e,i}function Xy(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Vo(t);return this.tween(n,(r.local?Vy:Gy)(r,e))}function Zy(t,e){return function(){Bs(this,t).delay=+e.apply(this,arguments)}}function jy(t,e){return e=+e,function(){Bs(this,t).delay=e}}function Qy(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zy:jy)(e,t)):Jt(this.node(),e).delay}function Ky(t,e){return function(){be(this,t).duration=+e.apply(this,arguments)}}function Jy(t,e){return e=+e,function(){be(this,t).duration=e}}function t_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ky:Jy)(e,t)):Jt(this.node(),e).duration}function e_(t,e){if(typeof e!="function")throw new Error;return function(){be(this,t).ease=e}}function n_(t){var e=this._id;return arguments.length?this.each(e_(e,t)):Jt(this.node(),e).ease}function r_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;be(this,t).ease=n}}function i_(t){if(typeof t!="function")throw new Error;return this.each(r_(this._id,t))}function o_(t){typeof t!="function"&&(t=_d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],f=o.length,a=r[i]=[],s,u=0;u<f;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&a.push(s);return new ke(r,this._parents,this._name,this._id)}function f_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),f=new Array(r),a=0;a<o;++a)for(var s=e[a],u=n[a],c=s.length,d=f[a]=new Array(c),l,h=0;h<c;++h)(l=s[h]||u[h])&&(d[h]=l);for(;a<r;++a)f[a]=e[a];return new ke(f,this._parents,this._name,this._id)}function a_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function s_(t,e,n){var r,i,o=a_(e)?Bs:be;return function(){var f=o(this,t),a=f.on;a!==r&&(i=(r=a).copy()).on(e,n),f.on=i}}function u_(t,e){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(t):this.each(s_(n,t,e))}function c_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function l_(){return this.on("end.remove",c_(this._id))}function d_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ks(t));for(var r=this._groups,i=r.length,o=new Array(i),f=0;f<i;++f)for(var a=r[f],s=a.length,u=o[f]=new Array(s),c,d,l=0;l<s;++l)(c=a[l])&&(d=t.call(c,c.__data__,l,a))&&("__data__"in c&&(d.__data__=c.__data__),u[l]=d,Ko(u[l],e,n,l,u,Jt(c,n)));return new ke(o,this._parents,e,n)}function h_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yd(t));for(var r=this._groups,i=r.length,o=[],f=[],a=0;a<i;++a)for(var s=r[a],u=s.length,c,d=0;d<u;++d)if(c=s[d]){for(var l=t.call(c,c.__data__,d,s),h,p=Jt(c,n),g=0,y=l.length;g<y;++g)(h=l[g])&&Ko(h,e,n,g,l,p);o.push(l),f.push(c)}return new ke(o,f,e,n)}var p_=Jr.prototype.constructor;function g_(){return new p_(this._groups,this._parents)}function m_(t,e){var n,r,i;return function(){var o=zn(this,t),f=(this.style.removeProperty(t),zn(this,t));return o===f?null:o===n&&f===r?i:i=e(n=o,r=f)}}function jd(t){return function(){this.style.removeProperty(t)}}function b_(t,e,n){var r,i=n+"",o;return function(){var f=zn(this,t);return f===i?null:f===r?o:o=e(r=f,n)}}function y_(t,e,n){var r,i,o;return function(){var f=zn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),zn(this,t))),f===s?null:f===r&&s===i?o:(i=s,o=e(r=f,a))}}function __(t,e){var n,r,i,o="style."+e,f="end."+o,a;return function(){var s=be(this,t),u=s.on,c=s.value[o]==null?a||(a=jd(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(f,i=c),s.on=r}}function w_(t,e,n){var r=(t+="")=="transform"?yy:Zd;return e==null?this.styleTween(t,m_(t,r)).on("end.style."+t,jd(t)):typeof e=="function"?this.styleTween(t,y_(t,r,Ys(this,"style."+t,e))).each(__(this._id,t)):this.styleTween(t,b_(t,r,e),n).on("end.style."+t,null)}function v_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function x_(t,e,n){var r,i;function o(){var f=e.apply(this,arguments);return f!==i&&(r=(i=f)&&v_(t,f,n)),r}return o._value=e,o}function M_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,x_(t,e,n??""))}function $_(t){return function(){this.textContent=t}}function A_(t){return function(){var e=t(this);this.textContent=e??""}}function T_(t){return this.tween("text",typeof t=="function"?A_(Ys(this,"text",t)):$_(t==null?"":t+""))}function E_(t){return function(e){this.textContent=t.call(this,e)}}function S_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&E_(i)),e}return r._value=t,r}function N_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,S_(t))}function C_(){for(var t=this._name,e=this._id,n=Qd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var f=r[o],a=f.length,s,u=0;u<a;++u)if(s=f[u]){var c=Jt(s,e);Ko(s,t,n,u,f,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ke(r,this._parents,t,n)}function I_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,f){var a={value:f},s={value:function(){--i===0&&o()}};n.each(function(){var u=be(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&o()})}var k_=0;function ke(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Qd(){return++k_}var we=Jr.prototype;ke.prototype={constructor:ke,select:d_,selectAll:h_,selectChild:we.selectChild,selectChildren:we.selectChildren,filter:o_,merge:f_,selection:g_,transition:C_,call:we.call,nodes:we.nodes,node:we.node,size:we.size,empty:we.empty,each:we.each,on:u_,attr:zy,attrTween:Xy,style:w_,styleTween:M_,text:T_,textTween:N_,remove:l_,tween:Py,delay:Qy,duration:t_,ease:n_,easeVarying:i_,end:I_,[Symbol.iterator]:we[Symbol.iterator]};function L_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var D_={time:null,delay:0,duration:250,ease:L_};function R_(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function P_(t){var e,n;t instanceof ke?(e=t._id,t=t._name):(e=Qd(),(n=D_).time=qs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var f=r[o],a=f.length,s,u=0;u<a;++u)(s=f[u])&&Ko(s,t,e,u,f,n||R_(s,e));return new ke(r,this._parents,t,e)}Jr.prototype.interrupt=Ly;Jr.prototype.transition=P_;const Pa=Math.PI,Oa=2*Pa,nn=1e-6,O_=Oa-nn;function Kd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function F_(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kd;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kd:F_(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,f){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+f}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let f=this._x1,a=this._y1,s=r-e,u=i-n,c=f-e,d=a-n,l=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>nn)if(!(Math.abs(d*s-u*c)>nn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-f,p=i-a,g=s*s+u*u,y=h*h+p*p,m=Math.sqrt(g),b=Math.sqrt(l),w=o*Math.tan((Pa-Math.acos((g+l-y)/(2*m*b)))/2),_=w/b,M=w/m;Math.abs(_-1)>nn&&this._append`L${e+_*c},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=e+M*s},${this._y1=n+M*u}`}}arc(e,n,r,i,o,f){if(e=+e,n=+n,r=+r,f=!!f,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),u=e+a,c=n+s,d=1^f,l=f?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>nn||Math.abs(this._y1-c)>nn)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%Oa+Oa),l>O_?this._append`A${r},${r},0,1,${d},${e-a},${n-s}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:l>nn&&this._append`A${r},${r},0,${+(l>=Pa)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Fa(t=3){return new Jd(+t)}function U_(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vn(t){return t=mo(Math.abs(t)),t?t[1]:NaN}function q_(t,e){return function(n,r){for(var i=n.length,o=[],f=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=t[f=(f+1)%t.length];return o.reverse().join(e)}}function B_(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Y_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yr(t){if(!(e=Y_.exec(t)))throw new Error("invalid format: "+t);var e;return new zs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yr.prototype=zs.prototype;function zs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z_(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var th;function H_(t,e){var n=mo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(th=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=r.length;return o===f?r:o>f?r+new Array(o-f+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mo(t,Math.max(0,e+o-1))[0]}function sc(t,e){var n=mo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:U_,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sc(t*100,e),r:sc,s:H_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cc(t){return t}var lc=Array.prototype.map,dc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W_(t){var e=t.grouping===void 0||t.thousands===void 0?cc:q_(lc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?cc:B_(lc.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Yr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,y=d.zero,m=d.width,b=d.comma,w=d.precision,_=d.trim,M=d.type;M==="n"?(b=!0,M="g"):uc[M]||(w===void 0&&(w=12),_=!0,M="g"),(y||l==="0"&&h==="=")&&(y=!0,l="0",h="=");var v=g==="$"?n:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=g==="$"?r:/[%p]/.test(M)?f:"",T=uc[M],E=/[defgprs%]/.test(M);w=w===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(x){var L=v,k=$,I,A,D;if(M==="c")k=T(x)+k,x="";else{x=+x;var V=x<0||1/x<0;if(x=isNaN(x)?s:T(Math.abs(x),w),_&&(x=z_(x)),V&&+x==0&&p!=="+"&&(V=!1),L=(V?p==="("?p:a:p==="-"||p==="("?"":p)+L,k=(M==="s"?dc[8+th/3]:"")+k+(V&&p==="("?")":""),E){for(I=-1,A=x.length;++I<A;)if(D=x.charCodeAt(I),48>D||D>57){k=(D===46?i+x.slice(I+1):x.slice(I))+k,x=x.slice(0,I);break}}}b&&!y&&(x=e(x,1/0));var Y=L.length+x.length+k.length,W=Y<m?new Array(m-Y+1).join(l):"";switch(b&&y&&(x=e(W+x,W.length?m-k.length:1/0),W=""),h){case"<":x=L+x+k+W;break;case"=":x=L+W+x+k;break;case"^":x=W.slice(0,Y=W.length>>1)+L+x+k+W.slice(Y);break;default:x=W+L+x+k;break}return o(x)}return S.toString=function(){return d+""},S}function c(d,l){var h=u((d=Yr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Vn(l)/3)))*3,g=Math.pow(10,-p),y=dc[8+p/3];return function(m){return h(g*m)+y}}return{format:u,formatPrefix:c}}var Ni,fr,eh;V_({thousands:",",grouping:[3],currency:["$",""]});function V_(t){return Ni=W_(t),fr=Ni.format,eh=Ni.formatPrefix,Ni}function G_(t){return Math.max(0,-Vn(Math.abs(t)))}function X_(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vn(e)/3)))*3-Vn(Math.abs(t)))}function Z_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vn(e)-Vn(t))+1}var J=1e-6,j_=1e-12,et=Math.PI,ct=et/2,hc=et/4,Pt=et*2,Nt=180/et,ut=et/180,ot=Math.abs,ar=Math.atan,Le=Math.atan2,tt=Math.cos,nh=Math.exp,bo=Math.log,Bf=Math.pow,j=Math.sin,qt=Math.sign||function(t){return t>0?1:t<0?-1:0},kt=Math.sqrt,Hs=Math.tan;function rh(t){return t>1?0:t<-1?et:Math.acos(t)}function Ht(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function Bt(){}function yo(t,e){t&&gc.hasOwnProperty(t.type)&&gc[t.type](t,e)}var pc={Feature:function(t,e){yo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)yo(n[r].geometry,e)}},gc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ua(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ua(n[r],e,0)},Polygon:function(t,e){mc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)yo(n[r],e)}};function Ua(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function mc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ua(t[n],e,1);e.polygonEnd()}function on(t,e){t&&pc.hasOwnProperty(t.type)?pc[t.type](t,e):yo(t,e)}function qa(t){return[Le(t[1],t[0]),Ht(t[2])]}function Gn(t){var e=t[0],n=t[1],r=tt(n);return[r*tt(e),r*j(e),j(n)]}function Ci(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Yf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ii(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ba(t){var e=kt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ya(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function za(t,e){return ot(t)>et&&(t-=Math.round(t/Pt)*Pt),[t,e]}za.invert=za;function ih(t,e,n){return(t%=Pt)?e||n?Ya(yc(t),_c(e,n)):yc(t):e||n?_c(e,n):za}function bc(t){return function(e,n){return e+=t,ot(e)>et&&(e-=Math.round(e/Pt)*Pt),[e,n]}}function yc(t){var e=bc(t);return e.invert=bc(-t),e}function _c(t,e){var n=tt(t),r=j(t),i=tt(e),o=j(e);function f(a,s){var u=tt(s),c=tt(a)*u,d=j(a)*u,l=j(s),h=l*n+c*r;return[Le(d*i-h*o,c*n-l*r),Ht(h*i+d*o)]}return f.invert=function(a,s){var u=tt(s),c=tt(a)*u,d=j(a)*u,l=j(s),h=l*i-d*o;return[Le(d*i+l*o,c*n+h*r),Ht(h*n-c*r)]},f}function Q_(t){t=ih(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function e(n){return n=t(n[0]*ut,n[1]*ut),n[0]*=Nt,n[1]*=Nt,n}return e.invert=function(n){return n=t.invert(n[0]*ut,n[1]*ut),n[0]*=Nt,n[1]*=Nt,n},e}function K_(t,e,n,r,i,o){if(n){var f=tt(e),a=j(e),s=r*n;i==null?(i=e+r*Pt,o=e-s/2):(i=wc(f,i),o=wc(f,o),(r>0?i<o:i>o)&&(i+=r*Pt));for(var u,c=i;r>0?c>o:c<o;c-=s)u=qa([f,-a*tt(c),-a*j(c)]),t.point(u[0],u[1])}}function wc(t,e){e=Gn(e),e[0]-=t,Ba(e);var n=rh(-e[1]);return((-e[2]<0?-n:n)+Pt-J)%Pt}function oh(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Bt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ki(t,e){return ot(t[0]-e[0])<J&&ot(t[1]-e[1])<J}function ki(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fh(t,e,n,r,i){var o=[],f=[],a,s;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,y=p[0],m=p[g],b;if(Ki(y,m)){if(!y[2]&&!m[2]){for(i.lineStart(),a=0;a<g;++a)i.point((y=p[a])[0],y[1]);i.lineEnd();return}m[0]+=2*J}o.push(b=new ki(y,p,null,!0)),f.push(b.o=new ki(y,null,b,!1)),o.push(b=new ki(m,p,null,!1)),f.push(b.o=new ki(m,null,b,!0))}}),!!o.length){for(f.sort(e),vc(o),vc(f),a=0,s=f.length;a<s;++a)f[a].e=n=!n;for(var u=o[0],c,d;;){for(var l=u,h=!0;l.v;)if((l=l.n)===u)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(a=0,s=c.length;a<s;++a)i.point((d=c[a])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(c=l.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,h=!h}while(!l.v);i.lineEnd()}}}function vc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function zf(t){return ot(t[0])<=et?t[0]:qt(t[0])*((ot(t[0])+et)%Pt-et)}function J_(t,e){var n=zf(e),r=e[1],i=j(r),o=[j(n),-tt(n),0],f=0,a=0,s=new hn;i===1?r=ct+J:i===-1&&(r=-ct-J);for(var u=0,c=t.length;u<c;++u)if(l=(d=t[u]).length)for(var d,l,h=d[l-1],p=zf(h),g=h[1]/2+hc,y=j(g),m=tt(g),b=0;b<l;++b,p=_,y=v,m=$,h=w){var w=d[b],_=zf(w),M=w[1]/2+hc,v=j(M),$=tt(M),T=_-p,E=T>=0?1:-1,S=E*T,x=S>et,L=y*v;if(s.add(Le(L*E*j(S),m*$+L*tt(S))),f+=x?T+E*Pt:T,x^p>=n^_>=n){var k=_o(Gn(h),Gn(w));Ba(k);var I=_o(o,k);Ba(I);var A=(x^T>=0?-1:1)*Ht(I[2]);(r>A||r===A&&(k[0]||k[1]))&&(a+=x^T>=0?1:-1)}}return(f<-1e-6||f<J&&s<-1e-12)^a&1}function ah(t,e,n,r){return function(i){var o=e(i),f=oh(),a=e(f),s=!1,u,c,d,l={point:h,lineStart:g,lineEnd:y,polygonStart:function(){l.point=m,l.lineStart=b,l.lineEnd=w,c=[],u=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=y,c=md(c);var _=J_(u,r);c.length?(s||(i.polygonStart(),s=!0),fh(c,ew,_,n,i)):_&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,M){t(_,M)&&i.point(_,M)}function p(_,M){o.point(_,M)}function g(){l.point=p,o.lineStart()}function y(){l.point=h,o.lineEnd()}function m(_,M){d.push([_,M]),a.point(_,M)}function b(){a.lineStart(),d=[]}function w(){m(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),M=f.result(),v,$=M.length,T,E,S;if(d.pop(),u.push(d),d=null,!!$){if(_&1){if(E=M[0],(T=E.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),v=0;v<T;++v)i.point((S=E[v])[0],S[1]);i.lineEnd()}return}$>1&&_&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(tw))}}return l}}function tw(t){return t.length>1}function ew(t,e){return((t=t.x)[0]<0?t[1]-ct-J:ct-t[1])-((e=e.x)[0]<0?e[1]-ct-J:ct-e[1])}const xc=ah(function(){return!0},nw,iw,[-et,-ct]);function nw(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,f){var a=o>0?et:-et,s=ot(o-e);ot(s-et)<J?(t.point(e,n=(n+f)/2>0?ct:-ct),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),i=0):r!==a&&s>=et&&(ot(e-r)<J&&(e-=r*J),ot(o-a)<J&&(o-=a*J),n=rw(e,n,o,f),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=o,n=f),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function rw(t,e,n,r){var i,o,f=j(t-n);return ot(f)>J?ar((j(e)*(o=tt(r))*j(n)-j(r)*(i=tt(e))*j(t))/(i*o*f)):(e+r)/2}function iw(t,e,n,r){var i;if(t==null)i=n*ct,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(ot(t[0]-e[0])>J){var o=t[0]<e[0]?et:-et;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function ow(t){var e=tt(t),n=2*ut,r=e>0,i=ot(e)>J;function o(c,d,l,h){K_(h,t,n,l,c,d)}function f(c,d){return tt(c)*tt(d)>e}function a(c){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(y,m){var b=[y,m],w,_=f(y,m),M=r?_?0:u(y,m):_?u(y+(y<0?et:-et),m):0;if(!d&&(p=h=_)&&c.lineStart(),_!==h&&(w=s(d,b),(!w||Ki(d,w)||Ki(b,w))&&(b[2]=1)),_!==h)g=0,_?(c.lineStart(),w=s(b,d),c.point(w[0],w[1])):(w=s(d,b),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^_){var v;!(M&l)&&(v=s(b,d,!0))&&(g=0,r?(c.lineStart(),c.point(v[0][0],v[0][1]),c.point(v[1][0],v[1][1]),c.lineEnd()):(c.point(v[1][0],v[1][1]),c.lineEnd(),c.lineStart(),c.point(v[0][0],v[0][1],3)))}_&&(!d||!Ki(d,b))&&c.point(b[0],b[1]),d=b,h=_,l=M},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function s(c,d,l){var h=Gn(c),p=Gn(d),g=[1,0,0],y=_o(h,p),m=Ci(y,y),b=y[0],w=m-b*b;if(!w)return!l&&c;var _=e*m/w,M=-e*b/w,v=_o(g,y),$=Ii(g,_),T=Ii(y,M);Yf($,T);var E=v,S=Ci($,E),x=Ci(E,E),L=S*S-x*(Ci($,$)-1);if(!(L<0)){var k=kt(L),I=Ii(E,(-S-k)/x);if(Yf(I,$),I=qa(I),!l)return I;var A=c[0],D=d[0],V=c[1],Y=d[1],W;D<A&&(W=A,A=D,D=W);var R=D-A,U=ot(R-et)<J,P=U||R<J;if(!U&&Y<V&&(W=V,V=Y,Y=W),P?U?V+Y>0^I[1]<(ot(I[0]-A)<J?V:Y):V<=I[1]&&I[1]<=Y:R>et^(A<=I[0]&&I[0]<=D)){var O=Ii(E,(-S+k)/x);return Yf(O,$),[I,qa(O)]}}}function u(c,d){var l=r?t:et-t,h=0;return c<-l?h|=1:c>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return ah(f,a,o,r?[0,-t]:[-et,t-et])}function fw(t,e,n,r,i,o){var f=t[0],a=t[1],s=e[0],u=e[1],c=0,d=1,l=s-f,h=u-a,p;if(p=n-f,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>c&&(c=p)}if(p=i-f,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(t[0]=f+c*l,t[1]=a+c*h),d<1&&(e[0]=f+d*l,e[1]=a+d*h),!0}}}}}var Li=1e9,Di=-1e9;function sh(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,d,l){var h=0,p=0;if(u==null||(h=f(u,d))!==(p=f(c,d))||s(u,c)<0^d>0)do l.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(c[0],c[1])}function f(u,c){return ot(u[0]-t)<J?c>0?0:3:ot(u[0]-n)<J?c>0?2:1:ot(u[1]-e)<J?c>0?1:0:c>0?3:2}function a(u,c){return s(u.x,c.x)}function s(u,c){var d=f(u,1),l=f(c,1);return d!==l?d-l:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=oh(),l,h,p,g,y,m,b,w,_,M,v,$={point:T,lineStart:L,lineEnd:k,polygonStart:S,polygonEnd:x};function T(A,D){i(A,D)&&c.point(A,D)}function E(){for(var A=0,D=0,V=h.length;D<V;++D)for(var Y=h[D],W=1,R=Y.length,U=Y[0],P,O,Z=U[0],nt=U[1];W<R;++W)P=Z,O=nt,U=Y[W],Z=U[0],nt=U[1],O<=r?nt>r&&(Z-P)*(r-O)>(nt-O)*(t-P)&&++A:nt<=r&&(Z-P)*(r-O)<(nt-O)*(t-P)&&--A;return A}function S(){c=d,l=[],h=[],v=!0}function x(){var A=E(),D=v&&A,V=(l=md(l)).length;(D||V)&&(u.polygonStart(),D&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),V&&fh(l,a,A,o,u),u.polygonEnd()),c=u,l=h=p=null}function L(){$.point=I,h&&h.push(p=[]),M=!0,_=!1,b=w=NaN}function k(){l&&(I(g,y),m&&_&&d.rejoin(),l.push(d.result())),$.point=T,_&&c.lineEnd()}function I(A,D){var V=i(A,D);if(h&&p.push([A,D]),M)g=A,y=D,m=V,M=!1,V&&(c.lineStart(),c.point(A,D));else if(V&&_)c.point(A,D);else{var Y=[b=Math.max(Di,Math.min(Li,b)),w=Math.max(Di,Math.min(Li,w))],W=[A=Math.max(Di,Math.min(Li,A)),D=Math.max(Di,Math.min(Li,D))];fw(Y,W,t,e,n,r)?(_||(c.lineStart(),c.point(Y[0],Y[1])),c.point(W[0],W[1]),V||c.lineEnd(),v=!1):V&&(c.lineStart(),c.point(A,D),v=!1)}b=A,w=D,_=V}return $}}const Ha=t=>t;var Hf=new hn,Wa=new hn,uh,ch,Va,Ga,Te={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){Te.lineStart=aw,Te.lineEnd=uw},polygonEnd:function(){Te.lineStart=Te.lineEnd=Te.point=Bt,Hf.add(ot(Wa)),Wa=new hn},result:function(){var t=Hf/2;return Hf=new hn,t}};function aw(){Te.point=sw}function sw(t,e){Te.point=lh,uh=Va=t,ch=Ga=e}function lh(t,e){Wa.add(Ga*t-Va*e),Va=t,Ga=e}function uw(){lh(uh,ch)}var Xn=1/0,wo=Xn,zr=-Xn,vo=zr,xo={point:cw,lineStart:Bt,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt,result:function(){var t=[[Xn,wo],[zr,vo]];return zr=vo=-(wo=Xn=1/0),t}};function cw(t,e){t<Xn&&(Xn=t),t>zr&&(zr=t),e<wo&&(wo=e),e>vo&&(vo=e)}var Xa=0,Za=0,Ar=0,Mo=0,$o=0,Rn=0,ja=0,Qa=0,Tr=0,dh,hh,ae,se,Ut={point:yn,lineStart:Mc,lineEnd:$c,polygonStart:function(){Ut.lineStart=hw,Ut.lineEnd=pw},polygonEnd:function(){Ut.point=yn,Ut.lineStart=Mc,Ut.lineEnd=$c},result:function(){var t=Tr?[ja/Tr,Qa/Tr]:Rn?[Mo/Rn,$o/Rn]:Ar?[Xa/Ar,Za/Ar]:[NaN,NaN];return Xa=Za=Ar=Mo=$o=Rn=ja=Qa=Tr=0,t}};function yn(t,e){Xa+=t,Za+=e,++Ar}function Mc(){Ut.point=lw}function lw(t,e){Ut.point=dw,yn(ae=t,se=e)}function dw(t,e){var n=t-ae,r=e-se,i=kt(n*n+r*r);Mo+=i*(ae+t)/2,$o+=i*(se+e)/2,Rn+=i,yn(ae=t,se=e)}function $c(){Ut.point=yn}function hw(){Ut.point=gw}function pw(){ph(dh,hh)}function gw(t,e){Ut.point=ph,yn(dh=ae=t,hh=se=e)}function ph(t,e){var n=t-ae,r=e-se,i=kt(n*n+r*r);Mo+=i*(ae+t)/2,$o+=i*(se+e)/2,Rn+=i,i=se*t-ae*e,ja+=i*(ae+t),Qa+=i*(se+e),Tr+=i*3,yn(ae=t,se=e)}function gh(t){this._context=t}gh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pt);break}}},result:Bt};var Ka=new hn,Wf,mh,bh,Er,Sr,Hr={point:Bt,lineStart:function(){Hr.point=mw},lineEnd:function(){Wf&&yh(mh,bh),Hr.point=Bt},polygonStart:function(){Wf=!0},polygonEnd:function(){Wf=null},result:function(){var t=+Ka;return Ka=new hn,t}};function mw(t,e){Hr.point=yh,mh=Er=t,bh=Sr=e}function yh(t,e){Er-=t,Sr-=e,Ka.add(kt(Er*Er+Sr*Sr)),Er=t,Sr=e}let Ac,Ao,Tc,Ec;class Sc{constructor(e){this._append=e==null?_h:bw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Tc||this._append!==Ao){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Tc=r,Ao=this._append,Ec=this._,this._=i}this._+=Ec;break}}}result(){const e=this._;return this._="",e.length?e:null}}function _h(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return _h;if(e!==Ac){const n=10**e;Ac=e,Ao=function(i){let o=1;this._+=i[0];for(const f=i.length;o<f;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Ao}function Jo(t,e){let n=3,r=4.5,i,o;function f(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),on(a,i(o))),o.result()}return f.area=function(a){return on(a,i(Te)),Te.result()},f.measure=function(a){return on(a,i(Hr)),Hr.result()},f.bounds=function(a){return on(a,i(xo)),xo.result()},f.centroid=function(a){return on(a,i(Ut)),Ut.result()},f.projection=function(a){return arguments.length?(i=a==null?(t=null,Ha):(t=a).stream,f):t},f.context=function(a){return arguments.length?(o=a==null?(e=null,new Sc(n)):new gh(e=a),typeof r!="function"&&o.pointRadius(r),f):e},f.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),f):r},f.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);n=s}return e===null&&(o=new Sc(n)),f},f.projection(t).digits(n).context(e)}function Ja(t){return{stream:tf(t)}}function tf(t){return function(e){var n=new ts;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ts(){}ts.prototype={constructor:ts,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ws(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),on(n,t.stream(xo)),e(xo.result()),r!=null&&t.clipExtent(r),t}function Vs(t,e,n){return Ws(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],f=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+e[0][0]+(i-f*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(o-f*(r[1][1]+r[0][1]))/2;t.scale(150*f).translate([a,s])},n)}function wh(t,e,n){return Vs(t,[[0,0],e],n)}function vh(t,e,n){return Ws(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),f=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];t.scale(150*o).translate([f,a])},n)}function xh(t,e,n){return Ws(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),f=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,a])},n)}var Nc=16,yw=tt(30*ut);function Cc(t,e){return+e?ww(t,e):_w(t)}function _w(t){return tf({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ww(t,e){function n(r,i,o,f,a,s,u,c,d,l,h,p,g,y){var m=u-r,b=c-i,w=m*m+b*b;if(w>4*e&&g--){var _=f+l,M=a+h,v=s+p,$=kt(_*_+M*M+v*v),T=Ht(v/=$),E=ot(ot(v)-1)<J||ot(o-d)<J?(o+d)/2:Le(M,_),S=t(E,T),x=S[0],L=S[1],k=x-r,I=L-i,A=b*k-m*I;(A*A/w>e||ot((m*k+b*I)/w-.5)>.3||f*l+a*h+s*p<yw)&&(n(r,i,o,f,a,s,x,L,E,_/=$,M/=$,v,g,y),y.point(x,L),n(x,L,E,_,M,v,u,c,d,l,h,p,g,y))}}return function(r){var i,o,f,a,s,u,c,d,l,h,p,g,y={point:m,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),y.lineStart=M},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function m(T,E){T=t(T,E),r.point(T[0],T[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(T,E){var S=Gn([T,E]),x=t(T,E);n(d,l,c,h,p,g,d=x[0],l=x[1],c=T,h=S[0],p=S[1],g=S[2],Nc,r),r.point(d,l)}function _(){y.point=m,r.lineEnd()}function M(){b(),y.point=v,y.lineEnd=$}function v(T,E){w(i=T,E),o=d,f=l,a=h,s=p,u=g,y.point=w}function $(){n(d,l,c,h,p,g,o,f,i,a,s,u,Nc,r),y.lineEnd=_,_()}return y}}var vw=tf({point:function(t,e){this.stream.point(t*ut,e*ut)}});function xw(t){return tf({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Mw(t,e,n,r,i){function o(f,a){return f*=r,a*=i,[e+t*f,n-t*a]}return o.invert=function(f,a){return[(f-e)/t*r,(n-a)/t*i]},o}function Ic(t,e,n,r,i,o){if(!o)return Mw(t,e,n,r,i);var f=tt(o),a=j(o),s=f*t,u=a*t,c=f/t,d=a/t,l=(a*n-f*e)/t,h=(a*e+f*n)/t;function p(g,y){return g*=r,y*=i,[s*g-u*y+e,n-u*g-s*y]}return p.invert=function(g,y){return[r*(c*g-d*y+l),i*(h-d*g-c*y)]},p}function Ze(t){return Mh(function(){return t})()}function Mh(t){var e,n=150,r=480,i=250,o=0,f=0,a=0,s=0,u=0,c,d=0,l=1,h=1,p=null,g=xc,y=null,m,b,w,_=Ha,M=.5,v,$,T,E,S;function x(A){return T(A[0]*ut,A[1]*ut)}function L(A){return A=T.invert(A[0],A[1]),A&&[A[0]*Nt,A[1]*Nt]}x.stream=function(A){return E&&S===A?E:E=vw(xw(c)(g(v(_(S=A)))))},x.preclip=function(A){return arguments.length?(g=A,p=void 0,I()):g},x.postclip=function(A){return arguments.length?(_=A,y=m=b=w=null,I()):_},x.clipAngle=function(A){return arguments.length?(g=+A?ow(p=A*ut):(p=null,xc),I()):p*Nt},x.clipExtent=function(A){return arguments.length?(_=A==null?(y=m=b=w=null,Ha):sh(y=+A[0][0],m=+A[0][1],b=+A[1][0],w=+A[1][1]),I()):y==null?null:[[y,m],[b,w]]},x.scale=function(A){return arguments.length?(n=+A,k()):n},x.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],k()):[r,i]},x.center=function(A){return arguments.length?(o=A[0]%360*ut,f=A[1]%360*ut,k()):[o*Nt,f*Nt]},x.rotate=function(A){return arguments.length?(a=A[0]%360*ut,s=A[1]%360*ut,u=A.length>2?A[2]%360*ut:0,k()):[a*Nt,s*Nt,u*Nt]},x.angle=function(A){return arguments.length?(d=A%360*ut,k()):d*Nt},x.reflectX=function(A){return arguments.length?(l=A?-1:1,k()):l<0},x.reflectY=function(A){return arguments.length?(h=A?-1:1,k()):h<0},x.precision=function(A){return arguments.length?(v=Cc($,M=A*A),I()):kt(M)},x.fitExtent=function(A,D){return Vs(x,A,D)},x.fitSize=function(A,D){return wh(x,A,D)},x.fitWidth=function(A,D){return vh(x,A,D)},x.fitHeight=function(A,D){return xh(x,A,D)};function k(){var A=Ic(n,0,0,l,h,d).apply(null,e(o,f)),D=Ic(n,r-A[0],i-A[1],l,h,d);return c=ih(a,s,u),$=Ya(e,D),T=Ya(c,$),v=Cc($,M),I()}function I(){return E=S=null,x}return function(){return e=t.apply(this,arguments),x.invert=e.invert&&L,k()}}function Gs(t){var e=0,n=et/3,r=Mh(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*ut,n=o[1]*ut):[e*Nt,n*Nt]},i}function $w(t){var e=tt(t);function n(r,i){return[r*e,j(i)/e]}return n.invert=function(r,i){return[r/e,Ht(i*e)]},n}function Aw(t,e){var n=j(t),r=(n+j(e))/2;if(ot(r)<J)return $w(t);var i=1+n*(2*r-n),o=kt(i)/r;function f(a,s){var u=kt(i-2*r*j(s))/r;return[u*j(a*=r),o-u*tt(a)]}return f.invert=function(a,s){var u=o-s,c=Le(a,ot(u))*qt(u);return u*r<0&&(c-=et*qt(a)*qt(u)),[c/r,Ht((i-(a*a+u*u)*r*r)/(2*r))]},f}function To(){return Gs(Aw).scale(155.424).center([0,33.6442])}function $h(){return To().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Tw(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ew(){var t,e,n=$h(),r,i=To().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,f=To().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,s,u={point:function(l,h){s=[l,h]}};function c(l){var h=l[0],p=l[1];return s=null,r.point(h,p),s||(o.point(h,p),s)||(a.point(h,p),s)}c.invert=function(l){var h=n.scale(),p=n.translate(),g=(l[0]-p[0])/h,y=(l[1]-p[1])/h;return(y>=.12&&y<.234&&g>=-.425&&g<-.214?i:y>=.166&&y<.234&&g>=-.214&&g<-.115?f:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=Tw([n.stream(e=l),i.stream(l),f.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),f.precision(l),d()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),f.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+J,g+.12*h+J],[p-.214*h-J,g+.234*h-J]]).stream(u),a=f.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+J,g+.166*h+J],[p-.115*h-J,g+.234*h-J]]).stream(u),d()},c.fitExtent=function(l,h){return Vs(c,l,h)},c.fitSize=function(l,h){return wh(c,l,h)},c.fitWidth=function(l,h){return vh(c,l,h)},c.fitHeight=function(l,h){return xh(c,l,h)};function d(){return t=e=null,c}return c.scale(1070)}function Ah(t){return function(e,n){var r=tt(e),i=tt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*j(e),o*j(n)]}}function ni(t){return function(e,n){var r=kt(e*e+n*n),i=t(r),o=j(i),f=tt(i);return[Le(e*o,r*f),Ht(r&&n*o/r)]}}var Th=Ah(function(t){return kt(2/(1+t))});Th.invert=ni(function(t){return 2*Ht(t/2)});function Sw(){return Ze(Th).scale(124.75).clipAngle(180-.001)}var Eh=Ah(function(t){return(t=rh(t))&&t/j(t)});Eh.invert=ni(function(t){return t});function Nw(){return Ze(Eh).scale(79.4188).clipAngle(180-.001)}function ef(t,e){return[t,bo(Hs((ct+e)/2))]}ef.invert=function(t,e){return[t,2*ar(nh(e))-ct]};function Cw(){return Sh(ef).scale(961/Pt)}function Sh(t){var e=Ze(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,f=null,a,s,u;e.scale=function(d){return arguments.length?(r(d),c()):r()},e.translate=function(d){return arguments.length?(i(d),c()):i()},e.center=function(d){return arguments.length?(n(d),c()):n()},e.clipExtent=function(d){return arguments.length?(d==null?f=a=s=u=null:(f=+d[0][0],a=+d[0][1],s=+d[1][0],u=+d[1][1]),c()):f==null?null:[[f,a],[s,u]]};function c(){var d=et*r(),l=e(Q_(e.rotate()).invert([0,0]));return o(f==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===ef?[[Math.max(l[0]-d,f),a],[Math.min(l[0]+d,s),u]]:[[f,Math.max(l[1]-d,a)],[s,Math.min(l[1]+d,u)]])}return c()}function Ri(t){return Hs((ct+t)/2)}function Iw(t,e){var n=tt(t),r=t===e?j(t):bo(n/tt(e))/bo(Ri(e)/Ri(t)),i=n*Bf(Ri(t),r)/r;if(!r)return ef;function o(f,a){i>0?a<-ct+J&&(a=-ct+J):a>ct-J&&(a=ct-J);var s=i/Bf(Ri(a),r);return[s*j(r*f),i-s*tt(r*f)]}return o.invert=function(f,a){var s=i-a,u=qt(r)*kt(f*f+s*s),c=Le(f,ot(s))*qt(s);return s*r<0&&(c-=et*qt(f)*qt(s)),[c/r,2*ar(Bf(i/u,1/r))-ct]},o}function kw(){return Gs(Iw).scale(109.5).parallels([30,30])}function Eo(t,e){return[t,e]}Eo.invert=Eo;function Lw(){return Ze(Eo).scale(152.63)}function Dw(t,e){var n=tt(t),r=t===e?j(t):(n-tt(e))/(e-t),i=n/r+t;if(ot(r)<J)return Eo;function o(f,a){var s=i-a,u=r*f;return[s*j(u),i-s*tt(u)]}return o.invert=function(f,a){var s=i-a,u=Le(f,ot(s))*qt(s);return s*r<0&&(u-=et*qt(f)*qt(s)),[u/r,i-qt(r)*kt(f*f+s*s)]},o}function Rw(){return Gs(Dw).scale(131.154).center([0,13.9389])}var Lr=1.340264,Dr=-.081106,Rr=893e-6,Pr=.003796,So=kt(3)/2,Pw=12;function Nh(t,e){var n=Ht(So*j(e)),r=n*n,i=r*r*r;return[t*tt(n)/(So*(Lr+3*Dr*r+i*(7*Rr+9*Pr*r))),n*(Lr+Dr*r+i*(Rr+Pr*r))]}Nh.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,f,a,s;o<Pw&&(a=n*(Lr+Dr*r+i*(Rr+Pr*r))-e,s=Lr+3*Dr*r+i*(7*Rr+9*Pr*r),n-=f=a/s,r=n*n,i=r*r*r,!(ot(f)<j_));++o);return[So*t*(Lr+3*Dr*r+i*(7*Rr+9*Pr*r))/tt(n),Ht(j(n)/So)]};function Ow(){return Ze(Nh).scale(177.158)}function Ch(t,e){var n=tt(e),r=tt(t)*n;return[n*j(t)/r,j(e)/r]}Ch.invert=ni(ar);function Fw(){return Ze(Ch).scale(144.049).clipAngle(60)}function Ih(t,e){return[tt(e)*j(t),j(e)]}Ih.invert=ni(Ht);function Uw(){return Ze(Ih).scale(249.5).clipAngle(90+J)}function kh(t,e){var n=tt(e),r=1+tt(t)*n;return[n*j(t)/r,j(e)/r]}kh.invert=ni(function(t){return 2*ar(t)});function qw(){return Ze(kh).scale(250).clipAngle(142)}function Lh(t,e){return[bo(Hs((ct+e)/2)),-t]}Lh.invert=function(t,e){return[-e,2*ar(nh(t))-ct]};function Bw(){var t=Sh(Lh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const es=Symbol("implicit");function Xs(){var t=new Or,e=[],n=[],r=es;function i(o){let f=t.get(o);if(f===void 0){if(r!==es)return r;t.set(o,f=e.push(o)-1)}return n[f%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Or;for(const f of o)t.has(f)||t.set(f,e.push(f)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Xs(e,n).unknown(r)},ye.apply(i,arguments),i}function rf(){var t=Xs().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,f,a=!1,s=0,u=0,c=.5;delete t.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,l-s+u*2),a&&(o=Math.floor(o)),p+=(g-p-o*(l-s))*c,f=o*(1-s),a&&(p=Math.round(p),f=Math.round(f));var y=Ta(l).map(function(m){return p+o*m});return n(h?y.reverse():y)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return f},t.step=function(){return o},t.round=function(l){return arguments.length?(a=!!l,d()):a},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),d()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),d()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,d()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),d()):c},t.copy=function(){return rf(e(),[r,i]).round(a).paddingInner(s).paddingOuter(u).align(c)},ye.apply(d(),arguments)}function Dh(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Dh(e())},t}function Yw(){return Dh(rf.apply(null,arguments).paddingInner(1))}function zw(t){return function(){return t}}function ns(t){return+t}var kc=[0,1];function Yt(t){return t}function rs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zw(isNaN(e)?NaN:.5)}function Hw(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ww(t,e,n){var r=t[0],i=t[1],o=e[0],f=e[1];return i<r?(r=rs(i,r),o=n(f,o)):(r=rs(r,i),o=n(o,f)),function(a){return o(r(a))}}function Vw(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),f=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<r;)i[f]=rs(t[f],t[f+1]),o[f]=n(e[f],e[f+1]);return function(a){var s=Ns(t,a,1,r)-1;return o[s](i[s](a))}}function ri(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function of(){var t=kc,e=kc,n=ei,r,i,o,f=Yt,a,s,u;function c(){var l=Math.min(t.length,e.length);return f!==Yt&&(f=Hw(t[0],t[l-1])),a=l>2?Vw:Ww,s=u=null,d}function d(l){return l==null||isNaN(l=+l)?o:(s||(s=a(t.map(r),e,n)))(r(f(l)))}return d.invert=function(l){return f(i((u||(u=a(e,t.map(r),$t)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,ns),c()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),n=Fs,c()},d.clamp=function(l){return arguments.length?(f=l?!0:Yt,c()):f!==Yt},d.interpolate=function(l){return arguments.length?(n=l,c()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,c()}}function Rh(){return of()(Yt,Yt)}function Gw(t,e,n,r){var i=$a(t,e,n),o;switch(r=Yr(r??",f"),r.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=X_(i,f))&&(r.precision=o),eh(r,f)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Z_(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=G_(i))&&(r.precision=o-(r.type==="%")*2);break}}return fr(r)}function ii(t){var e=t.domain;return t.ticks=function(n){var r=e();return fo(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Gw(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,f=r[i],a=r[o],s,u,c=10;for(a<f&&(u=f,f=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Ma(f,a,n),u===s)return r[i]=f,r[o]=a,e(r);if(u>0)f=Math.floor(f/u)*u,a=Math.ceil(a/u)*u;else if(u<0)f=Math.ceil(f*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Zs(){var t=Rh();return t.copy=function(){return ri(t,Zs())},ye.apply(t,arguments),ii(t)}function Ph(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ns),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ph(t).unknown(e)},t=arguments.length?Array.from(t,ns):[0,1],ii(n)}function Oh(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],f;return o<i&&(f=n,n=r,r=f,f=i,i=o,o=f),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Lc(t){return Math.log(t)}function Dc(t){return Math.exp(t)}function Xw(t){return-Math.log(-t)}function Zw(t){return-Math.exp(-t)}function jw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qw(t){return t===10?jw:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kw(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Rc(t){return(e,n)=>-t(-e,n)}function Fh(t){const e=t(Lc,Dc),n=e.domain;let r=10,i,o;function f(){return i=Kw(r),o=Qw(r),n()[0]<0?(i=Rc(i),o=Rc(o),t(Xw,Zw)):t(Lc,Dc),e}return e.base=function(a){return arguments.length?(r=+a,f()):r},e.domain=function(a){return arguments.length?(n(a),f()):n()},e.ticks=a=>{const s=n();let u=s[0],c=s[s.length-1];const d=c<u;d&&([u,c]=[c,u]);let l=i(u),h=i(c),p,g;const y=a==null?10:+a;let m=[];if(!(r%1)&&h-l<y){if(l=Math.floor(l),h=Math.ceil(h),u>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<u)){if(g>c)break;m.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<u)){if(g>c)break;m.push(g)}m.length*2<y&&(m=fo(u,c,y))}else m=fo(l,h,Math.min(h-l,y)).map(o);return d?m.reverse():m},e.tickFormat=(a,s)=>{if(a==null&&(a=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Yr(s)).precision==null&&(s.trim=!0),s=fr(s)),a===1/0)return s;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?s(c):""}},e.nice=()=>n(Oh(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function Uh(){const t=Fh(of()).domain([1,10]);return t.copy=()=>ri(t,Uh()).base(t.base()),ye.apply(t,arguments),t}function Pc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Oc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qh(t){var e=1,n=t(Pc(e),Oc(e));return n.constant=function(r){return arguments.length?t(Pc(e=+r),Oc(e)):e},ii(n)}function Bh(){var t=qh(of());return t.copy=function(){return ri(t,Bh()).constant(t.constant())},ye.apply(t,arguments)}function Fc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tv(t){return t<0?-t*t:t*t}function Yh(t){var e=t(Yt,Yt),n=1;function r(){return n===1?t(Yt,Yt):n===.5?t(Jw,tv):t(Fc(n),Fc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ii(e)}function zh(){var t=Yh(of());return t.copy=function(){return ri(t,zh()).exponent(t.exponent())},ye.apply(t,arguments),t}function Hh(){var t=[],e=[],n=[],r;function i(){var f=0,a=Math.max(1,e.length);for(n=new Array(a-1);++f<a;)n[f-1]=Gm(t,f/a);return o}function o(f){return f==null||isNaN(f=+f)?r:e[Ns(n,f)]}return o.invertExtent=function(f){var a=e.indexOf(f);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let a of f)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Be),i()},o.range=function(f){return arguments.length?(e=Array.from(f),i()):e.slice()},o.unknown=function(f){return arguments.length?(r=f,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Hh().domain(t).range(e).unknown(r)},ye.apply(o,arguments)}function Wh(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ns(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var f=e.indexOf(o);return[t[f-1],t[f]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Wh().domain(t).range(e).unknown(n)},ye.apply(i,arguments)}const Vf=new Date,Gf=new Date;function mt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const f=i(o),a=i.ceil(o);return o-f<a-o?f:a},i.offset=(o,f)=>(e(o=new Date(+o),f==null?1:Math.floor(f)),o),i.range=(o,f,a)=>{const s=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<f)||!(a>0))return s;let u;do s.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<f);return s},i.filter=o=>mt(f=>{if(f>=f)for(;t(f),!o(f);)f.setTime(f-1)},(f,a)=>{if(f>=f)if(a<0)for(;++a<=0;)for(;e(f,-1),!o(f););else for(;--a>=0;)for(;e(f,1),!o(f););}),n&&(i.count=(o,f)=>(Vf.setTime(+o),Gf.setTime(+f),t(Vf),t(Gf),Math.floor(n(Vf,Gf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?f=>r(f)%o===0:f=>i.count(0,f)%o===0):i)),i}const No=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);No.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):No);No.range;const Se=1e3,zt=Se*60,Ne=zt*60,De=Ne*24,js=De*7,Uc=De*30,Xf=De*365,Zt=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Se)},(t,e)=>(e-t)/Se,t=>t.getUTCSeconds());Zt.range;const oi=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Se)},(t,e)=>{t.setTime(+t+e*zt)},(t,e)=>(e-t)/zt,t=>t.getMinutes());oi.range;const fi=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zt)},(t,e)=>(e-t)/zt,t=>t.getUTCMinutes());fi.range;const ai=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Se-t.getMinutes()*zt)},(t,e)=>{t.setTime(+t+e*Ne)},(t,e)=>(e-t)/Ne,t=>t.getHours());ai.range;const si=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ne)},(t,e)=>(e-t)/Ne,t=>t.getUTCHours());si.range;const $n=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zt)/De,t=>t.getDate()-1);$n.range;const ff=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/De,t=>t.getUTCDate()-1);ff.range;const af=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/De,t=>Math.floor(t/De));af.range;function An(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zt)/js)}const Zn=An(0),Wr=An(1),Vh=An(2),Gh=An(3),_n=An(4),Xh=An(5),Zh=An(6);Zn.range;Wr.range;Vh.range;Gh.range;_n.range;Xh.range;Zh.range;function Tn(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/js)}const jn=Tn(0),Vr=Tn(1),jh=Tn(2),Qh=Tn(3),wn=Tn(4),Kh=Tn(5),Jh=Tn(6);jn.range;Vr.range;jh.range;Qh.range;wn.range;Kh.range;Jh.range;const ui=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ui.range;const ci=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ci.range;const Qt=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Qt.range;const Kt=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Kt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Kt.range;function t0(t,e,n,r,i,o){const f=[[Zt,1,Se],[Zt,5,5*Se],[Zt,15,15*Se],[Zt,30,30*Se],[o,1,zt],[o,5,5*zt],[o,15,15*zt],[o,30,30*zt],[i,1,Ne],[i,3,3*Ne],[i,6,6*Ne],[i,12,12*Ne],[r,1,De],[r,2,2*De],[n,1,js],[e,1,Uc],[e,3,3*Uc],[t,1,Xf]];function a(u,c,d){const l=c<u;l&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:s(u,c,d),p=h?h.range(u,+c+1):[];return l?p.reverse():p}function s(u,c,d){const l=Math.abs(c-u)/d,h=Ho(([,,y])=>y).right(f,l);if(h===f.length)return t.every($a(u/Xf,c/Xf,d));if(h===0)return No.every(Math.max($a(u,c,d),1));const[p,g]=f[l/f[h-1][2]<f[h][2]/l?h-1:h];return p.every(g)}return[a,s]}const[ev,nv]=t0(Kt,ci,jn,af,si,fi),[rv,iv]=t0(Qt,ui,Zn,$n,ai,oi);function Zf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function br(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ov(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,f=t.shortDays,a=t.months,s=t.shortMonths,u=yr(i),c=_r(i),d=yr(o),l=_r(o),h=yr(f),p=_r(f),g=yr(a),y=_r(a),m=yr(s),b=_r(s),w={a:V,A:Y,b:W,B:R,c:null,d:Wc,e:Wc,f:Sv,g:Fv,G:qv,H:Av,I:Tv,j:Ev,L:e0,m:Nv,M:Cv,p:U,q:P,Q:Xc,s:Zc,S:Iv,u:kv,U:Lv,V:Dv,w:Rv,W:Pv,x:null,X:null,y:Ov,Y:Uv,Z:Bv,"%":Gc},_={a:O,A:Z,b:nt,B:K,c:null,d:Vc,e:Vc,f:Wv,g:e6,G:r6,H:Yv,I:zv,j:Hv,L:r0,m:Vv,M:Gv,p:B,q:z,Q:Xc,s:Zc,S:Xv,u:Zv,U:jv,V:Qv,w:Kv,W:Jv,x:null,X:null,y:t6,Y:n6,Z:i6,"%":Gc},M={a:S,A:x,b:L,B:k,c:I,d:zc,e:zc,f:vv,g:Yc,G:Bc,H:Hc,I:Hc,j:bv,L:wv,m:mv,M:yv,p:E,q:gv,Q:Mv,s:$v,S:_v,u:cv,U:lv,V:dv,w:uv,W:hv,x:A,X:D,y:Yc,Y:Bc,Z:pv,"%":xv};w.x=v(n,w),w.X=v(r,w),w.c=v(e,w),_.x=v(n,_),_.X=v(r,_),_.c=v(e,_);function v(C,q){return function(H){var N=[],ft=-1,X=0,st=C.length,dt,Lt,Cn;for(H instanceof Date||(H=new Date(+H));++ft<st;)C.charCodeAt(ft)===37&&(N.push(C.slice(X,ft)),(Lt=qc[dt=C.charAt(++ft)])!=null?dt=C.charAt(++ft):Lt=dt==="e"?" ":"0",(Cn=q[dt])&&(dt=Cn(H,Lt)),N.push(dt),X=ft+1);return N.push(C.slice(X,ft)),N.join("")}}function $(C,q){return function(H){var N=br(1900,void 0,1),ft=T(N,C,H+="",0),X,st;if(ft!=H.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(q&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(X=jf(br(N.y,0,1)),st=X.getUTCDay(),X=st>4||st===0?Vr.ceil(X):Vr(X),X=ff.offset(X,(N.V-1)*7),N.y=X.getUTCFullYear(),N.m=X.getUTCMonth(),N.d=X.getUTCDate()+(N.w+6)%7):(X=Zf(br(N.y,0,1)),st=X.getDay(),X=st>4||st===0?Wr.ceil(X):Wr(X),X=$n.offset(X,(N.V-1)*7),N.y=X.getFullYear(),N.m=X.getMonth(),N.d=X.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),st="Z"in N?jf(br(N.y,0,1)).getUTCDay():Zf(br(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(st+5)%7:N.w+N.U*7-(st+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,jf(N)):Zf(N)}}function T(C,q,H,N){for(var ft=0,X=q.length,st=H.length,dt,Lt;ft<X;){if(N>=st)return-1;if(dt=q.charCodeAt(ft++),dt===37){if(dt=q.charAt(ft++),Lt=M[dt in qc?q.charAt(ft++):dt],!Lt||(N=Lt(C,H,N))<0)return-1}else if(dt!=H.charCodeAt(N++))return-1}return N}function E(C,q,H){var N=u.exec(q.slice(H));return N?(C.p=c.get(N[0].toLowerCase()),H+N[0].length):-1}function S(C,q,H){var N=h.exec(q.slice(H));return N?(C.w=p.get(N[0].toLowerCase()),H+N[0].length):-1}function x(C,q,H){var N=d.exec(q.slice(H));return N?(C.w=l.get(N[0].toLowerCase()),H+N[0].length):-1}function L(C,q,H){var N=m.exec(q.slice(H));return N?(C.m=b.get(N[0].toLowerCase()),H+N[0].length):-1}function k(C,q,H){var N=g.exec(q.slice(H));return N?(C.m=y.get(N[0].toLowerCase()),H+N[0].length):-1}function I(C,q,H){return T(C,e,q,H)}function A(C,q,H){return T(C,n,q,H)}function D(C,q,H){return T(C,r,q,H)}function V(C){return f[C.getDay()]}function Y(C){return o[C.getDay()]}function W(C){return s[C.getMonth()]}function R(C){return a[C.getMonth()]}function U(C){return i[+(C.getHours()>=12)]}function P(C){return 1+~~(C.getMonth()/3)}function O(C){return f[C.getUTCDay()]}function Z(C){return o[C.getUTCDay()]}function nt(C){return s[C.getUTCMonth()]}function K(C){return a[C.getUTCMonth()]}function B(C){return i[+(C.getUTCHours()>=12)]}function z(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var q=v(C+="",w);return q.toString=function(){return C},q},parse:function(C){var q=$(C+="",!1);return q.toString=function(){return C},q},utcFormat:function(C){var q=v(C+="",_);return q.toString=function(){return C},q},utcParse:function(C){var q=$(C+="",!0);return q.toString=function(){return C},q}}}var qc={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,fv=/^%/,av=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function sv(t){return t.replace(av,"\\$&")}function yr(t){return new RegExp("^(?:"+t.map(sv).join("|")+")","i")}function _r(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uv(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cv(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Bc(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Yc(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gv(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zc(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bv(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hc(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yv(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _v(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wv(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vv(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xv(t,e,n){var r=fv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Mv(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $v(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Wc(t,e){return rt(t.getDate(),e,2)}function Av(t,e){return rt(t.getHours(),e,2)}function Tv(t,e){return rt(t.getHours()%12||12,e,2)}function Ev(t,e){return rt(1+$n.count(Qt(t),t),e,3)}function e0(t,e){return rt(t.getMilliseconds(),e,3)}function Sv(t,e){return e0(t,e)+"000"}function Nv(t,e){return rt(t.getMonth()+1,e,2)}function Cv(t,e){return rt(t.getMinutes(),e,2)}function Iv(t,e){return rt(t.getSeconds(),e,2)}function kv(t){var e=t.getDay();return e===0?7:e}function Lv(t,e){return rt(Zn.count(Qt(t)-1,t),e,2)}function n0(t){var e=t.getDay();return e>=4||e===0?_n(t):_n.ceil(t)}function Dv(t,e){return t=n0(t),rt(_n.count(Qt(t),t)+(Qt(t).getDay()===4),e,2)}function Rv(t){return t.getDay()}function Pv(t,e){return rt(Wr.count(Qt(t)-1,t),e,2)}function Ov(t,e){return rt(t.getFullYear()%100,e,2)}function Fv(t,e){return t=n0(t),rt(t.getFullYear()%100,e,2)}function Uv(t,e){return rt(t.getFullYear()%1e4,e,4)}function qv(t,e){var n=t.getDay();return t=n>=4||n===0?_n(t):_n.ceil(t),rt(t.getFullYear()%1e4,e,4)}function Bv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function Vc(t,e){return rt(t.getUTCDate(),e,2)}function Yv(t,e){return rt(t.getUTCHours(),e,2)}function zv(t,e){return rt(t.getUTCHours()%12||12,e,2)}function Hv(t,e){return rt(1+ff.count(Kt(t),t),e,3)}function r0(t,e){return rt(t.getUTCMilliseconds(),e,3)}function Wv(t,e){return r0(t,e)+"000"}function Vv(t,e){return rt(t.getUTCMonth()+1,e,2)}function Gv(t,e){return rt(t.getUTCMinutes(),e,2)}function Xv(t,e){return rt(t.getUTCSeconds(),e,2)}function Zv(t){var e=t.getUTCDay();return e===0?7:e}function jv(t,e){return rt(jn.count(Kt(t)-1,t),e,2)}function i0(t){var e=t.getUTCDay();return e>=4||e===0?wn(t):wn.ceil(t)}function Qv(t,e){return t=i0(t),rt(wn.count(Kt(t),t)+(Kt(t).getUTCDay()===4),e,2)}function Kv(t){return t.getUTCDay()}function Jv(t,e){return rt(Vr.count(Kt(t)-1,t),e,2)}function t6(t,e){return rt(t.getUTCFullYear()%100,e,2)}function e6(t,e){return t=i0(t),rt(t.getUTCFullYear()%100,e,2)}function n6(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function r6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wn(t):wn.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function i6(){return"+0000"}function Gc(){return"%"}function Xc(t){return+t}function Zc(t){return Math.floor(+t/1e3)}var In,Qs,li;o6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o6(t){return In=ov(t),Qs=In.format,In.parse,li=In.utcFormat,In.utcParse,In}function f6(t){return new Date(t)}function a6(t){return t instanceof Date?+t:+new Date(+t)}function Ks(t,e,n,r,i,o,f,a,s,u){var c=Rh(),d=c.invert,l=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),y=u("%I %p"),m=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function M(v){return(s(v)<v?h:a(v)<v?p:f(v)<v?g:o(v)<v?y:r(v)<v?i(v)<v?m:b:n(v)<v?w:_)(v)}return c.invert=function(v){return new Date(d(v))},c.domain=function(v){return arguments.length?l(Array.from(v,a6)):l().map(f6)},c.ticks=function(v){var $=l();return t($[0],$[$.length-1],v??10)},c.tickFormat=function(v,$){return $==null?M:u($)},c.nice=function(v){var $=l();return(!v||typeof v.range!="function")&&(v=e($[0],$[$.length-1],v??10)),v?l(Oh($,v)):c},c.copy=function(){return ri(c,Ks(t,e,n,r,i,o,f,a,s,u))},c}function s6(){return ye.apply(Ks(rv,iv,Qt,ui,Zn,$n,ai,oi,Zt,Qs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u6(){return ye.apply(Ks(ev,nv,Kt,ci,jn,ff,si,fi,Zt,li).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uf(){var t=0,e=.5,n=1,r=1,i,o,f,a,s,u=Yt,c,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:s),u(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),f=c(n=+n),a=i===o?0:.5/(o-i),s=o===f?0:.5/(f-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(y){var m,b,w;return arguments.length?([m,b,w]=y,u=jo(g,[m,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(ei),h.rangeRound=p(Fs),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return c=g,i=g(t),o=g(e),f=g(n),a=i===o?0:.5/(o-i),s=o===f?0:.5/(f-o),r=o<i?-1:1,h}}function o0(){var t=ii(uf()(Yt));return t.copy=function(){return sf(t,o0())},nf.apply(t,arguments)}function f0(){var t=Fh(uf()).domain([.1,1,10]);return t.copy=function(){return sf(t,f0()).base(t.base())},nf.apply(t,arguments)}function a0(){var t=qh(uf());return t.copy=function(){return sf(t,a0()).constant(t.constant())},nf.apply(t,arguments)}function s0(){var t=Yh(uf());return t.copy=function(){return sf(t,s0()).exponent(t.exponent())},nf.apply(t,arguments)}function Q(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const c6=Q("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l6=Q("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),d6=Q("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),h6=Q("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),p6=Q("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g6=Q("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),m6=Q("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),b6=Q("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),y6=Q("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_6=Q("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),w6=Q("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),at=t=>sy(t[t.length-1]);var u0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Q);const c0=at(u0);var l0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Q);const d0=at(l0);var h0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Q);const p0=at(h0);var g0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Q);const m0=at(g0);var is=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Q);const Co=at(is);var b0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Q);const y0=at(b0);var os=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Q);const Io=at(os);var _0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Q);const w0=at(_0);var v0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Q);const x0=at(v0);var M0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Q);const $0=at(M0);var A0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Q);const T0=at(A0);var E0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Q);const S0=at(E0);var N0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Q);const C0=at(N0);var I0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Q);const k0=at(I0);var L0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Q);const D0=at(L0);var R0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Q);const P0=at(R0);var O0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Q);const F0=at(O0);var U0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Q);const q0=at(U0);var B0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Q);const Y0=at(B0);var z0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Q);const H0=at(z0);var W0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Q);const V0=at(W0);var G0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Q);const X0=at(G0);var Z0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Q);const j0=at(Z0);var Q0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Q);const K0=at(Q0);var J0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Q);const t1=at(J0);var e1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Q);const n1=at(e1);var r1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Q);const i1=at(r1);function o1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const f1=Us(he(300,.5,0),he(-240,.5,1));var a1=Us(he(-100,.75,.35),he(80,1.5,.8)),s1=Us(he(260,.75,.35),he(80,1.5,.8)),Pi=he();function u1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Pi.h=360*t-100,Pi.s=1.5-1.5*e,Pi.l=.8-.9*e,Pi+""}var Oi=He(),v6=Math.PI/3,x6=Math.PI*2/3;function c1(t){var e;return t=(.5-t)*Math.PI,Oi.r=255*(e=Math.sin(t))*e,Oi.g=255*(e=Math.sin(t+v6))*e,Oi.b=255*(e=Math.sin(t+x6))*e,Oi+""}function l1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function cf(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const d1=cf(Q("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var h1=cf(Q("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),p1=cf(Q("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),g1=cf(Q("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function kn(t){return function(){return t}}const m1=Math.cos,Js=Math.min,ko=Math.sin,bt=Math.sqrt,jc=1e-12,Lo=Math.PI,lf=2*Lo;function M6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jd(e)}function $6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b1(t){this._context=t}b1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function df(t){return new b1(t)}function A6(t){return t[0]}function T6(t){return t[1]}function E6(t,e){var n=kn(!0),r=null,i=df,o=null,f=M6(a);t=typeof t=="function"?t:t===void 0?A6:kn(t),e=typeof e=="function"?e:e===void 0?T6:kn(e);function a(s){var u,c=(s=$6(s)).length,d,l=!1,h;for(r==null&&(o=i(h=f())),u=0;u<=c;++u)!(u<c&&n(d=s[u],u,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,u,s),+e(d,u,s));if(h)return o=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:kn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:kn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:kn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}class y1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function S6(t){return new y1(t,!0)}function N6(t){return new y1(t,!1)}const C6=bt(3),_1={draw(t,e){const n=bt(e+Js(e/28,.75))*.59436,r=n/2,i=r*C6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},tu={draw(t,e){const n=bt(e/Lo);t.moveTo(n,0),t.arc(0,0,n,0,lf)}},w1={draw(t,e){const n=bt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},v1=bt(1/3),I6=v1*2,x1={draw(t,e){const n=bt(e/I6),r=n*v1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},M1={draw(t,e){const n=bt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},$1={draw(t,e){const n=bt(e-Js(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},A1={draw(t,e){const n=bt(e),r=-n/2;t.rect(r,r,n,n)}},T1={draw(t,e){const n=bt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},k6=.8908130915292852,E1=ko(Lo/10)/ko(7*Lo/10),L6=ko(lf/10)*E1,D6=-m1(lf/10)*E1,S1={draw(t,e){const n=bt(e*k6),r=L6*n,i=D6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const f=lf*o/5,a=m1(f),s=ko(f);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},Qf=bt(3),N1={draw(t,e){const n=-bt(e/(Qf*3));t.moveTo(0,n*2),t.lineTo(-Qf*n,-n),t.lineTo(Qf*n,-n),t.closePath()}},R6=bt(3),C1={draw(t,e){const n=bt(e)*.6824,r=n/2,i=n*R6/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ot=-.5,Ft=bt(3)/2,fs=1/bt(12),P6=(fs/2+1)*3,I1={draw(t,e){const n=bt(e/P6),r=n/2,i=n*fs,o=r,f=n*fs+n,a=-o,s=f;t.moveTo(r,i),t.lineTo(o,f),t.lineTo(a,s),t.lineTo(Ot*r-Ft*i,Ft*r+Ot*i),t.lineTo(Ot*o-Ft*f,Ft*o+Ot*f),t.lineTo(Ot*a-Ft*s,Ft*a+Ot*s),t.lineTo(Ot*r+Ft*i,Ot*i-Ft*r),t.lineTo(Ot*o+Ft*f,Ot*f-Ft*o),t.lineTo(Ot*a+Ft*s,Ot*s-Ft*a),t.closePath()}},k1={draw(t,e){const n=bt(e-Js(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},O6=[tu,w1,x1,A1,S1,N1,I1],F6=[tu,$1,k1,C1,_1,T1,M1];function We(){}function Do(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hf(t){this._context=t}hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Do(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Do(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U6(t){return new hf(t)}function L1(t){this._context=t}L1.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Do(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q6(t){return new L1(t)}function D1(t){this._context=t}D1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Do(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B6(t){return new D1(t)}function R1(t,e){this._basis=new hf(t),this._beta=e}R1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,f=e[n]-i,a=-1,s;++a<=n;)s=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+s*o),this._beta*e[a]+(1-this._beta)*(i+s*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Y6=function t(e){function n(r){return e===1?new hf(r):new R1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Ro(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function eu(t,e){this._context=t,this._k=(1-e)/6}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ro(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ro(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const z6=function t(e){function n(r){return new eu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function nu(t,e){this._context=t,this._k=(1-e)/6}nu.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ro(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const H6=function t(e){function n(r){return new nu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ru(t,e){this._context=t,this._k=(1-e)/6}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ro(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const W6=function t(e){function n(r){return new ru(r,e)}return n.tension=function(r){return t(+r)},n}(0);function iu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,f=t._y2;if(t._l01_a>jc){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>jc){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,f=(f*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,f,t._x2,t._y2)}function P1(t,e){this._context=t,this._alpha=e}P1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:iu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const V6=function t(e){function n(r){return e?new P1(r,e):new eu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function O1(t,e){this._context=t,this._alpha=e}O1.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G6=function t(e){function n(r){return e?new O1(r,e):new nu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function F1(t,e){this._context=t,this._alpha=e}F1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const X6=function t(e){function n(r){return e?new F1(r,e):new ru(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function U1(t){this._context=t}U1.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Z6(t){return new U1(t)}function Qc(t){return t<0?-1:1}function Kc(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),f=(n-t._y1)/(i||r<0&&-0),a=(o*i+f*r)/(r+i);return(Qc(o)+Qc(f))*Math.min(Math.abs(o),Math.abs(f),.5*Math.abs(a))||0}function Jc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Kf(t,e,n){var r=t._x0,i=t._y0,o=t._x1,f=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,f-a*n,o,f)}function Po(t){this._context=t}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kf(this,this._t0,Jc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Kf(this,Jc(this,n=Kc(this,t,e)),n);break;default:Kf(this,this._t0,n=Kc(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function q1(t){this._context=new B1(t)}(q1.prototype=Object.create(Po.prototype)).point=function(t,e){Po.prototype.point.call(this,e,t)};function B1(t){this._context=t}B1.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function j6(t){return new Po(t)}function Q6(t){return new q1(t)}function Y1(t){this._context=t}Y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tl(t),i=tl(e),o=0,f=1;f<n;++o,++f)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[f],e[f]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tl(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),f=new Array(n);for(i[0]=0,o[0]=2,f[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,f[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,f[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,f[e]-=r*f[e-1];for(i[n-1]=f[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(f[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function K6(t){return new Y1(t)}function pf(t,e){this._context=t,this._t=e}pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function J6(t){return new pf(t,.5)}function t3(t){return new pf(t,0)}function e3(t){return new pf(t,1)}function Nr(t,e,n){this.k=t,this.x=e,this.y=n}Nr.prototype={constructor:Nr,scale:function(t){return t===1?this:new Nr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Nr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Nr.prototype;function Ve(t){return t!=null&&!Number.isNaN(t)}function Qn(t,e){return+Ve(e)-+Ve(t)||Be(t,e)}function as(t,e){return+Ve(e)-+Ve(t)||Kr(t,e)}function ou(t){return t!=null&&`${t}`!=""}function Oo(t){return isFinite(t)?t:NaN}function cn(t){return t>0&&isFinite(t)?t:NaN}function z1(t){return t<0&&isFinite(t)?t:NaN}function n3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${r3(t.getUTCFullYear())}-${Ae(t.getUTCMonth()+1,2)}-${Ae(t.getUTCDate(),2)}${n||r||i||o?`T${Ae(n,2)}:${Ae(r,2)}${i||o?`:${Ae(i,2)}${o?`.${Ae(o,3)}`:""}`:""}Z`:""}`}function r3(t){return t<0?`-${Ae(-t,6)}`:t>9999?`+${Ae(t,6)}`:Ae(t,4)}function Ae(t,e){return`${t}`.padStart(e,"0")}const i3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function H1(t,e){return i3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function Kn(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Kr(e,n)}const Pn=1e3,Ue=Pn*60,qe=Ue*60,pe=qe*24,re=pe*7,ln=pe*30,Oe=pe*365,Jf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Pn],["5 seconds",5*Pn],["15 seconds",15*Pn],["30 seconds",30*Pn],["minute",Ue],["5 minutes",5*Ue],["15 minutes",15*Ue],["30 minutes",30*Ue],["hour",qe],["3 hours",3*qe],["6 hours",6*qe],["12 hours",12*qe],["day",pe],["2 days",2*pe],["week",re],["2 weeks",2*re],["month",ln],["3 months",3*ln],["6 months",6*ln],["year",Oe],["2 years",2*Oe],["5 years",5*Oe],["10 years",10*Oe],["20 years",20*Oe],["50 years",50*Oe],["100 years",100*Oe]],fu=new Map([["second",Pn],["minute",Ue],["hour",qe],["day",pe],["monday",re],["tuesday",re],["wednesday",re],["thursday",re],["friday",re],["saturday",re],["sunday",re],["week",re],["month",ln],["year",Oe]]),W1=new Map([["second",Zt],["minute",oi],["hour",ai],["day",$n],["monday",Wr],["tuesday",Vh],["wednesday",Gh],["thursday",_n],["friday",Xh],["saturday",Zh],["sunday",Zn],["week",Zn],["month",ui],["year",Qt]]),au=new Map([["second",Zt],["minute",fi],["hour",si],["day",af],["monday",Vr],["tuesday",jh],["wednesday",Qh],["thursday",wn],["friday",Kh],["saturday",Jh],["sunday",jn],["week",jn],["month",ci],["year",Kt]]),di=Symbol("intervalDuration"),gf=Symbol("intervalType");for(const[t,e]of W1)e[di]=fu.get(t),e[gf]="time";for(const[t,e]of au)e[di]=fu.get(t),e[gf]="utc";const Cr=[["year",Kt,"utc"],["month",ci,"utc"],["day",af,"utc",6*ln],["hour",si,"utc",3*pe],["minute",fi,"utc",6*qe],["second",Zt,"utc",30*Ue]],Ji=[["year",Qt,"time"],["month",ui,"time"],["day",$n,"time",6*ln],["hour",ai,"time",3*pe],["minute",oi,"time",6*qe],["second",Zt,"time",30*Ue]],o3=[Cr[0],Ji[0],Cr[1],Ji[1],Cr[2],Ji[2],...Cr.slice(3)];function V1(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=au.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function G1(t){return Z1(V1(t),"time")}function X1(t){return Z1(V1(t),"utc")}function Z1([t,e],n){let r=(n==="time"?W1:au).get(t);return e>1&&(r=r.every(e),r[di]=fu.get(t)*e,r[gf]=n),r}function el(t,e){if(!(e>1))return;const n=t[di];if(!Jf.some(([,i])=>i===n)||n%pe===0&&pe<n&&n<ln)return;const[r]=Jf[Ho(([,i])=>Math.log(i)).center(Jf,Math.log(n*e))];return(t[gf]==="time"?G1:X1)(r)}function nl(t,e,n){const r=e==="time"?Qs:li;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=f3(n);switch(t){case"millisecond":return Ln(r(".%L"),r(":%M:%S"),i);case"second":return Ln(r(":%S"),r("%-I:%M"),i);case"minute":return Ln(r("%-I:%M"),r("%p"),i);case"hour":return Ln(r("%-I %p"),r("%b %-d"),i);case"day":return Ln(r("%-d"),r("%b"),i);case"month":return Ln(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function f3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function a3(t){return t==="time"?Ji:t==="utc"?Cr:o3}function s3(t,e,n){const r=de(Qm(e,(i,o)=>Math.abs(o-i)));if(r<1e3)return nl("millisecond","utc",n);for(const[i,o,f,a]of a3(t)){if(r>a||i==="hour"&&!r)break;if(e.every(s=>o.floor(s)>=s))return nl(i,f,n)}}function Ln(t,e,n){return(r,i,o)=>{const f=t(r,i),a=e(r,i),s=i-Kn(o);return i!==s&&o[s]!==void 0&&a===e(o[s],s)?f:n(f,a)}}const su=Object.getPrototypeOf(Uint8Array),u3=Object.prototype.toString;function hi(t){return t instanceof Array||t instanceof su}function j1(t){return t instanceof su&&!c3(t)}function Q1(t){return(t==null?void 0:t.prototype)instanceof su&&!l3(t)}function c3(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function l3(t){return t===BigInt64Array||t===BigUint64Array}const d3=Symbol("reindex");function Re(t,e,n){const r=typeof e;return r==="string"?rp(t)?uu(t.getChild(e),n):rl(t,p3(e),n):r==="function"?rl(t,e,n):r==="number"||e instanceof Date||r==="boolean"?Et(t,Ce(e),n):typeof(e==null?void 0:e.transform)=="function"?ss(e.transform(t),n):h3(ss(e,n),t==null?void 0:t[d3])}function h3(t,e){return t!=null&&e?lu(t,e):t}function rl(t,e,n){return Et(t,Q1(n)?(r,i)=>cu(e(r,i)):e,n)}function ss(t,e){return e===void 0?Ge(t):ip(t)?uu(t,e):t instanceof e?t:e.from(t,Q1(e)&&!j1(t)?cu:void 0)}function uu(t,e){return t==null?t:(e===void 0||e===Array)&&R3(t.type)?J1(t.toArray()):ss(t.toArray(),e)}const to=[null],p3=t=>e=>{var r;const n=e[t];return n===void 0&&e.type==="Feature"?(r=e.properties)==null?void 0:r[t]:n},g3={transform:pi},_e={transform:t=>t},m3=()=>!0,At=t=>t==null?t:`${t}`,wt=t=>t==null?t:+t,K1=t=>t?t[0]:void 0,b3=t=>t?t[1]:void 0,Ce=t=>()=>t;function y3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ao(n,e,r)}function Jn(t){return j1(t)?t:Et(t,cu,Float64Array)}function cu(t){return t==null?NaN:Number(t)}function J1(t){return Et(t,_3)}function _3(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?H1(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function vn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:wf(t)?[void 0,t]:[t,void 0]}function Mt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function tp(t,e,n){if(t!=null)return te(t,e,n)}function te(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function tr(t){return rp(t)?t:Ge(t)}function Ge(t){if(t==null||hi(t))return t;if(ip(t))return uu(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function Et(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function us(t,e=Array){return t instanceof e?t.slice():e.from(t)}function En(t){return(t==null?void 0:t.toString)===u3}function cs(t){return En(t)&&(t.type!==void 0||t.domain!==void 0)}function mf(t){return En(t)&&typeof t.transform!="function"}function er(t){return mf(t)&&t.value===void 0&&t.channel===void 0}function bf(t,e){return t===void 0&&e===void 0?[K1,b3]:[t,e]}function w3({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=vn(e)),t===void 0&&([t]=vn(n)),t}function ls(t){return hi(t)?t.length:t==null?void 0:t.numRows}function pi(t){const e=ls(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function lu(t,e){return hi(t)?Et(e,n=>t[n],t.constructor):Et(e,n=>t.at(n))}function v3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Ie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yf(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function x3(t,e){const n=du(t,e);return n&&(r=>Ve(r)?n.floor(r):r)}function du(t,e){if(t!=null){if(typeof t=="number")return M3(t);if(typeof t=="string")return(e==="time"?G1:X1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function M3(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>Ta(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>Ta(Math.ceil(n/e),r/e).map(i=>i*e)}}function gi(t,e){if(t=du(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function $3(t,e){if(t=gi(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function A3(t){return typeof(t==null?void 0:t.range)=="function"}function _f(t){return t===void 0||mf(t)?t:{value:t}}function T3(t){return t==null?null:{transform:e=>Re(e,t,Float64Array),label:yf(t)}}function Sn(t){return t&&typeof t[Symbol.iterator]=="function"}function ep(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function il(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function ge(t){for(const e of t)if(e!=null)return e instanceof Date}function E3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&H1(e)}function S3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function N3(t){for(const e of t)if(e!=null)return typeof e=="number"}function ta(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const C3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function wf(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||C3.has(t))}function I3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function It(t){return t==null||Gr(t)}function Gr(t){return/^\s*none\s*$/i.test(t)}function k3(t){return/^\s*round\s*$/i.test(t)}function ds(t,e){return tp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function vf(t="middle"){return ds(t,"frameAnchor")}function L3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function D3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function hu(t){return Sn(t)?D3(t):t}function np(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=te(t,"clip",["frame","sphere"])),t}function rp(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function ip(t){return t&&typeof t.toArray=="function"&&t.type}function R3(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const ue=Symbol("position"),Pe=Symbol("color"),mi=Symbol("radius"),bi=Symbol("length"),yi=Symbol("opacity"),xf=Symbol("symbol"),op=Symbol("projection"),lt=new Map([["x",ue],["y",ue],["fx",ue],["fy",ue],["r",mi],["color",Pe],["opacity",yi],["symbol",xf],["length",bi],["projection",op]]);function P3(t){return t===ue||t===op}function O3(t){return t===ue||t===mi||t===bi||t===yi}const F3=Math.sqrt(3),U3=2/F3,q3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*U3,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},fp=new Map([["asterisk",_1],["circle",tu],["cross",w1],["diamond",x1],["diamond2",M1],["hexagon",q3],["plus",$1],["square",A1],["square2",T1],["star",S1],["times",k1],["triangle",N1],["triangle2",C1],["wye",I1]]);function ap(t){return t&&typeof t.draw=="function"}function B3(t){return ap(t)?!0:typeof t!="string"?!1:fp.has(t.toLowerCase())}function pu(t){if(t==null||ap(t))return t;const e=fp.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function sp({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},f){if(r===void 0&&(t!=null&&(r=up(t)),e!=null&&!er(e)&&(r=ea(r,gu(e))),n&&(r=ea(r,cp))),f!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||er(e))&&{sort:e},transform:ea(r,f)}}function xn({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=up(t)),e!=null&&!er(e)&&(r=na(r,gu(e))),n&&(r=na(r,cp))),{...i,...(e===null||er(e))&&{sort:e},initializer:na(r,o)}}function ea(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,tr(n),r,i)}}function na(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let f,a,s,u,c,d;return{data:a=n,facets:s=r,channels:f}=t.call(this,n,r,i,...o),{data:c=a,facets:d=s,channels:u}=e.call(this,a,s,{...i,...f},...o),{data:c,facets:d,channels:{...f,...u}}}}function Y3(t,e){return(t.initializer!=null?xn:sp)(t,e)}function up(t){return(e,n)=>{const r=Re(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function cp(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function z3(t,{sort:e,...n}={}){return{...(mf(t)&&t.channel!==void 0?xn:Y3)(n,gu(t)),sort:er(e)?e:null}}function gu(t){return(typeof t=="function"&&t.length!==1?H3:W3)(t)}function H3(t){return(e,n)=>{const r=hi(e)?(i,o)=>t(e[i],e[o]):(i,o)=>t(e.get(i),e.get(o));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function W3(t){let e,n;({channel:e,value:t,order:n}={..._f(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?as:Qn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Qn;break;case"descending":n=as;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,f)=>{let a;if(e===void 0)a=Re(i,t);else{if(f===void 0)throw new Error("channel sort requires an initializer");if(a=f[e],!a)return{};a=a.value}const s=(u,c)=>n(a[u],a[c]);return{data:i,facets:o.map(u=>u.slice().sort(s))}}}function V3(t,e,n=G3){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&En(t))return X3(t);if(typeof t=="function")return Z3(t);if(/^p\d{2}$/i.test(t))return $e(y3(t));switch(`${t}`.toLowerCase()){case"first":return Q3;case"last":return K3;case"identity":return j3;case"count":return fl;case"distinct":return J3;case"sum":return e==null?fl:t8;case"proportion":return al(e,"data");case"proportion-facet":return al(e,"facet");case"deviation":return $e(Om);case"min":return $e(Fr);case"min-index":return $e(Vm);case"max":return $e(de);case"max-index":return $e(Wm);case"mean":return ol(Xm);case"median":return ol(Aa);case"variance":return $e(cd);case"mode":return $e(jm)}return n(t)}function G3(t){throw new Error(`invalid reduce: ${t}`)}function X3(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Z3(t){return{reduceIndex(e,n,r){return t(lu(n,e),r)}}}function $e(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function ol(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return ge(n)?new Date(r):r}}}const j3={reduceIndex(t,e){return lu(e,t)}},Q3={reduceIndex(t,e){return e[t[0]]}},K3={reduceIndex(t,e){return e[t[t.length-1]]}},fl={label:"Frequency",reduceIndex(t){return t.length}},J3={label:"Distinct",reduceIndex(t,e){const n=new Wo;for(const r of t)n.add(e[r]);return n.size}},t8=$e(Is);function al(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Is(n,o=>r[o])/i}}function Xr(t,{scale:e,type:n,value:r,filter:i,hint:o,label:f=yf(r)},a){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),dp(a,{scale:e,type:n,value:Re(t,r),label:f,filter:i,hint:o})}function e8(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Xr(e,r,n)]))}function lp(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const f=i==null?null:e[i];return[r,f==null?o:Et(o,f)]}));return n.channels=t,n}function dp(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&ta(r,wf)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&ta(r,I3)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&ta(r,B3)?(e.scale=null,e.value=Et(r,pu)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=lt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!lt.has(n))throw new Error(`unknown scale: ${n}`);return e}function n8(t,e,n,r,i){const{order:o,reverse:f,reduce:a=!0,limit:s}=i;for(const u in i){if(!lt.has(u))continue;let{value:c,order:d=o,reverse:l=f,reduce:h=a,limit:p=s}=_f(i[u]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?pp:hp:o8(d),h==null||h===!1)continue;const y=u==="fx"||u==="fy"?i8(e,r[u]):r8(n,u);if(!y)throw new Error(`missing channel for scale: ${u}`);const m=y.value,[b=0,w=1/0]=Sn(p)?p:p<0?[p]:[0,p];if(c==null)y.domain=()=>{let _=Array.from(new Wo(m));return l&&(_=_.reverse()),(b!==0||w!==1/0)&&(_=_.slice(b,w)),_};else{const _=c==="data"?t:c==="height"?sl(n,"y1","y2"):c==="width"?sl(n,"x1","x2"):hs(n,c,c==="y"?"y2":c==="x"?"x2":void 0),M=V3(h===!0?"max":h,_);y.domain=()=>{let v=Um(pi(m),$=>M.reduceIndex($,_),$=>m[$]);return d&&v.sort(d),l&&v.reverse(),(b!==0||w!==1/0)&&(v=v.slice(b,w)),v.map(K1)}}}}function r8(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function i8(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const f=r[n[o][0]];for(const a of t[o])i[a]=f}return e}function sl(t,e,n){const r=hs(t,e),i=hs(t,n);return Et(i,(o,f)=>Math.abs(o-r[f]),Float64Array)}function hs(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function o8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return hp;case"descending":return pp}throw new Error(`invalid order: ${t}`)}function hp([t,e],[n,r]){return Qn(e,r)||Qn(t,n)}function pp([t,e],[n,r]){return as(e,r)||Qn(t,n)}function ul(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const gp=new Map([["accent",l6],["category10",c6],["dark2",d6],["observable10",h6],["paired",p6],["pastel1",g6],["pastel2",m6],["set1",b6],["set2",y6],["set3",_6],["tableau10",w6]]);function f8(t){return t!=null&&gp.has(`${t}`.toLowerCase())}const cl=new Map([...gp,["brbg",ve(u0,c0)],["prgn",ve(l0,d0)],["piyg",ve(h0,p0)],["puor",ve(g0,m0)],["rdbu",ve(is,Co)],["rdgy",ve(b0,y0)],["rdylbu",ve(os,Io)],["rdylgn",ve(_0,w0)],["spectral",ve(v0,x0)],["burd",ll(is,Co)],["buylrd",ll(os,Io)],["blues",yt(G0,X0)],["greens",yt(Z0,j0)],["greys",yt(Q0,K0)],["oranges",yt(r1,i1)],["purples",yt(J0,t1)],["reds",yt(e1,n1)],["turbo",xe(l1)],["viridis",xe(d1)],["magma",xe(h1)],["inferno",xe(p1)],["plasma",xe(g1)],["cividis",xe(o1)],["cubehelix",xe(f1)],["warm",xe(a1)],["cool",xe(s1)],["bugn",yt(M0,$0)],["bupu",yt(A0,T0)],["gnbu",yt(E0,S0)],["orrd",yt(N0,C0)],["pubu",yt(L0,D0)],["pubugn",yt(I0,k0)],["purd",yt(R0,P0)],["rdpu",yt(O0,F0)],["ylgn",yt(B0,Y0)],["ylgnbu",yt(U0,q0)],["ylorbr",yt(z0,H0)],["ylorrd",yt(W0,V0)],["rainbow",dl(u1)],["sinebow",dl(c1)]]);function yt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?jt(e,n):t[n])}function ve(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?jt(e,n):t[n])}function ll(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?jt(r=>e(1-r),n):t[n].slice().reverse())}function xe(t){return({length:e})=>jt(t,Math.max(2,Math.floor(e)))}function dl(t){return({length:e})=>jt(t,Math.floor(e)+1).slice(0,-1)}function mp(t){const e=`${t}`.toLowerCase();if(!cl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return cl.get(e)}function Mf(t,e){const n=mp(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function a8(t,e="greys"){const n=new Set,[r,i]=Mf(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const hl=new Map([["brbg",c0],["prgn",d0],["piyg",p0],["puor",m0],["rdbu",Co],["rdgy",y0],["rdylbu",Io],["rdylgn",w0],["spectral",x0],["burd",t=>Co(1-t)],["buylrd",t=>Io(1-t)],["blues",X0],["greens",j0],["greys",K0],["purples",t1],["reds",n1],["oranges",i1],["turbo",l1],["viridis",d1],["magma",h1],["inferno",p1],["plasma",g1],["cividis",o1],["cubehelix",f1],["warm",a1],["cool",s1],["bugn",$0],["bupu",T0],["gnbu",S0],["orrd",C0],["pubugn",k0],["pubu",D0],["purd",P0],["rdpu",F0],["ylgnbu",q0],["ylgn",Y0],["ylorbr",H0],["ylorrd",V0],["rainbow",u1],["sinebow",c1]]);function mu(t){const e=`${t}`.toLowerCase();if(!hl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return hl.get(e)}const s8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function u8(t){return t!=null&&s8.has(`${t}`.toLowerCase())}const bp=t=>e=>t(1-e),ra=[0,1],pl=new Map([["number",$t],["rgb",mn],["hsl",vy],["hcl",$y],["lab",xy]]);function yp(t){const e=`${t}`.toLowerCase();if(!pl.has(e))throw new Error(`unknown interpolator: ${e}`);return pl.get(e)}function _i(t,e,n,{type:r,nice:i,clamp:o,zero:f,domain:a=wp(t,n),unknown:s,round:u,scheme:c,interval:d,range:l=lt.get(t)===mi?w8(n,a):lt.get(t)===bi?v8(n,a):lt.get(t)===yi?ra:void 0,interpolate:h=lt.get(t)===Pe?c==null&&l!==void 0?mn:mu(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?Fs:$t,reverse:p}){if(d=gi(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=yp(h)),p=!!p,l!==void 0){const g=(a=Ge(a)).length,y=(l=Ge(l)).length;if(g!==y){if(h.length===1)throw new Error("invalid piecewise interpolator");h=jo(h,l),l=void 0}}if(h.length===1?(p&&(h=bp(h),p=!1),l===void 0&&(l=Float64Array.from(a,(g,y)=>y/(a.length-1)),l.length===2&&(l=ra)),e.interpolate((l===ra?Ce:yu)(h))):e.interpolate(h),f){const[g,y]=Ye(a);(g>0||y<0)&&(a=us(a),(Kn(a)||1)===Math.sign(g)?a[0]=0:a[a.length-1]=0)}return p&&(a=so(a)),e.domain(a).unknown(s),i&&(e.nice(c8(i,r)),a=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:a,range:l,scale:e,interpolate:h,interval:d}}function c8(t,e){return t===!0?void 0:typeof t=="number"?t:$3(t,e)}function l8(t,e,n){return _i(t,Zs(),e,n)}function d8(t,e,n){return _p(t,e,{...n,exponent:.5})}function _p(t,e,{exponent:n=1,...r}){return _i(t,zh().exponent(n),e,{...r,type:"pow"})}function h8(t,e,{base:n=10,domain:r=x8(e),...i}){return _i(t,Uh().base(n),e,{...i,domain:r})}function p8(t,e,{constant:n=1,...r}){return _i(t,Bh().constant(n),e,r)}function g8(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:f=M8(e),unknown:a,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?jt(s,i):lt.get(t)===Pe?Mf(o,i):void 0),f.length>0&&(f=Hh(f,n===void 0?{length:i}:n).quantiles()),bu(t,e,{domain:f,range:n,reverse:u,unknown:a})}function m8(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=wp(t,e),unknown:f,interpolate:a,reverse:s}){const[u,c]=Ye(o);let d;return n===void 0?(d=fo(u,c,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,n=a!==void 0?jt(a,r):lt.get(t)===Pe?Mf(i,r):void 0):(d=jt($t(u,c),r+1).slice(1,-1),u instanceof Date&&(d=d.map(l=>new Date(l)))),Kn(Ge(o))<0&&d.reverse(),bu(t,e,{domain:d,range:n,reverse:s,unknown:f})}function bu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:f=o!==void 0?jt(o,n.length+1):lt.get(t)===Pe?Mf(i,n.length+1):void 0,reverse:a}){n=Ge(n);const s=Kn(n);if(!isNaN(s)&&!b8(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return a&&(f=so(f)),{type:"threshold",scale:Wh(s<0?so(n):n,f===void 0?[]:f).unknown(r),domain:n,range:f}}function b8(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=Kr(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function y8(t){return{type:"identity",scale:O3(lt.get(t))?Ph():e=>e}}function Zr(t,e=Oo){return t.length?[Fr(t,({value:n})=>n===void 0?n:Fr(n,e)),de(t,({value:n})=>n===void 0?n:de(n,e))]:[0,1]}function wp(t,e){const n=lt.get(t);return(n===mi||n===yi||n===bi?_8:Zr)(e)}function _8(t){return[0,t.length?de(t,({value:e})=>e===void 0?e:de(e,Oo)):1]}function w8(t,e){const n=t.find(({radius:f})=>f!==void 0);if(n!==void 0)return[0,n.radius];const r=ao(t,.5,({value:f})=>f===void 0?NaN:ao(f,.25,cn)),i=e.map(f=>3*Math.sqrt(f/r)),o=30/de(i);return o<1?i.map(f=>f*o):i}function v8(t,e){const n=Aa(t,({value:o})=>o===void 0?NaN:Aa(o,Math.abs)),r=e.map(o=>12*o/n),i=60/de(r);return i<1?r.map(o=>o*i):r}function x8(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Zr(t,cn);if(n<0)return Zr(t,z1)}return[1,10]}function M8(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function yu(t){return(e,n)=>r=>t(e+r*(n-e))}let ps=0,gs;function $8(){const t=ps;return ps=0,gs=void 0,t}function ze(t){t!==gs&&(gs=t,console.warn(t),++ps)}function $f(t,e,n,r,{type:i,nice:o,clamp:f,domain:a=Zr(r),unknown:s,pivot:u=0,scheme:c,range:d,symmetric:l=!0,interpolate:h=lt.get(t)===Pe?c==null&&d!==void 0?mn:mu(c!==void 0?c:"rdbu"):$t,reverse:p}){u=+u,a=Ge(a);let[g,y]=a;if(a.length>2&&ze(`Warning: the diverging ${t} scale domain contains extra elements.`),Kr(g,y)<0&&([g,y]=[y,g],p=!p),g=Math.min(g,u),y=Math.max(y,u),typeof h!="function"&&(h=yp(h)),d!==void 0&&(h=h.length===1?yu(h)(...d):jo(h,d)),p&&(h=bp(h)),l){const m=n.apply(u),b=m-n.apply(g),w=n.apply(y)-m;b<w?g=n.invert(m-w):b>w&&(y=n.invert(m+b))}return e.domain([g,u,y]).unknown(s).interpolator(h),f&&e.clamp(f),o&&e.nice(o),{type:i,domain:[g,y],pivot:u,interpolate:h,scale:e}}function A8(t,e,n){return $f(t,o0(),N8,e,n)}function T8(t,e,n){return vp(t,e,{...n,exponent:.5})}function vp(t,e,{exponent:n=1,...r}){return $f(t,s0().exponent(n=+n),k8(n),e,{...r,type:"diverging-pow"})}function E8(t,e,{base:n=10,pivot:r=1,domain:i=Zr(e,r<0?z1:cn),...o}){return $f(t,f0().base(n=+n),C8,e,{domain:i,pivot:r,...o})}function S8(t,e,{constant:n=1,...r}){return $f(t,a0().constant(n=+n),L8(n),e,r)}const N8={apply(t){return t},invert(t){return t}},C8={apply:Math.log,invert:Math.exp},I8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function k8(t){return t===.5?I8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function L8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function xp(t,e,n,r){return _i(t,e,n,r)}function D8(t,e,n){return xp(t,s6(),e,n)}function R8(t,e,n){return xp(t,u6(),e,n)}const wi=Symbol("ordinal");function Mp(t,e,n,{type:r,interval:i,domain:o,range:f,reverse:a,hint:s}){return i=gi(i,r),o===void 0&&(o=Ap(n,i,t)),(r==="categorical"||r===wi)&&(r="ordinal"),a&&(o=so(o)),o=e.domain(o).domain(),f!==void 0&&(typeof f=="function"&&(f=f(o)),e.range(f)),{type:r,domain:o,range:f,scale:e,hint:s,interval:i}}function P8(t,e,{type:n,interval:r,domain:i,range:o,scheme:f,unknown:a,...s}){r=gi(r,n),i===void 0&&(i=Ap(e,r,t));let u;if(lt.get(t)===xf)u=U8(e),o=o===void 0?q8(u):Et(o,pu);else if(lt.get(t)===Pe&&(o===void 0&&(n==="ordinal"||n===wi)&&(o=a8(i,f),o!==void 0&&(f=void 0)),f===void 0&&o===void 0&&(f=n==="ordinal"?"turbo":"observable10"),f!==void 0))if(o!==void 0){const c=mu(f),d=o[0],l=o[1]-o[0];o=({length:h})=>jt(p=>c(d+l*p),h)}else o=mp(f);if(a===es)throw new Error(`implicit unknown on ${t} scale is not supported`);return Mp(t,Xs().unknown(a),e,{...s,type:n,domain:i,range:o,hint:u})}function O8(t,e,{align:n=.5,padding:r=.5,...i}){return $p(Yw().align(n).padding(r),e,i,t)}function F8(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...f}){return $p(rf().align(n).paddingInner(i).paddingOuter(o),e,f,t)}function $p(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Mp(r,t,e,n),t.round=i,t}function Ap(t,e,n){const r=new Wo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const f of i)r.add(f)}if(e!==void 0){const[i,o]=Ye(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&lt.get(n)===ue)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Bm(r,Qn)}function gl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function U8(t){return{fill:gl(t,"fill"),stroke:gl(t,"stroke")}}function q8(t){return It(t.fill)?F6:O6}function ms(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:f=n,round:a,nice:s,clamp:u,zero:c,align:d,padding:l,projection:h,facet:{label:p=e}={},...g}={}){const y={};for(const[m,b]of t){const w=g[m],_=W8(m,b,{round:lt.get(m)===ue?a:void 0,nice:s,clamp:u,zero:c,align:d,padding:l,projection:h,...w});if(_){let{label:M=m==="fx"||m==="fy"?p:e,percent:v,transform:$,inset:T,insetTop:E=T!==void 0?T:m==="y"?r:0,insetRight:S=T!==void 0?T:m==="x"?i:0,insetBottom:x=T!==void 0?T:m==="y"?o:0,insetLeft:L=T!==void 0?T:m==="x"?f:0}=w||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");_.percent=!!v,_.label=M===void 0?Y8(b,_):M,_.transform=$,m==="x"||m==="fx"?(_.insetLeft=+L,_.insetRight=+S):(m==="y"||m==="fy")&&(_.insetTop=+E,_.insetBottom=+x),y[m]=_}}return y}function ml(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:f,interval:a,label:s}=i;e[r]=j8(i),n[r]=o,o.type=f,a!=null&&(o.interval=a),s!=null&&(o.label=s)}return n}function B8(t,e){const{x:n,y:r,fx:i,fy:o}=t,f=i||o?_u(e):e;i&&bl(i,f),o&&yl(o,f);const a=i||o?Tp(t,e):e;n&&bl(n,a),r&&yl(r,a)}function Y8(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Nn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function z8(t){return Math.sign(Kn(t.domain()))*Math.sign(Kn(t.range()))}function _u(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:f,facet:{marginTop:a,marginRight:s,marginBottom:u,marginLeft:c}}=t;return{marginTop:Math.max(e,a),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:o,height:f}}function Tp({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:a,height:s}=_u(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:t?t.scale.bandwidth()+f+i:a,height:e?e.scale.bandwidth()+r+o:s,facet:{width:a,height:s}}}function bl(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:f=0}=e,a=o+n,s=i-f-r;t.range=[a,Math.max(a,s)],Nn(t)||(t.range=Sp(t)),t.scale.range(t.range)}Ep(t)}function yl(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:f=0}=e,a=o+n,s=i-f-r;t.range=[Math.max(a,s),a],Nn(t)?t.range.reverse():t.range=Sp(t),t.scale.range(t.range)}Ep(t)}function Ep(t){t.round===void 0&&G8(t)&&H8(t)<=30&&t.scale.round(!0)}function H8({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),f=e-i,a=Math.abs(r-n)/Math.max(1,f+o*2);return(a-Math.floor(a))*f}function Sp(t){const e=t.scale.domain().length+Np(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function W8(t,e=[],n={}){const r=V8(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Nn({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(ge)?ze(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Dn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Dn(r)}".`):i.some(E3)?ze(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Dn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Dn(r)}".`):i.some(S3)&&ze(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Dn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Dn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Fi(e,n,Jn);break;case"identity":switch(lt.get(t)){case ue:n=Fi(e,n,Jn);break;case xf:n=Fi(e,n,X8);break}break;case"utc":case"time":n=Fi(e,n,J1);break}switch(r){case"diverging":return A8(t,e,n);case"diverging-sqrt":return T8(t,e,n);case"diverging-pow":return vp(t,e,n);case"diverging-log":return E8(t,e,n);case"diverging-symlog":return S8(t,e,n);case"categorical":case"ordinal":case wi:return P8(t,e,n);case"cyclical":case"sequential":case"linear":return l8(t,e,n);case"sqrt":return d8(t,e,n);case"threshold":return bu(t,e,n);case"quantile":return g8(t,e,n);case"quantize":return m8(t,e,n);case"pow":return _p(t,e,n);case"log":return h8(t,e,n);case"symlog":return p8(t,e,n);case"utc":return R8(t,e,n);case"time":return D8(t,e,n);case"point":return O8(t,e,n);case"band":return F8(t,e,n);case"identity":return y8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Dn(t){return typeof t=="symbol"?t.description:t}function _l(t){return typeof t=="string"?`${t}`.toLowerCase():t}const wl={toString:()=>"projection"};function V8(t,e,{type:n,domain:r,range:i,scheme:o,pivot:f,projection:a}){if(n=_l(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&a!=null&&(n=wl);for(const u of e){const c=_l(u.type);if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}}if(n===wl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const s=lt.get(t);if(s===mi)return"sqrt";if(s===yi||s===bi)return"linear";if(s===xf)return"ordinal";if((r||i||[]).length>2)return ia(s);if(r!==void 0){if(il(r))return ia(s);if(ge(r))return"utc"}else{const u=e.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(il))return ia(s);if(u.some(ge))return"utc"}if(s===Pe){if(f!=null||u8(o))return"diverging";if(f8(o))return"categorical"}return"linear"}function ia(t){switch(t){case ue:return"point";case Pe:return wi;default:return"ordinal"}}function Nn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===wi}function Np({type:t}){return t==="threshold"}function G8({type:t}){return t==="point"||t==="band"}function Fo(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function Fi(t,{domain:e,...n},r){var i;for(const o of t)o.value!==void 0&&(e===void 0&&(e=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:e===void 0?e:r(e),...n}}function X8(t){return Et(t,pu)}function Z8(t){return e=>{if(!lt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function j8({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:f,percent:a,pivot:s}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=t.unknown?t.unknown():void 0;return{type:e,domain:us(n),...r!==void 0&&{range:us(r)},...f!==void 0&&{transform:f},...a&&{percent:a},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function Q8(t,e){const{fx:n,fy:r}=ms(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Pm(i,o).map(([f,a],s)=>({x:f,y:a,i:s})):i?i.map((f,a)=>({x:f,i:a})):o?o.map((f,a)=>({y:f,i:a})):void 0}function K8(t,{x:e,y:n}){return e&&(e=bs(e)),n&&(n=bs(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function wu(t,{fx:e,fy:n}){const r=pi(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?Df(r,f=>(f.fx=i[f[0]],f.fy=o[f[0]],f),f=>i[f],f=>o[f]):e?Df(r,f=>(f.fx=i[f[0]],f),f=>i[f]):Df(r,f=>(f.fy=o[f[0]],f),f=>o[f])}function J8(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function t5(t){const e=[],n=new Uint32Array(Is(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const e5=new Map([["top",oa],["right",sa],["bottom",fa],["left",aa],["top-left",Ui(oa,aa)],["top-right",Ui(oa,sa)],["bottom-left",Ui(fa,aa)],["bottom-right",Ui(fa,sa)],["top-empty",i5],["right-empty",a5],["bottom-empty",o5],["left-empty",f5],["empty",s5]]);function n5(t){if(t==null)return null;const e=e5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const vl=new WeakMap;function bs(t){let e=vl.get(t);return e||vl.set(t,e=new Or(Et(t,(n,r)=>[n,r]))),e}function je(t,e){return bs(t).get(e)}function r5(t,e,n){return e=Ie(e),n=Ie(n),t.find(r=>Object.is(Ie(r.x),e)&&Object.is(Ie(r.y),n))}function Af(t,e,n){var r;return(r=r5(t,e,n))==null?void 0:r.empty}function oa(t,{y:e},{y:n}){return e?je(e,n)===0:!0}function fa(t,{y:e},{y:n}){return e?je(e,n)===e.length-1:!0}function aa(t,{x:e},{x:n}){return e?je(e,n)===0:!0}function sa(t,{x:e},{x:n}){return e?je(e,n)===e.length-1:!0}function i5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=je(e,r);if(o>0)return Af(t,n,e[o-1])}function o5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=je(e,r);if(o<e.length-1)return Af(t,n,e[o+1])}function f5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=je(e,n);if(o>0)return Af(t,e[o-1],r)}function a5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=je(e,n);if(o<e.length-1)return Af(t,e[o+1],r)}function s5(t,e,{empty:n}){return n}function Ui(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function ua(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var f;return((f=r.get(i))==null?void 0:f.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Cp=Math.PI,Me=2*Cp,ca=.618;function u5({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},f){if(t==null)return;if(typeof t.stream=="function")return t;let a,s,u="frame";if(En(t)){let M;if({type:t,domain:s,inset:M,insetTop:n=M!==void 0?M:n,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:u=u,...a}=t,t==null)return}typeof t!="function"&&({type:t}=ys(t));const{width:c,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=f,y=c-l-h-o-r,m=d-p-g-n-i;if(t=t==null?void 0:t({width:y,height:m,clip:u,...a}),t==null)return;u=c5(u,l,p,c-h,d-g);let b=l+o,w=p+n,_;if(s!=null){const[[M,v],[$,T]]=Jo(t).bounds(s),E=Math.min(y/($-M),m/(T-v));E>0?(b-=(E*(M+$)-y)/2,w-=(E*(v+T)-m)/2,_=Ja({point(S,x){this.stream.point(S*E+b,x*E+w)}})):ze("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=b===0&&w===0?Ip():Ja({point(M,v){this.stream.point(M+b,v+w)}})),{stream:M=>t.stream(_.stream(u(M)))}}function ys(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Wt(Ew,.7463,.4673);case"albers":return qi($h,.7463,.4673);case"azimuthal-equal-area":return Wt(Sw,4,4);case"azimuthal-equidistant":return Wt(Nw,Me,Me);case"conic-conformal":return qi(kw,Me,Me);case"conic-equal-area":return qi(To,6.1702,2.9781);case"conic-equidistant":return qi(Rw,7.312,3.6282);case"equal-earth":return Wt(Ow,5.4133,2.6347);case"equirectangular":return Wt(Lw,Me,Cp);case"gnomonic":return Wt(Fw,3.4641,3.4641);case"identity":return{type:Ip};case"reflect-y":return{type:l5};case"mercator":return Wt(Cw,Me,Me);case"orthographic":return Wt(Uw,2,2);case"stereographic":return Wt(qw,2,2);case"transverse-mercator":return Wt(Bw,Me,Me);default:throw new Error(`unknown projection type: ${t}`)}}function c5(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return sh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Wt(t,e,n){return{type:({width:r,height:i,rotate:o,precision:f=.15,clip:a})=>{var u,c,d;const s=t();return f!=null&&((u=s.precision)==null||u.call(s,f)),o!=null&&((c=s.rotate)==null||c.call(s,o)),typeof a=="number"&&((d=s.clipAngle)==null||d.call(s,a)),r!=null&&(s.scale(Math.min(r/e,i/n)),s.translate([r/2,i/2])),s},aspectRatio:n/e}}function qi(t,e,n){const{type:r,aspectRatio:i}=Wt(t,e,n);return{type:o=>{const{parallels:f,domain:a,width:s,height:u}=o,c=r(o);return f!=null&&(c.parallels(f),a===void 0&&s!=null&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:i}}const Ip=Ce({stream:t=>t}),l5=Ce(Ja({point(t,e){this.stream.point(t,-e)}}));function kp(t,e,n,r){const i=n[t],o=n[e],f=i.length,a=n[t]=new Float64Array(f).fill(NaN),s=n[e]=new Float64Array(f).fill(NaN);let u;const c=r.stream({point(d,l){a[u]=d,s[u]=l}});for(u=0;u<f;++u)c.point(i[u],o[u])}function d5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(En(t)&&(t=t.type),t!=null)}function h5(t){if(typeof(t==null?void 0:t.stream)=="function")return ca;if(En(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?ys(t).type:t,[[i,o],[f,a]]=Jo(r({...n,width:100,height:100})).bounds(e),s=(a-o)/(f-i);return s&&isFinite(s)?s<.2?.2:s>5?5:s:ca}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=ys(t);if(e)return e}return ca}}function p5(t,e,{projection:n}){const{x:r,y:i}=t;let o={};return r&&(o.x=r),i&&(o.y=i),o=lp(o,e),n&&(r==null?void 0:r.scale)==="x"&&(i==null?void 0:i.scale)==="y"&&kp("x","y",o,n),r&&(o.x=Jn(o.x)),i&&(o.y=Jn(o.y)),o}function g5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(f,a){e.push(f),n.push(a)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const f of t.value)on(f,o);return[r,i]}function vu(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:np(n)}}function St(t,{document:e}){return Fn(Go(t).call(e.documentElement))}const _s=Symbol("unset");function xu(t){return(t.length===1?m5:b5)(t)}function m5(t){let e,n=_s;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function b5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,e=t(...r)),e)}const y5=xu(t=>new Intl.NumberFormat(t));xu((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));xu((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function _5(t="en-US"){const e=y5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function w5(t){return n3(t,"Invalid Date")}function v5(t="en-US"){const e=_5(t);return n=>(n instanceof Date?w5:typeof n=="number"?e:At)(n)}const nr=v5(),Dt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let x5=0;function M5(){return`plot-clip-${++x5}`}function $5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:f,fill:a,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:m,mixBlendMode:b,imageFilter:w,paintOrder:_,pointerEvents:M,shapeRendering:v,channels:$},{ariaLabel:T,fill:E="currentColor",fillOpacity:S,stroke:x="none",strokeOpacity:L,strokeWidth:k,strokeLinecap:I,strokeLinejoin:A,strokeMiterlimit:D,paintOrder:V}){E===null&&(a=null,s=null),x===null&&(u=null,d=null),It(E)?!It(x)&&(!It(a)||$!=null&&$.fill)&&(x="none"):It(x)&&(!It(u)||$!=null&&$.stroke)&&(E="none");const[Y,W]=vn(a,E),[R,U]=Mt(s,S),[P,O]=vn(u,x),[Z,nt]=Mt(d,L),[K,B]=Mt(m);Gr(O)||(c===void 0&&(c=k),h===void 0&&(h=I),l===void 0&&(l=A),p===void 0&&!k3(l)&&(p=D),!Gr(W)&&_===void 0&&(_=V));const[z,C]=Mt(c);return E!==null&&(t.fill=gt(W,"currentColor"),t.fillOpacity=wr(U,1)),x!==null&&(t.stroke=gt(O,"none"),t.strokeWidth=wr(C,1),t.strokeOpacity=wr(nt,1),t.strokeLinejoin=gt(l,"miter"),t.strokeLinecap=gt(h,"butt"),t.strokeMiterlimit=wr(p,4),t.strokeDasharray=gt(g,"none"),t.strokeDashoffset=gt(y,"0")),t.target=At(f),t.ariaLabel=At(T),t.ariaDescription=At(i),t.ariaHidden=At(o),t.opacity=wr(B,1),t.mixBlendMode=gt(b,"normal"),t.imageFilter=gt(w,"none"),t.paintOrder=gt(_,"normal"),t.pointerEvents=gt(M,"auto"),t.shapeRendering=gt(v,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:Z,scale:"auto",optional:!0},strokeWidth:{value:z,optional:!0},opacity:{value:K,scale:"auto",optional:!0}}}function A5(t,e){e&&t.filter(n=>ou(e[n])).append("title").call(E5,e)}function T5(t,e){e&&t.filter(([n])=>ou(e[n])).append("title").call(S5,e)}function E5(t,e){e&&t.text(n=>nr(e[n]))}function S5(t,e){e&&t.text(([n])=>nr(e[n]))}function sr(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:f,stroke:a,strokeOpacity:s,strokeWidth:u,opacity:c,href:d}){r&&G(t,"aria-label",l=>r[l]),o&&G(t,"fill",l=>o[l]),f&&G(t,"fill-opacity",l=>f[l]),a&&G(t,"stroke",l=>a[l]),s&&G(t,"stroke-opacity",l=>s[l]),u&&G(t,"stroke-width",l=>u[l]),c&&G(t,"opacity",l=>c[l]),d&&Dp(t,l=>d[l],e),n||A5(t,i)}function N5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:f,stroke:a,strokeOpacity:s,strokeWidth:u,opacity:c,href:d}){r&&G(t,"aria-label",([l])=>r[l]),o&&G(t,"fill",([l])=>o[l]),f&&G(t,"fill-opacity",([l])=>f[l]),a&&G(t,"stroke",([l])=>a[l]),s&&G(t,"stroke-opacity",([l])=>s[l]),u&&G(t,"stroke-width",([l])=>u[l]),c&&G(t,"opacity",([l])=>c[l]),d&&Dp(t,([l])=>d[l],e),n||T5(t,i)}function C5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:f,opacity:a,href:s},{tip:u}){return[t,u?void 0:e,n,r,i,o,f,a,s].filter(c=>c!==void 0)}function I5(t,e,n){const r=Fm(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&ze("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*k5(t,e,n,r){const{z:i}=n,{z:o}=r,f=C5(r,n),a=[...e,...f];for(const s of o?I5(t,o,i):[t]){let u,c;t:for(const d of s){for(const l of a)if(!Ve(l[d])){c&&c.push(-1);continue t}if(u===void 0){c&&(yield c),u=f.map(l=>Ie(l[d])),c=[d];continue}c.push(d);for(let l=0;l<f.length;++l)if(Ie(f[l][d])!==u[l]){yield c,u=f.map(p=>Ie(p[d])),c=[d];continue t}}c&&(yield c)}}function L5(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{t=St("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=D5(r,n);break}case"sphere":{i=R5(r);break}}G(t,"aria-label",e.ariaLabel),G(t,"aria-description",e.ariaDescription),G(t,"aria-hidden",e.ariaHidden),G(t,"clip-path",i)}function Lp(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const o=M5();Fn(n.ownerSVGElement).append("clipPath").attr("id",o).call(t,n,r),e.set(n,i=`url(#${o})`)}return i}}const D5=Lp((t,e,n)=>{const{width:r,height:i,marginLeft:o,marginRight:f,marginTop:a,marginBottom:s}=n;t.append("rect").attr("x",o).attr("y",a).attr("width",r-f-o).attr("height",i-a-s)}),R5=Lp((t,e)=>{const{projection:n}=e;if(!n)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",Jo(n)({type:"Sphere"}))});function Qe(t,e,n,r){L5(t,e,n,r),G(t,"class",e.className),G(t,"fill",e.fill),G(t,"fill-opacity",e.fillOpacity),G(t,"stroke",e.stroke),G(t,"stroke-width",e.strokeWidth),G(t,"stroke-opacity",e.strokeOpacity),G(t,"stroke-linejoin",e.strokeLinejoin),G(t,"stroke-linecap",e.strokeLinecap),G(t,"stroke-miterlimit",e.strokeMiterlimit),G(t,"stroke-dasharray",e.strokeDasharray),G(t,"stroke-dashoffset",e.strokeDashoffset),G(t,"shape-rendering",e.shapeRendering),G(t,"filter",e.imageFilter),G(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;G(t,"pointer-events",i)}function Ke(t,e){P5(t,"mix-blend-mode",e.mixBlendMode),G(t,"opacity",e.opacity)}function Dp(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(Yn.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Yn.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function G(t,e,n){n!=null&&t.attr(e,n)}function P5(t,e,n){n!=null&&t.style(e,n)}function Je(t,e,{x:n,y:r},i=Dt,o=Dt){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function gt(t,e){if((t=At(t))!==e)return t}function wr(t,e){if((t=wt(t))!==e)return t}const O5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Tf(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!O5.test(t))throw new Error(`invalid class name: ${t}`);return t}function Mu(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function vi({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:f}){return[/left$/.test(t)?f:/right$/.test(t)?e-i:(f+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}class ee{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:f,fx:a,fy:s,sort:u,dx:c=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:y=l,className:m,clip:b=i==null?void 0:i.clip,channels:w,tip:_,render:M}=r;if(this.data=e,this.sort=er(u)?u:null,this.initializer=xn(r).initializer,this.transform=this.initializer?r.transform:sp(r).transform,o===null||o===!1?this.facet=null:(this.facet=te(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===to&&typeof a=="string"?[a]:a,this.fy=e===to&&typeof s=="string"?[s]:s),this.facetAnchor=n5(f),n=hu(n),w!==void 0&&(n={...F5(w),...n}),i!==void 0&&(n={...$5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,$])=>{if(mf($.value)){const{value:T,label:E=$.label,scale:S=$.scale}=$.value;$={...$,label:E,scale:S,value:T}}if(e===to&&typeof $.value=="string"){const{value:T}=$;$={...$,value:[T]}}return[v,$]}).filter(([v,{value:$,optional:T}])=>{if($!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+y,this.clip=np(b),this.tip=U5(_),this.className=m?Tf(m):null,this.facet==="super"){if(a||s)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:$}=n[v];if(!($!=="x"&&$!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=Pp(M,this.render))}initialize(e,n,r){let i=tr(this.data);e===void 0&&i!=null&&(e=[pi(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=tr(i)),e!==void 0&&(e.original=o);const f=e8(this.channels,i);return this.sort!=null&&n8(i,e,f,n,this.sort),{data:i,facets:e,channels:f}}filter(e,n,r){for(const i in n){const{filter:o=Ve}=n[i];if(o!==null){const f=r[i];e=e.filter(a=>o(f[a]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&kp(i,o,n,r.projection)}}scale(e,n,r){const i=lp(e,n);return r.projection&&this.project(e,i,r),i}}function Rp(...t){return t.plot=ee.prototype.plot,t}function Pp(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,f,a){return t.call(this,n,r,i,o,f,(s,u,c,d,l)=>e.call(this,s,u,c,d,l,a))}}function F5(t){return Object.fromEntries(Object.entries(hu(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:_f(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function U5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?te(t,"tip",["x","y","xy"]):t}function Op(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:En(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function q5(t,e,n={}){let r=.5-Dt,i=.5+Dt,o=.5+Dt,f=.5-Dt;for(const{marginTop:g,marginRight:y,marginBottom:m,marginLeft:b}of e)g>r&&(r=g),y>i&&(i=y),m>o&&(o=m),b>f&&(f=b);let{margin:a,marginTop:s=a!==void 0?a:r,marginRight:u=a!==void 0?a:i,marginBottom:c=a!==void 0?a:o,marginLeft:d=a!==void 0?a:f}=n;s=+s,u=+u,c=+c,d=+d;let{width:l=640,height:h=B5(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:f})+Math.max(0,s-r+c-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:s,marginRight:u,marginBottom:c,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:y=g!==void 0?g:s,marginRight:m=g!==void 0?g:u,marginBottom:b=g!==void 0?g:c,marginLeft:w=g!==void 0?g:d}=n.facet??{};y=+y,m=+m,b=+b,w=+w,p.facet={marginTop:y,marginRight:m,marginBottom:b,marginLeft:w}}return p}function B5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:f,marginTopDefault:a,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){const d=n&&n.scale.domain().length||1,l=h5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,y=Math.max(.1,Math.min(10,g));return Math.round((f-c-s)*y+a+u)}const h=e?Nn(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=xl("y",e)/(xl("x",t)*o),g=r?r.scale.bandwidth():1,y=n?n.scale.bandwidth():1,m=g*(f-c-s)-t.insetLeft-t.insetRight;return(p*m+e.insetTop+e.insetBottom)/y+a+u}return!!(e||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function xl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const a=e.scale.exponent();i=s=>Math.pow(s,a);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,f]=Ye(r);return Math.abs(i(f)-i(o))}const Ml=new WeakMap;function $u(t,e,{x:n,y:r,px:i,py:o,maxRadius:f=40,channels:a,render:s,...u}={}){return f=+f,i!=null&&(n??(n=null),a={...a,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),a={...a,py:{value:o,scale:"y"}}),{x:n,y:r,channels:a,...u,render:Pp(function(c,d,l,h,p,g){p={...p,pointerSticky:!1};const y=p.ownerSVGElement,{data:m}=p.getMarkState(this);let b=Ml.get(y);b||Ml.set(y,b={sticky:!1,roots:[],renders:[]});let w=b.renders.push(O)-1;const{x:_,y:M,fx:v,fy:$}=d;let T=v?v(c.fx)-h.marginLeft:0,E=$?$(c.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(T+=_.bandwidth()/2),M!=null&&M.bandwidth&&(E+=M.bandwidth()/2);const S=c.fi!=null;let x;if(S){let B=b.facetStates;B||(b.facetStates=B=new Map),x=B.get(this),x||B.set(this,x=new Map)}const[L,k]=vi(this,h),{px:I,py:A}=l,D=I?B=>I[B]:Fp(l,L),V=A?B=>A[B]:Up(l,k);let Y,W,R,U;function P(B,z){if(S)if(U&&(U=cancelAnimationFrame(U)),B==null)x.delete(c.fi);else{x.set(c.fi,z),U=requestAnimationFrame(()=>{U=null;for(const[C,q]of x)if(q<z||q===z&&C<c.fi){B=null;break}O(B)});return}O(B)}function O(B){if(Y===B&&R===b.sticky)return;Y=B,R=p.pointerSticky=b.sticky;const z=Y==null?[]:[Y];S&&(z.fx=c.fx,z.fy=c.fy,z.fi=c.fi);const C=g(z,d,l,h,p);if(W){if(S){const q=W.parentNode,H=W.getAttribute("transform"),N=C.getAttribute("transform");H?C.setAttribute("transform",H):C.removeAttribute("transform"),N?q.setAttribute("transform",N):q.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}W.replaceWith(C)}if(b.roots[w]=W=C,!(Y==null&&(x==null?void 0:x.size)>1)){const q=Y==null?null:hi(m)?m[Y]:m.get(Y);p.dispatchValue(q)}return C}function Z(B){if(b.sticky||B.pointerType==="mouse"&&B.buttons===1)return;let[z,C]=z2(B);z-=T,C-=E;const q=z<h.marginLeft||z>h.width-h.marginRight?1:t,H=C<h.marginTop||C>h.height-h.marginBottom?1:e;let N=null,ft=f*f;for(const X of c){const st=q*(D(X)-z),dt=H*(V(X)-C),Lt=st*st+dt*dt;Lt<=ft&&(N=X,ft=Lt)}if(N!=null&&(t!==1||e!==1)){const X=D(N)-z,st=V(N)-C;ft=X*X+st*st}P(N,ft)}function nt(B){B.pointerType==="mouse"&&Y!=null&&(b.sticky&&b.roots.some(z=>z==null?void 0:z.contains(B.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(z=>z(null))):(b.sticky=!0,O(Y)),B.stopImmediatePropagation()))}function K(B){B.pointerType==="mouse"&&(b.sticky||P(null))}return y.addEventListener("pointerenter",Z),y.addEventListener("pointermove",Z),y.addEventListener("pointerdown",nt),y.addEventListener("pointerleave",K),O(null)},s)}}function Y5(t){return $u(1,1,t)}function z5(t){return $u(1,.01,t)}function $l(t){return $u(.01,1,t)}function Fp({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Up({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function qp(t){return Nn(t)&&t.interval===void 0?void 0:"tabular-nums"}function H5(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:f=18,marginRight:a=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:d=(i-u-a)/64,tickFormat:l,fontVariant:h=qp(t),round:p=!0,opacity:g,className:y}=e;const m=vu(e);y=Tf(y),g=Mt(g)[1],l===null&&(l=()=>null);const b=St("svg",m).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`:where(.${y}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${y}-ramp text) {
  white-space: pre;
}`)).call(Mu,c);let w=L=>L.selectAll(".tick line").attr("y1",f+s-o),_;const M=p?(L,k)=>L.rangeRound(k):(L,k)=>L.range(k),{type:v,domain:$,range:T,interpolate:E,scale:S,pivot:x}=t;if(E){const L=T===void 0?E:jo(E.length===1?yu(E):E,T);_=M(S.copy(),jt($t(u,i-a),Math.min($.length+(x!==void 0),T===void 0?1/0:T.length)));const k=256,I=m.document.createElement("canvas");I.width=k,I.height=1;const A=I.getContext("2d");for(let D=0,V=k-1;D<k;++D)A.fillStyle=L(D/V),A.fillRect(D,0,1,1);b.append("image").attr("opacity",g).attr("x",u).attr("y",f).attr("width",i-u-a).attr("height",o-f-s).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(v==="threshold"){const L=$,k=l===void 0?I=>I:typeof l=="string"?fr(l):l;_=M(Zs().domain([-1,T.length-1]),[u,i-a]),b.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(I,A)=>_(A-1)).attr("y",f).attr("width",(I,A)=>_(A)-_(A-1)).attr("height",o-f-s).attr("fill",I=>I),d=Et(L,(I,A)=>A),l=I=>k(L[I],I)}else _=M(rf().domain($),[u,i-a]),b.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",_).attr("y",f).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-f-s).attr("fill",S),w=()=>{};return b.append("g").attr("transform",`translate(0,${o-s})`).call(fb(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",gt(h,"normal")).call(w).call(L=>L.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",u).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const Bp=Math.PI/180;function Au(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=la(n),t.markerMid=la(r),t.markerEnd=la(i)}function la(t){if(t==null||t===!1)return null;if(t===!0)return Tl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Al("auto");case"arrow-reverse":return Al("auto-start-reverse");case"dot":return W5;case"circle":case"circle-fill":return Tl;case"circle-stroke":return V5;case"tick":return da("auto");case"tick-x":return da(90);case"tick-y":return da(0)}throw new Error(`invalid marker: ${t}`)}function Al(t){return(e,n)=>St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function W5(t,e){return St("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Tl(t,e){return St("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function V5(t,e){return St("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function da(t){return(e,n)=>St("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let G5=0;function Yp(t,e,{stroke:n},r){return Hp(t,e,n&&(i=>n[i]),null,r)}function X5(t,e,{stroke:n,z:r},i){return Hp(t,e,n&&(([o])=>n[o]),r,i)}const ws=1,zp=2;function Z5(t,e){const n=new Uint8Array(e.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,f=_s;o<i;++o){const a=r[o];if(a.length>1){const s=a[0];f!==(f=Ie(e[s]))&&(n[s]|=ws)}}for(let o=i-1,f=_s;o>=0;--o){const a=r[o];if(a.length>1){const s=a[0];f!==(f=Ie(e[s]))&&(n[s]|=zp)}}return([o])=>n[o]}function Hp(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,f,a){if(!e&&!n&&!r)return;const s=new Map,u=f&&Z5(t,f);function c(d,l,h){return function(p){if(h&&!h(p))return;const g=o(p);let y=s.get(l);y||s.set(l,y=new Map);let m=y.get(g);if(!m){const b=this.parentNode.insertBefore(l(g,a),this),w=`plot-marker-${++G5}`;b.setAttribute("id",w),y.set(g,m=`url(#${w})`)}this.setAttribute(d,m)}}e&&t.each(c("marker-start",e,u&&(d=>u(d)&ws))),n&&u&&t.each(c("marker-start",n,d=>!(u(d)&ws))),n&&t.each(c("marker-mid",n)),r&&t.each(c("marker-end",r,u&&(d=>u(d)&zp)))}function Wp({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=Gp(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Vp({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=Gp(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function Gp(t,e,n){return t===void 0&&e===void 0&&n===void 0?Dt?[1,0]:[.5,.5]:[e,n]}function Xp(t,{interval:e}){return t={..._f(t)},t.interval=du(t.interval===void 0?e:t.interval),t}function Zp(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:f}=n,{value:a,interval:s}=Xp(i,n);if(a==null||s==null)return n;const u=yf(i);if(s==null){let h;const p={transform:g=>h||(h=Re(g,a)),label:u};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:f===void 0&&!(o===f&&r)?p:f}}let c,d;function l(h){return d!==void 0&&h===c?d:d=Et(Re(c=h,a),p=>s.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:f===void 0?{transform:h=>l(h).map(p=>s.offset(p)),label:u}:f})}function jp(t,e,n){const{[t]:r}=n,{value:i,interval:o}=Xp(r,n);return i==null||o==null?n:e({...n,[t]:{label:yf(r),transform:f=>{const a=Et(Re(f,i),u=>o.floor(u)),s=a.map(u=>o.offset(u));return a.map(ge(a)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function j5(t={}){return Zp("x",Wp,t)}function Q5(t={}){return Zp("y",Vp,t)}function K5(t={}){return jp("x",Wp,t)}function J5(t={}){return jp("y",Vp,t)}const Qp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class t4 extends ee{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:f=0,insetTop:a=f,insetBottom:s=f}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Op(n,"x"),Qp),this.insetTop=wt(a),this.insetBottom=wt(s),Au(this,n)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y1:u,y2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetTop:m,insetBottom:b}=this;return St("svg:g",o).call(Qe,this,i,o).call(Je,this,{x:s&&f},Dt,0).call(w=>w.selectAll().data(e).enter().append("line").call(Ke,this).attr("x1",s?_=>s[_]:(g+d-p)/2).attr("x2",s?_=>s[_]:(g+d-p)/2).attr("y1",u&&!Fo(a)?_=>u[_]+m:h+m).attr("y2",c&&!Fo(a)?a.bandwidth?_=>c[_]+a.bandwidth()-b:_=>c[_]-b:l-y-b).call(sr,this,r).call(Yp,this,r,o)).node()}}class e4 extends ee{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:f=0,insetRight:a=f,insetLeft:s=f}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Op(n,"y"),Qp),this.insetRight=wt(a),this.insetLeft=wt(s),Au(this,n)}render(e,n,r,i,o){const{x:f,y:a}=n,{y:s,x1:u,x2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:y}=i,{insetLeft:m,insetRight:b}=this;return St("svg:g",o).call(Qe,this,i,o).call(Je,this,{y:s&&a},0,Dt).call(w=>w.selectAll().data(e).enter().append("line").call(Ke,this).attr("x1",u&&!Fo(f)?_=>u[_]+m:g+m).attr("x2",c&&!Fo(f)?f.bandwidth?_=>c[_]+f.bandwidth()-b:_=>c[_]-b:d-p-b).attr("y1",s?_=>s[_]:(h+l-y)/2).attr("y2",s?_=>s[_]:(h+l-y)/2).call(sr,this,r).call(Yp,this,r,o)).node()}}function n4(t,e){let{x:n=_e,y:r,y1:i,y2:o,...f}=Q5(e);return[i,o]=Kp(r,i,o),new t4(t,{...f,x:n,y1:i,y2:o})}function r4(t,e){let{y:n=_e,x:r,x1:i,x2:o,...f}=j5(e);return[i,o]=Kp(r,i,o),new e4(t,{...f,y:n,x1:i,x2:o})}function Kp(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Tu(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const i4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Jp="";class Eu extends ee{constructor(e,n={}){const{x:r,y:i,text:o=Sn(e)&&ep(e)?_e:g3,frameAnchor:f,textAnchor:a=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:s=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:y,fontWeight:m,rotate:b}=n,[w,_]=Mt(b,0),[M,v]=c4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:T3(w),optional:!0},text:{value:o,filter:ou,optional:!0}},n,i4),this.rotate=_,this.textAnchor=gt(a,"middle"),this.lineAnchor=te(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=tg(d),this.monospace=!!l,this.fontFamily=At(h),this.fontSize=v,this.fontStyle=At(g),this.fontVariant=At(y),this.fontWeight=At(m),this.frameAnchor=vf(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=ng(this),this.clipLine=rg(this)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,rotate:c,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,y]=vi(this,i);return St("svg:g",o).call(Qe,this,i,o).call(eg,this,d,i).call(Je,this,{x:s&&f,y:u&&a}).call(m=>m.selectAll().data(e).enter().append("text").call(Ke,this).call(o4,this,d,l).attr("transform",Tu`translate(${s?b=>s[b]:g},${u?b=>u[b]:y})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(G,"font-size",h&&(b=>h[b])).call(sr,this,r)).node()}}function tg(t){return t==null?null:te(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function o4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:f,splitLines:a,clipLine:s}=e;t.each(function(u){const c=a(nr(n[u])??"").map(s),d=c.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(Yn.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=c[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=c[0];if(f&&!r&&c[0]!==n[u]){const h=this.ownerDocument.createElementNS(Yn.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function xi(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=bf(e,n)),new Eu(t,{...r,x:e,y:n})}function f4(t,{x:e=_e,...n}={}){return new Eu(t,J5({...n,x:e}))}function a4(t,{y:e=_e,...n}={}){return new Eu(t,K5({...n,y:e}))}function eg(t,e,n){G(t,"text-anchor",e.textAnchor),G(t,"font-family",e.fontFamily),G(t,"font-size",e.fontSize),G(t,"font-style",e.fontStyle),G(t,"font-variant",e.fontVariant===void 0?s4(n):e.fontVariant),G(t,"font-weight",e.fontWeight)}function s4(t){return t&&(N3(t)||ge(t))?"tabular-nums":void 0}const u4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function c4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),u4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function l4(t,e,n){const r=[];let i,o=0;for(const[f,a,s]of d4(t)){if(i===void 0&&(i=f),o>i&&n(t,i,a)>e&&(r.push(t.slice(i,o)+(t[o-1]===Jp?"-":"")),i=f),s){r.push(t.slice(i,a)),i=void 0;continue}o=a}return r}function*d4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case Jp:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const El={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Su(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=ur(t,i))r+=El[t[i]]??(og(t,i)?120:El.e);return r}function Nu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=ur(t,i))r+=og(t,i)?126:63;return r}function ng({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Nu:Su,i=e*100;return o=>l4(o,i,r)}function rg({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?Nu:Su,i=e*100;switch(n){case"clip-start":return o=>Nl(o,i,r,"");case"clip-end":return o=>Sl(o,i,r,"");case"ellipsis-start":return o=>Nl(o,i,r,Bn);case"ellipsis-middle":return o=>h4(o,i,r,Bn);case"ellipsis-end":return o=>Sl(o,i,r,Bn)}}const Bn="";function rr(t,e,n,r){const i=[];let o=0;for(let f=0,a=0,s=t.length;f<s;f=a){a=ur(t,f);const u=n(t,f,a);if(o+u>e){for(o+=r;o>e&&f>0;)a=f,f=i.pop(),o-=n(t,f,a);return[f,e-o]}o+=u,i.push(f)}return[-1,0]}function Sl(t,e,n,r){t=t.trim();const i=n(r),[o]=rr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function h4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[f,a]=rr(t,e/2,n,o),[s]=rr(t,i-e/2-a+o,n,-o);return s<0?r:t.slice(0,f).trimEnd()+r+t.slice(ur(t,s)).trimStart()}function Nl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[f]=rr(t,i-e+o,n,-o);return f<0?r:r+t.slice(ur(t,f)).trimStart()}const vs=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Cl=new RegExp("\\p{Extended_Pictographic}","uy");function ur(t,e){return e+=p4(t,e)?2:1,m4(t,e)&&(e=vs.lastIndex),g4(t,e)?ur(t,e+1):e}function ig(t,e){return t.charCodeAt(e)<128}function p4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function g4(t,e){return t.charCodeAt(e)===8205}function m4(t,e){return ig(t,e)?!1:(vs.lastIndex=e,vs.test(t))}function og(t,e){return ig(t,e)?!1:(Cl.lastIndex=e,Cl.test(t))}const b4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},fg=3.5,y4=fg*5,ag={draw(t,e,n){const r=e*n/y4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},_4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},w4=new Map([["arrow",ag],["spike",_4]]);function v4(t){return t&&typeof t.draw=="function"}function x4(t){if(v4(t))return t;const e=w4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class sg extends ee{constructor(e,n={}){const{x:r,y:i,r:o=fg,length:f,rotate:a,shape:s=ag,anchor:u="middle",frameAnchor:c}=n,[d,l]=Mt(f,12),[h,p]=Mt(a,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,b4),this.r=+o,this.length=l,this.rotate=p,this.shape=x4(s),this.anchor=te(u,"anchor",["start","middle","end"]),this.frameAnchor=vf(c)}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,length:c,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:y}=this,[m,b]=vi(this,i);return St("svg:g",o).call(Qe,this,i,o).call(Je,this,{x:s&&f,y:u&&a}).call(w=>w.selectAll().data(e).enter().append("path").call(Ke,this).attr("transform",Tu`translate(${s?_=>s[_]:m},${u?_=>u[_]:b})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?_=>` translate(0,${c[_]})`:` translate(0,${l})`:c?_=>` translate(0,${c[_]/2})`:` translate(0,${l/2})`}`).attr("d",c?_=>{const M=Fa();return g.draw(M,c[_],y),M}:(()=>{const _=Fa();return g.draw(_,l,y),_})()).call(sr,this,r)).node()}}function M4(t,e={}){const{x:n=_e,...r}=e;return new sg(t,{...r,x:n})}function $4(t,e={}){const{y:n=_e,...r}=e;return new sg(t,{...r,y:n})}function tn(t,e){return arguments.length<2&&!Sn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Ef({anchor:t}={},e){return t===void 0?e[0]:te(t,"anchor",e)}function ug(t){return Ef(t,["left","right"])}function cg(t){return Ef(t,["right","left"])}function lg(t){return Ef(t,["bottom","top"])}function dg(t){return Ef(t,["top","bottom"])}function hg(){const[t,e]=tn(...arguments);return gg("y",ug(e),t,e)}function A4(){const[t,e]=tn(...arguments);return gg("fy",cg(e),t,e)}function pg(){const[t,e]=tn(...arguments);return mg("x",lg(e),t,e)}function T4(){const[t,e]=tn(...arguments);return mg("fx",dg(e),t,e)}function gg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:f=i,strokeWidth:a=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:y,x:m,margin:b,marginTop:w=b===void 0?20:b,marginRight:_=b===void 0?e==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:v=b===void 0?e==="left"?40:0:b,label:$,labelAnchor:T,labelArrow:E,labelOffset:S,...x}){return p=wt(p),g=wt(g),y=wt(y),T!==void 0&&(T=te(T,"labelAnchor",["center","top","bottom"])),E=$g(E),Rp(p&&!It(o)?E4(t,e,n,{stroke:o,strokeOpacity:f,strokeWidth:a,tickSize:p,tickPadding:g,tickRotate:y,x:m,...x}):null,It(s)?null:N4(t,e,n,{fill:s,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:y,x:m,marginTop:w,marginRight:_,marginBottom:M,marginLeft:v,...x}),!It(s)&&$!==null?xi([],wg({fill:s,fillOpacity:u,...x},function(L,k,I,A,D){const V=A[t],{marginTop:Y,marginRight:W,marginBottom:R,marginLeft:U}=t==="y"&&D.inset||D,P=T??(V.bandwidth?"center":"top"),O=S??(e==="right"?W:U)-3;return P==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=P,this.frameAnchor=`${P}-${e}`,this.rotate=0),this.dy=P==="top"?3-Y:P==="bottom"?R-3:0,this.dx=e==="right"?O:-O,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Mg(t,V,{anchor:e,label:$,labelAnchor:P,labelArrow:E})]}}}})):null)}function mg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:f=i,strokeWidth:a=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:y,y:m,margin:b,marginTop:w=b===void 0?e==="top"?30:0:b,marginRight:_=b===void 0?20:b,marginBottom:M=b===void 0?e==="bottom"?30:0:b,marginLeft:v=b===void 0?20:b,label:$,labelAnchor:T,labelArrow:E,labelOffset:S,...x}){return p=wt(p),g=wt(g),y=wt(y),T!==void 0&&(T=te(T,"labelAnchor",["center","left","right"])),E=$g(E),Rp(p&&!It(o)?S4(t,e,n,{stroke:o,strokeOpacity:f,strokeWidth:a,tickSize:p,tickPadding:g,tickRotate:y,y:m,...x}):null,It(s)?null:C4(t,e,n,{fill:s,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:y,y:m,marginTop:w,marginRight:_,marginBottom:M,marginLeft:v,...x}),!It(s)&&$!==null?xi([],wg({fill:s,fillOpacity:u,...x},function(L,k,I,A,D){const V=A[t],{marginTop:Y,marginRight:W,marginBottom:R,marginLeft:U}=t==="x"&&D.inset||D,P=T??(V.bandwidth?"center":"right"),O=S??(e==="top"?Y:R)-3;return P==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${P}`,this.textAnchor=P==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-O:O,this.dx=P==="right"?W-3:P==="left"?3-U:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Mg(t,V,{anchor:e,label:$,labelAnchor:P,labelArrow:E})]}}}})):null)}function E4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:f=e+(t==="y"?"-empty":""),frameAnchor:a=e,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:d=u,dx:l=0,y:h=t==="y"?void 0:null,...p}){return cr($4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:f,frameAnchor:a,y:h,...p,dx:e==="left"?+l-Dt+ +c:+l+Dt-d,anchor:"start",length:s,shape:e==="left"?F4:U4})}function S4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:f=e+(t==="x"?"-empty":""),frameAnchor:a=e,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:d=u,dy:l=0,x:h=t==="x"?void 0:null,...p}){return cr(M4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:f,frameAnchor:a,x:h,...p,dy:e==="bottom"?+l-Dt-d:+l+Dt+ +c,anchor:"start",length:s,shape:e==="bottom"?P4:O4})}function N4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:f=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(f)>60?4*Math.cos(f*Bp):0),text:s,textAnchor:u=Math.abs(f)>60?"middle":e==="left"?"end":"start",lineAnchor:c=f>60?"top":f<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y=t==="y"?void 0:null,...m}){return cr(a4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s,textAnchor:u,lineAnchor:c,fontVariant:d,rotate:f,y,...m,dx:e==="left"?+g-o-a+ +h:+g+ +o+ +a-p},function(b,w,_,M,v){d===void 0&&(this.fontVariant=xg(b)),s===void 0&&(v.text=vg(b,w,_,M,e))})}function C4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:f=0,tickPadding:a=Math.max(3,9-o)+(Math.abs(f)>=10?4*Math.cos(f*Bp):0),text:s,textAnchor:u=Math.abs(f)>=10?f<0^e==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(f)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:y=t==="x"?void 0:null,...m}){return cr(f4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:d,rotate:f,x:y,...m,dy:e==="bottom"?+g+ +o+ +a-p:+g-o-a+ +h},function(b,w,_,M,v){d===void 0&&(this.fontVariant=xg(b)),s===void 0&&(v.text=vg(b,w,_,M,e))})}function I4(){const[t,e]=tn(...arguments);return bg("y",ug(e),t,e)}function k4(){const[t,e]=tn(...arguments);return bg("fy",cg(e),t,e)}function L4(){const[t,e]=tn(...arguments);return yg("x",lg(e),t,e)}function D4(){const[t,e]=tn(...arguments);return yg("fx",dg(e),t,e)}function bg(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:f=e==="right"?i:null,...a}){return cr(r4,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:f,..._g(a)})}function yg(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:f=e==="bottom"?i:null,...a}){return cr(n4,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:f,..._g(a)})}function _g({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function wg({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:f,monospace:a,pointerEvents:s,shapeRendering:u,clip:c=!1},d){return[,t]=vn(t),[,e]=Mt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:f,monospace:a,pointerEvents:s,shapeRendering:u,clip:c,initializer:d}}function cr(t,e,n,r,i,o){let f;function a(c,d,l,h,p,g){const y=c==null&&(e==="fx"||e==="fy"),{[e]:m}=h;if(!m)throw new Error(`missing scale: ${e}`);const b=m.domain();let{interval:w,ticks:_,tickFormat:M,tickSpacing:v=e==="x"?80:35}=i;if(typeof _=="string"&&Ag(m)&&(w=_,_=void 0),_===void 0&&(_=gi(w,m.type)??R4(m,v)),c==null){if(Sn(_))c=Ge(_);else if(A3(_))c=ha(_,...Ye(b));else if(m.interval){let T=m.interval;if(m.ticks){const[E,S]=Ye(b),x=(S-E)/T[di];T=el(T,x/_)??T,c=ha(T,E,S)}else{c=b;const E=c.length;T=el(T,E/_)??T,T!==m.interval&&(c=ha(T,...Ye(c)))}if(T===m.interval){const E=Math.round(c.length/_);E>1&&(c=c.filter((S,x)=>x%E===0))}}else m.ticks?c=m.ticks(_):c=b;if(!m.ticks&&c.length&&c!==b){const T=new Wo(b);c=c.filter(E=>T.has(E)),c.length||ze(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[pi(c)]:f[e]={scale:e,value:_e}}o==null||o.call(this,m,c,_,M,f);const $=Object.fromEntries(Object.entries(f).map(([T,E])=>[T,{...E,value:Re(c,E.value)}]));return y&&(d=g.filterFacets(c,$)),{data:c,facets:d,channels:$}}const s=xn(i).initializer,u=t(n,xn({...i,initializer:a},s));return n==null?(f=u.channels,u.channels={}):f={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function R4(t,e){const[n,r]=Ye(t.range());return(r-n)/e}function vg(t,e,n,r,i){return{value:Cu(t,e,n,r,i)}}function Cu(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&ge(e)?s3(t.type,e,i)??nr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?nr:typeof r=="string"?(ge(t.domain())?li:fr)(r):Ce(r)}function ha(t,e,n){return t.range(e,t.offset(t.floor(n)))}const P4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},O4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},F4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},U4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function xg(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Mg(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Ag(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const f=z8(e);f&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===f<0?"left":"right":f<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function $g(t="auto"){return It(t)?!1:typeof t=="boolean"?t:te(t,"labelArrow",["auto","up","right","down","left"])}function Ag(t){return ge(t.domain())}function Il(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function q4(t,{opacity:e,...n}={}){if(!Nn(t)&&!Np(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Tg(t,n,(r,i,o,f)=>r.append("svg").attr("width",o).attr("height",f).attr("fill",i.scale).attr("fill-opacity",Mt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function B4(t,{fill:e=(u=>(u=t.hint)==null?void 0:u.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:It(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:f=4.5,...a}={},s){const[d,l]=vn(e),[h,p]=vn(r),g=Il(s,d),y=Il(s,h),m=f*f*Math.PI;return n=Mt(n)[1],i=Mt(i)[1],o=Mt(o)[1],Tg(t,a,(b,w,_,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",M).attr("fill",d==="color"?v=>g.scale(v):l).attr("fill-opacity",n).attr("stroke",h==="color"?v=>y.scale(v):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",v=>{const $=Fa();return t.scale(v).draw($,m),$}))}function Tg(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=qp(t),swatchSize:f=15,swatchWidth:a=f,swatchHeight:s=f,marginLeft:u=0,className:c,style:d,width:l}=e;const h=vu(e);c=Tf(c),i=Cu(t.scale,t.domain,void 0,i);const p=St("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,a,s).call(y=>y.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,a,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(y=>y.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",gt(o,"normal")).call(Mu,d).node()}const xs=new Map([["symbol",B4],["color",Sg],["opacity",z4]]);function Y4(t,e,n={}){return(r,i)=>{if(!xs.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return xs.get(r)(t[r],Eg(e,n[r],i),o=>t[o])}}function Eg({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return L3(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Sg(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return q4(t,n);case"ramp":return H5(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function z4({type:t,interpolate:e,...n},{legend:r=!0,color:i=He(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Sg({type:t,...n,interpolate:H4(i)},{legend:r,...o})}function H4(t){const{r:e,g:n,b:r}=He(t)||He(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function W4(t,e,n){const r=[];for(const[i,o]of xs){const f=n[i];if(f!=null&&f.legend&&i in t){const a=o(t[i],Eg(e,t[i],f),s=>t[s]);a!=null&&r.push(a)}}return r}function V4(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={}){t.insetTop=wt(n),t.insetRight=wt(r),t.insetBottom=wt(i),t.insetLeft=wt(o)}function G4(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:o=e,rx2:f=e,ry2:a=e,rx1y1:s=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:a!==void 0?+a:0,rx2y1:c=f!==void 0?+f:o!==void 0?+o:0,rx2y2:d=f!==void 0?+f:a!==void 0?+a:0}={}){s||u||c||d?(t.rx1y1=s,t.rx1y2=u,t.rx2y1=c,t.rx2y2=d):(t.rx=gt(n,"auto"),t.ry=gt(r,"auto"))}function X4(t,e,n,r,i,o){const{rx1y1:f,rx1y2:a,rx2y1:s,rx2y2:u}=o;typeof e!="function"&&(e=Ce(e)),typeof n!="function"&&(n=Ce(n)),typeof r!="function"&&(r=Ce(r)),typeof i!="function"&&(i=Ce(i));const c=Math.max(Math.abs(f+s),Math.abs(a+u)),d=Math.max(Math.abs(f+a),Math.abs(s+u));t.attr("d",l=>{const h=e(l),p=n(l),g=r(l),y=i(l),m=h>g,b=p>y,w=m?g:h,_=m?h:g,M=b?y:p,v=b?p:y,$=Math.min(1,(_-w)/c,(v-M)/d),T=$*(m?b?u:s:b?a:f),E=$*(m?b?a:f:b?u:s),S=$*(m?b?f:a:b?s:u),x=$*(m?b?s:u:b?f:a);return`M${w},${M+Yi(T,x)}A${T},${T} 0 0 ${T<0?0:1} ${w+Bi(T,x)},${M}H${_-Bi(E,S)}A${E},${E} 0 0 ${E<0?0:1} ${_},${M+Yi(E,S)}V${v-Yi(S,E)}A${S},${S} 0 0 ${S<0?0:1} ${_-Bi(S,E)},${v}H${w+Bi(x,T)}A${x},${x} 0 0 ${x<0?0:1} ${w},${v-Yi(x,T)}Z`})}function Bi(t,e){return e<0?t:Math.abs(t)}function Yi(t,e){return e<0?Math.abs(t):t}const Z4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},j4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Q4 extends ee{constructor(e={}){const{anchor:n=null}=e;super(to,void 0,e,n==null?Z4:j4),this.anchor=tp(n,"anchor",["top","right","bottom","left"]),V4(this,e),n||G4(this,e)}render(e,n,r,i,o){const{marginTop:f,marginRight:a,marginBottom:s,marginLeft:u,width:c,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:y}=this,{rx:m,ry:b,rx1y1:w,rx1y2:_,rx2y1:M,rx2y2:v}=this,$=u+y,T=c-a-p,E=f+h,S=d-s-g;return St(l?"svg:line":w||_||M||v?"svg:path":"svg:rect",o).datum(0).call(Qe,this,i,o).call(Ke,this).call(sr,this,r).call(Je,this,{}).call(l==="left"?x=>x.attr("x1",$).attr("x2",$).attr("y1",E).attr("y2",S):l==="right"?x=>x.attr("x1",T).attr("x2",T).attr("y1",E).attr("y2",S):l==="top"?x=>x.attr("x1",$).attr("x2",T).attr("y1",E).attr("y2",E):l==="bottom"?x=>x.attr("x1",$).attr("x2",T).attr("y1",S).attr("y2",S):w||_||M||v?x=>x.call(X4,$,E,T,S,this):x=>x.attr("x",$).attr("y",E).attr("width",T-$).attr("height",S-E).attr("rx",m).attr("ry",b)).node()}}function K4(t){return new Q4(t)}const pa={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},J4=new Set(["geometry","href","src","ariaLabel","scales"]);class t7 extends ee{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Sn(e)&&ep(e)&&(n={...n,title:_e});const{x:r,y:i,x1:o,x2:f,y1:a,y2:s,anchor:u,preferredAnchor:c="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:y,lineHeight:m=1,lineWidth:b=20,frameAnchor:w,format:_,textAnchor:M="start",textOverflow:v,textPadding:$=8,title:T,pointerSize:E=12,pathFilter:S="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&f!=null?null:r,scale:"x",optional:!0},y:{value:a!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:f==null},y1:{value:a,scale:"y",optional:s==null},x2:{value:f,scale:"x",optional:o==null},y2:{value:s,scale:"y",optional:a==null},title:{value:T,optional:!0}},n,pa),this.anchor=ds(u,"anchor"),this.preferredAnchor=ds(c,"preferredAnchor"),this.frameAnchor=vf(w),this.textAnchor=gt(M,"middle"),this.textPadding=+$,this.pointerSize=+E,this.pathFilter=At(S),this.lineHeight=+m,this.lineWidth=+b,this.textOverflow=tg(v),this.monospace=!!d,this.fontFamily=At(l),this.fontSize=wt(h),this.fontStyle=At(p),this.fontVariant=At(g),this.fontWeight=At(y);for(const x in pa)x in this.channels&&(this[x]=pa[x]);this.splitLines=ng(this),this.clipLine=rg(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(e,n,r,i,o){const f=this,{x:a,y:s,fx:u,fy:c}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:y}=this,{textPadding:m,pointerSize:b,pathFilter:w}=this,{marginTop:_,marginLeft:M}=i,{x1:v,y1:$,x2:T,y2:E,x:S=v??T,y:x=$??E}=r,L=u?u(e.fx)-M:0,k=c?c(e.fy)-_:0,[I,A]=vi(this,i),D=Fp(r,I),V=Up(r,A),Y=p?Nu:Su,W=Y(Bn);let R,U;"title"in r?(R=kl.call(this,{title:r.channels.title},n),U=o7):(R=kl.call(this,r.channels,n),U=f7);const P=St("svg:g",o).call(Qe,this,i,o).call(eg,this).call(Je,this,{x:S&&a,y:x&&s}).call(nt=>nt.selectAll().data(e).enter().append("g").attr("transform",K=>`translate(${Math.round(D(K))},${Math.round(V(K))})`).call(Ke,this).call(K=>K.append("path").attr("filter",w)).call(K=>K.append("text").each(function(B){const z=Fn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=U.call(f,B,e,R,n,r);if(typeof C=="string")for(const q of f.splitLines(C))O(z,{value:f.clipLine(q)});else{const q=new Set;for(const H of C){const{label:N=""}=H;N&&q.has(N)||(q.add(N),O(z,H))}}})));function O(nt,{label:K,value:B,color:z,opacity:C}){K??(K=""),B??(B="");const q=z!=null||C!=null;let H,N=y*100;const[ft]=rr(K,N,Y,W);if(ft>=0)K=K.slice(0,ft).trimEnd()+Bn,H=B.trim(),B="";else{(K||!B&&!q)&&(B=" "+B);const[st]=rr(B,N-Y(K),Y,W);st>=0&&(H=B.trim(),B=B.slice(0,st).trimEnd()+Bn)}const X=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");K&&X.append("tspan").attr("font-weight","bold").text(K),B&&X.append(()=>l.createTextNode(B)),q&&X.append("tspan").text(" ").attr("fill",z).attr("fill-opacity",C).style("user-select","none"),H&&X.append("title").text(H)}function Z(){const{width:nt,height:K}=i.facet??i;P.selectChildren().each(function(B){let{x:z,width:C,height:q}=this.getBBox();C=Math.round(C),q=Math.round(q);let H=h;if(H===void 0){const X=D(B)+L,st=V(B)+k,dt=X+C+b+m*2<nt,Lt=X-C-b-m*2>0,Cn=st+q+b+m*2<K,dr=st-q-b-m*2>0;H=dt&&Lt?Cn&&dr?f.preferredAnchor:dr?"bottom":"top":Cn&&dr?dt?"left":"right":(dt||Lt)&&(Cn||dr)?`${dr?"bottom":"top"}-${dt?"left":"right"}`:f.preferredAnchor}const N=this.firstChild,ft=this.lastChild;if(N.setAttribute("d",i7(H,b,m,C,q)),z)for(const X of ft.childNodes)X.setAttribute("x",-z);ft.setAttribute("y",`${+n7(H,ft.childNodes.length,g).toFixed(6)}em`),ft.setAttribute("transform",`translate(${r7(H,b,m,C,q)})`)}),P.attr("visibility",null)}return e.length&&(P.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Z):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Z)),P.node()}}function e7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=bf(e,n)),new t7(t,{...r,x:e,y:n})}function n7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function r7(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function i7(t,e,n,r,i){const o=r+n*2,f=i+n*2;switch(t){case"middle":return`M${-o/2},${-f/2}h${o}v${f}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${f}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${f}h${-o}v${-f}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${f}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-f/2}h${-o}v${f}h${o}v${e/2-f/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-f}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-f}h${-o}v${f}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-f}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-f/2}h${o}v${f}h${-o}v${e/2-f/2}z`}}function kl(t,e){var i,o;const n={};let r=this.format;r=Ll(r,t,"x"),r=Ll(r,t,"y"),this.format=r;for(const f in r){const a=r[f];if(!(a===null||a===!1))if(f==="fx"||f==="fy")n[f]=!0;else{const s=ul(t,f);s&&(n[f]=s)}}for(const f in t){if(f in n||f in r||J4.has(f)||(f==="x"||f==="y")&&t.geometry)continue;const a=ul(t,f);if(a){if(a.scale==null&&a.defaultScale==="color")continue;n[f]=a}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const f in n){const a=this.format[f];if(typeof a=="string"){const s=((i=n[f])==null?void 0:i.value)??((o=e[f])==null?void 0:o.domain())??[];this.format[f]=(ge(s)?li:fr)(a)}else if(a===void 0||a===!0){const s=e[f];this.format[f]=s!=null&&s.bandwidth?Cu(s,s.domain()):nr}}return n}function Ll(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),f=t[n];return o.splice(o.findIndex(([a])=>a===n)+1,0,[r,f],[i,f]),Object.fromEntries(o)}function o7(t,e,{title:n}){return this.format.title(n.value[t],t)}function*f7(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:Uo(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const f=n[o];if(o==="x2"&&"x1"in n)yield{label:Rl(r,n,"x"),value:Dl(this.format.x2,n.x1,f,t)};else if(o==="y2"&&"y1"in n)yield{label:Rl(r,n,"y"),value:Dl(this.format.y2,n.y1,f,t)};else{const a=f.value[t],s=f.scale;if(!Ve(a)&&s==null)continue;yield{label:Uo(r,n,o),value:this.format[o](a,t),color:s==="color"?i[o][t]:null,opacity:s==="opacity"?i[o][t]:null}}}}function Dl(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function Rl(t,e,n){const r=Uo(t,e,`${n}1`,n),i=Uo(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function Uo(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Sf(t={}){var W;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:f,ariaDescription:a}=t,s=Tf(t.className),u=t.marks===void 0?[]:Ol(t.marks);u.push(...h7(u));const c=l7(e,t),d=new Map;for(const R of u){const U=Fl(R,c,t);U&&d.set(R,U)}const l=new Map;c&&vr(l,[c],t),vr(l,d,t);const h=Ol(p7(u,l,t));for(const R of h){const U=Fl(R,c,t);U&&d.set(R,U)}u.unshift(...h);let p=Q8(l,t);if(p!==void 0){const R=c?ua(p,c):void 0;for(const P of u){if(P.facet===null||P.facet==="super")continue;const O=d.get(P);O!==void 0&&(O.facetsIndex=P.fx!=null||P.fy!=null?ua(p,O):R)}const U=new Set;for(const{facetsIndex:P}of d.values())P==null||P.forEach((O,Z)=>{(O==null?void 0:O.length)>0&&U.add(Z)});p.forEach(0<U.size&&U.size<p.length?(P,O)=>P.empty=!U.has(O):P=>P.empty=!1);for(const P of u)if(P.facet==="exclude"){const O=d.get(P);O!==void 0&&(O.facetsIndex=t5(O.facetsIndex))}}for(const R of lt.keys())cs(t[R])&&R!=="fx"&&R!=="fy"&&l.set(R,[]);const g=new Map;for(const R of u){if(g.has(R))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:U,channels:P}=d.get(R)??{},{data:O,facets:Z,channels:nt}=R.initialize(U,P,t);Iu(nt,t),g.set(R,{data:O,facets:Z,channels:nt})}const y=ms(vr(l,g,t),t),m=q5(y,u,t);B8(y,m);const b=ml(y),{fx:w,fy:_}=b,M=w||_?Tp(y,m):m,v=w||_?v7(b,m):m,$=vu(t),T=$.document,E=Go("svg").call(T.documentElement);let S=E;$.ownerSVGElement=E,$.className=s,$.projection=u5(t,M),$.filterFacets=(R,U)=>ua(p,{channels:U,groups:wu(R,U)}),$.getMarkState=R=>{const U=g.get(R),P=d.get(R);return{...U,channels:{...U.channels,...P==null?void 0:P.channels}}},$.dispatchValue=R=>{S.value!==R&&(S.value=R,S.dispatchEvent(new Event("input",{bubbles:!0})))};const x=new Set;for(const[R,U]of g)if(R.initializer!=null){const P=R.facet==="super"?v:M,O=R.initializer(U.data,U.facets,U.channels,b,P,$);if(O.data!==void 0&&(U.data=O.data),O.facets!==void 0&&(U.facets=O.facets),O.channels!==void 0){const{fx:Z,fy:nt,...K}=O.channels;c7(K),Object.assign(U.channels,K);for(const B of Object.values(K)){const{scale:z}=B;z!=null&&!P3(lt.get(z))&&(Ng(B,t),x.add(z))}(Z!=null||nt!=null)&&d.set(R,!0)}}if(x.size){const R=new Map;vr(R,g,t,Z=>x.has(Z)),vr(l,g,t,Z=>x.has(Z));const U=w7(ms(R,t),y),{scales:P,...O}=ml(U);Object.assign(y,U),Object.assign(b,O),Object.assign(b.scales,P)}let L,k;p!==void 0&&(L={x:w==null?void 0:w.domain(),y:_==null?void 0:_.domain()},p=K8(p,L),k=J8(w,_,m));for(const[R,U]of g)U.values=R.scale(U.channels,b,$);const{width:I,height:A}=m;Fn(E).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",A).attr("viewBox",`0 0 ${I} ${A}`).attr("aria-label",f).attr("aria-description",a).call(R=>R.append("style").text(`:where(.${s}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${s} text),
:where(.${s} tspan) {
  white-space: pre;
}`)).call(Mu,n);for(const R of u){const{channels:U,values:P,facets:O}=g.get(R);if(p===void 0||R.facet==="super"){let Z=null;if(O&&(Z=O[0],Z=R.filter(Z,U,P),Z.length===0))continue;const nt=R.render(Z,b,P,v,$);if(nt==null)continue;E.appendChild(nt)}else{let Z;for(const nt of p){if(!(((W=R.facetAnchor)==null?void 0:W.call(R,p,L,nt))??!nt.empty))continue;let K=null;if(O){const z=d.has(R);if(K=O[z?nt.i:0],K=R.filter(K,U,P),K.length===0)continue;!z&&K===O[0]&&(K=v3(K)),K.fx=nt.x,K.fy=nt.y,K.fi=nt.i}const B=R.render(K,b,P,M,$);if(B!=null){(Z??(Z=Fn(E).append("g"))).append(()=>B).datum(nt);for(const z of["aria-label","aria-description","aria-hidden","transform"])B.hasAttribute(z)&&(Z.attr(z,B.getAttribute(z)),B.removeAttribute(z))}}Z==null||Z.selectChildren().attr("transform",k)}}const D=W4(y,$,t),{figure:V=r!=null||i!=null||o!=null||D.length>0}=t;V&&(S=T.createElement("figure"),S.className=`${s}-figure`,S.style.maxWidth="initial",r!=null&&S.append(Pl(T,r,"h2")),i!=null&&S.append(Pl(T,i,"h3")),S.append(...D,E),o!=null&&S.append(a7(T,o)),"value"in E&&(S.value=E.value,delete E.value)),S.scale=Z8(b.scales),S.legend=Y4(y,$,t);const Y=$8();return Y>0&&Fn(E).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Y.toLocaleString("en-US")} warning${Y===1?"":"s"}. Please check the console.`),S}function Pl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function a7(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Ol(t){return t.flat(1/0).filter(e=>e!=null).map(s7)}function s7(t){return typeof t.render=="function"?t:new u7(t)}class u7 extends ee{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Iu(t,e){for(const n in t)Ng(t[n],e);return t}function Ng(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:f,transform:a=o?s=>s==null?NaN:s*100:x3(f,i)}=e[n]??{};a!=null&&(t.value=Et(t.value,a),t.transform=!1)}function c7(t){for(const e in t)dp(e,t[e])}function vr(t,e,n,r=m3){var i,o;for(const{channels:f}of e.values())for(const a in f){const s=f[a],{scale:u}=s;if(u!=null&&r(u))if(u==="projection"){if(!d5(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(c||d){const[l,h]=g5(s);c&&ga(t,"x",l),d&&ga(t,"y",h)}}}else ga(t,u,s)}return t}function ga(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function l7(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=tr(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Xr(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Xr(i,{value:r,scale:"fy"})),Iu(o,e);const f=wu(i,o);return{channels:o,groups:f,data:t.data}}function Fl(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const s=tr(t.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=Xr(s,{value:r,scale:"fx"})),i!=null&&(u.fy=Xr(s,{value:i,scale:"fy"})),Iu(u,n),{channels:u,groups:wu(s,u)}}if(e===void 0)return;const{channels:o,groups:f,data:a}=e;if(t.facet!=="auto"||t.data===a)return{channels:o,groups:f};a.length>0&&(f.size>1||f.size===1&&o.fx&&o.fy&&[...f][0][1].size>1)&&ls(tr(t.data))===ls(a)&&ze(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function d7(t,e={}){return xn({...e,x:null,y:null},(n,r,i,o,f,a)=>a.getMarkState(t))}function h7(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?z5:/^y$/i.test(i)?$l:Y5,r=i(d7(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===$l?"left":"bottom");const f=e7(n.data,r);f.facet=n.facet,f.facetAnchor=n.facetAnchor,e.push(f)}}return e}function p7(t,e,n){let{projection:r,x:i={},y:o={},fx:f={},fy:a={},axis:s,grid:u,facet:c={},facet:{axis:d=s,grid:l}=c,x:{axis:h=s,grid:p=h===null?null:u}=i,y:{axis:g=s,grid:y=g===null?null:u}=o,fx:{axis:m=d,grid:b=m===null?null:l}=f,fy:{axis:w=d,grid:_=w===null?null:l}=a}=n;(r||!cs(i)&&!Ul("x",t))&&(h=p=null),(r||!cs(o)&&!Ul("y",t))&&(g=y=null),e.has("fx")||(m=b=null),e.has("fy")||(w=_=null),h===void 0&&(h=!Wi(t,"x")),g===void 0&&(g=!Wi(t,"y")),m===void 0&&(m=!Wi(t,"fx")),w===void 0&&(w=!Wi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),w===!0&&(w=g==="right"||g===null?"left":"right");const M=[];return Hi(M,_,k4,a),zi(M,w,A4,"right","left",c,a),Hi(M,b,D4,f),zi(M,m,T4,"top","bottom",c,f),Hi(M,y,I4,o),zi(M,g,hg,"left","right",n,o),Hi(M,p,L4,i),zi(M,h,pg,"bottom","top",n,i),M}function zi(t,e,n,r,i,o,f){if(!e)return;const a=g7(e);f=m7(a?r:e,o,f);const{line:s}=f;(n===hg||n===pg)&&s&&!Gr(s)&&t.push(K4(b7(f))),t.push(n(f)),a&&t.push(n({...f,anchor:i,label:null}))}function Hi(t,e,n,r){!e||Gr(e)||t.push(n(y7(e,r)))}function g7(t){return/^\s*both\s*$/i.test(t)}function m7(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:f,tickFormat:a,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:f,tickFormat:a,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function b7(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function y7(t,{stroke:e=wf(t)?t:void 0,ticks:n=_7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function _7(t){switch(typeof t){case"number":return!0;case"string":return!wf(t)}return Sn(t)||typeof(t==null?void 0:t.range)=="function"}function Wi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Ul(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function w7(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function v7({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:f,width:a,height:s}=_u(n),u=t&&ql(t),c=e&&ql(e);return{marginTop:e?c[0]:r,marginRight:t?a-u[1]:i,marginBottom:e?s-c[1]:o,marginLeft:t?u[0]:f,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:a,height:s}}function ql(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const x7=new Map([["basis",U6],["basis-closed",q6],["basis-open",B6],["bundle",Y6],["bump-x",S6],["bump-y",N6],["cardinal",z6],["cardinal-closed",H6],["cardinal-open",W6],["catmull-rom",V6],["catmull-rom-closed",G6],["catmull-rom-open",X6],["linear",df],["linear-closed",Z6],["monotone-x",j6],["monotone-y",Q6],["natural",K6],["step",J6],["step-after",e3],["step-before",t3]]);function M7(t=df,e){if(typeof t=="function")return t;const n=x7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function $7(t=qo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?qo:M7(t,e)}function qo(t){return df(t)}function A7(t){return t.sort===void 0&&t.reverse===void 0?z3({channel:"-r"},t):t}const T7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class E7 extends ee{constructor(e,n={}){const{x:r,y:i,z:o,curve:f,tension:a}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:w3(n),optional:!0}},n,T7),this.z=o,this.curve=$7(f,a),Au(this,n)}filter(e){return e}project(e,n,r){this.curve!==qo&&super.project(e,n,r)}render(e,n,r,i,o){const{x:f,y:a}=r,{curve:s}=this;return St("svg:g",o).call(Qe,this,i,o).call(Je,this,n).call(u=>u.selectAll().data(k5(e,[f,a],this,r)).enter().append("path").call(Ke,this).call(N5,this,r).call(X5,this,r,o).attr("d",s===qo&&o.projection?S7(o.projection,f,a):E6().curve(s).defined(c=>c>=0).x(c=>f[c]).y(c=>a[c]))).node()}}function S7(t,e,n){const r=Jo(t);return e=Jn(e),n=Jn(n),i=>{let o=[];const f=[o];for(const a of i)a===-1?(o=[],f.push(o)):o.push([e[a],n[a]]);return r({type:"MultiLineString",coordinates:f})}}function Cg(t,{x:e,y:n,...r}={}){return[e,n]=bf(e,n),new E7(t,{...r,x:e,y:n})}const N7={ariaLabel:"image",fill:null,stroke:null};function C7(t){return/^\.*\//.test(t)}function I7(t){return/^(blob|data|file|http|https):/i.test(t)}function k7(t){return typeof t=="string"&&(C7(t)||I7(t))?[void 0,t]:[t,void 0]}class L7 extends ee{constructor(e,n={}){let{x:r,y:i,r:o,width:f,height:a,rotate:s,src:u,preserveAspectRatio:c,crossOrigin:d,frameAnchor:l,imageRendering:h}=n;o==null&&(o=void 0),o===void 0&&f===void 0&&a===void 0?f=a=16:f===void 0&&a!==void 0?f=a:a===void 0&&f!==void 0&&(a=f);const[p,g]=k7(u),[y,m]=Mt(o),[b,w]=Mt(f,m!==void 0?m*2:void 0),[_,M]=Mt(a,m!==void 0?m*2:void 0),[v,$]=Mt(s,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:y,scale:"r",filter:cn,optional:!0},width:{value:b,filter:cn,optional:!0},height:{value:_,filter:cn,optional:!0},rotate:{value:v,optional:!0},src:{value:p,optional:!0}},A7(n),N7),this.src=g,this.width=w,this.rotate=$,this.height=M,this.r=m,this.preserveAspectRatio=gt(c,"xMidYMid"),this.crossOrigin=At(d),this.frameAnchor=vf(l),this.imageRendering=gt(h,"auto")}render(e,n,r,i,o){const{x:f,y:a}=n,{x:s,y:u,width:c,height:d,r:l,rotate:h,src:p}=r,{r:g,width:y,height:m,rotate:b}=this,[w,_]=vi(this,i);return St("svg:g",o).call(Qe,this,i,o).call(Je,this,{x:s&&f,y:u&&a}).call(M=>M.selectAll().data(e).enter().append("image").call(Ke,this).attr("x",Bl(s,c,l,w,y,g)).attr("y",Bl(u,d,l,_,m,g)).attr("width",c?v=>c[v]:y!==void 0?y:l?v=>l[v]*2:g*2).attr("height",d?v=>d[v]:m!==void 0?m:l?v=>l[v]*2:g*2).attr("transform",h?v=>`rotate(${h[v]})`:b?`rotate(${b})`:null).attr("transform-origin",h||b?Tu`${s?v=>s[v]:w}px ${u?v=>u[v]:_}px`:null).call(G,"href",p?v=>p[v]:this.src).call(G,"preserveAspectRatio",this.preserveAspectRatio).call(G,"crossorigin",this.crossOrigin).call(G,"image-rendering",this.imageRendering).call(G,"clip-path",l?v=>`circle(${l[v]}px)`:g!==void 0?`circle(${g}px)`:null).call(sr,this,r)).node()}}function Bl(t,e,n,r,i,o){return e&&t?f=>t[f]-e[f]/2:e?f=>r-e[f]/2:t&&i!==void 0?f=>t[f]-i/2:i!==void 0?r-i/2:n&&t?f=>t[f]-n[f]:n?f=>r-n[f]:t?f=>t[f]-o:r-o}function D7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=bf(e,n)),new L7(t,{...r,x:e,y:n})}function R7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P7(t,e,n,r,i){for(var o=i+1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s>=0?(o=f,i=f-1):r=f+1}return o}function O7(t,e,n,r,i){for(var o=i+1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s>0?(o=f,i=f-1):r=f+1}return o}function F7(t,e,n,r,i){for(var o=r-1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s<0?(o=f,r=f+1):i=f-1}return o}function U7(t,e,n,r,i){for(var o=r-1;r<=i;){var f=r+i>>>1,a=t[f],s=n!==void 0?n(a,e):a-e;s<=0?(o=f,r=f+1):i=f-1}return o}function q7(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,f=t[o],a=n!==void 0?n(f,e):f-e;if(a===0)return o;a<=0?r=o+1:i=o-1}return-1}function xr(t,e,n,r,i,o){return typeof n=="function"?o(t,e,n,r===void 0?0:r|0,i===void 0?t.length-1:i|0):o(t,e,void 0,n===void 0?0:n|0,r===void 0?t.length-1:r|0)}var B7={ge:function(t,e,n,r,i){return xr(t,e,n,r,i,P7)},gt:function(t,e,n,r,i){return xr(t,e,n,r,i,O7)},lt:function(t,e,n,r,i){return xr(t,e,n,r,i,F7)},le:function(t,e,n,r,i){return xr(t,e,n,r,i,U7)},eq:function(t,e,n,r,i){return xr(t,e,n,r,i,q7)}},Bo=B7,On=0,rn=1,eo=2,Y7=H7;function ku(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Mi=ku.prototype;function ma(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Ig(t,e){var n=ir(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Yl(t,e){var n=t.intervals([]);n.push(e),Ig(t,n)}function zl(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?On:(n.splice(r,1),Ig(t,n),rn)}Mi.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};Mi.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Yl(this,t):this.left.insert(t):this.left=ir([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Yl(this,t):this.right.insert(t):this.right=ir([t]);else{var n=Bo.ge(this.leftPoints,t,Lu),r=Bo.ge(this.rightPoints,t,Du);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}};Mi.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return On;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return zl(this,t);var r=this.left.remove(t);return r===eo?(this.left=null,this.count-=1,rn):(r===rn&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return On;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return zl(this,t);var r=this.right.remove(t);return r===eo?(this.right=null,this.count-=1,rn):(r===rn&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?eo:On;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,f=this.left;f.right;)o=f,f=f.right;if(o===this)f.right=this.right;else{var a=this.left,r=this.right;o.count-=f.count,o.right=f.left,f.left=a,f.right=r}ma(this,f),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?ma(this,this.left):ma(this,this.right);return rn}for(var a=Bo.ge(this.leftPoints,t,Lu);a<this.leftPoints.length&&this.leftPoints[a][0]===t[0];++a)if(this.leftPoints[a]===t){this.count-=1,this.leftPoints.splice(a,1);for(var r=Bo.ge(this.rightPoints,t,Du);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),rn}return On}};function kg(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function Lg(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function Dg(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}Mi.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return kg(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return Lg(this.rightPoints,t,e)}else return Dg(this.leftPoints,e)};Mi.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?kg(this.leftPoints,e,n):t>this.mid?Lg(this.rightPoints,t,n):Dg(this.leftPoints,n)};function z7(t,e){return t-e}function Lu(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Du(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function ir(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(z7);for(var r=e[e.length>>1],i=[],o=[],f=[],n=0;n<t.length;++n){var a=t[n];a[1]<r?i.push(a):r<a[0]?o.push(a):f.push(a)}var s=f,u=f.slice();return s.sort(Lu),u.sort(Du),new ku(r,ir(i),ir(o),s,u)}function Ms(t){this.root=t}var lr=Ms.prototype;lr.insert=function(t){this.root?this.root.insert(t):this.root=new ku(t[0],null,null,[t],[t])};lr.remove=function(t){if(this.root){var e=this.root.remove(t);return e===eo&&(this.root=null),e!==On}return!1};lr.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};lr.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(lr,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(lr,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function H7(t){return!t||t.length===0?new Ms(null):new Ms(ir(t))}const W7=R7(Y7),V7=({marginLeft:t})=>[1,t],G7=({width:t,marginRight:e})=>[-1,t-e],X7=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2];function Z7(t){return typeof t=="string"?{anchor:t}:t}function Hl(t={},e={}){arguments.length===1&&([t,e]=j7(t));let{anchor:n="left",padding:r=1,r:i=e.r}=Z7(t);switch(`${n}`.toLowerCase()){case"left":n=V7;break;case"right":n=G7;break;case"middle":n=X7;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return Q7("x","y",n,wt(r),i,e)}function j7(t){const{anchor:e,padding:n,...r}=t,{r:i}=r;return[{anchor:e,padding:n,r:i},r]}function Q7(t,e,n,r,i,o){if(i!=null&&typeof i!="number"){let{channels:f,sort:a,reverse:s}=o;f=hu(f),(f==null?void 0:f.r)===void 0&&(o={...o,channels:{...f,r:{value:i,scale:"r"}}}),a===void 0&&s===void 0&&(o.sort={channel:"-r"})}return xn(o,function(f,a,s,u,c,d){let{[e]:l,r:h}=s;if(!s[e])throw new Error(`missing channel: ${e}`);({[e]:l}=p5(s,u,d));const p=h?void 0:i!==void 0?wt(i):this.r!==void 0?this.r:3;h&&(h=Re(h.value,u[h.scale]||_e,Float64Array));let[g,y]=n(c);const m=g?J7:K7,b=new Float64Array(l.length),w=h?_=>h[_]:()=>p;for(let _ of a){const M=W7();_=_.filter(h?$=>Oo(l[$])&&cn(h[$]):$=>Oo(l[$]));const v=new Float64Array(2*_.length+2);for(const $ of _){const T=w($),E=g?T+r:0,S=l[$]-T,x=l[$]+T;let L=2;M.queryInterval(S-r,x+r,([,,I])=>{const A=b[I]-E,D=l[$]-l[I],V=r+(h?h[$]+h[I]:2*p),Y=Math.sqrt(V*V-D*D);v[L++]=A-Y,v[L++]=A+Y});let k=v.slice(0,L);g&&(k=k.filter(I=>I>=0));t:for(const I of k.sort(m)){for(let A=0;A<L;A+=2)if(v[A]+1e-6<I&&I<v[A+1]-1e-6)continue t;b[$]=I+E;break}M.insert([S,x,$])}}g||(g=1);for(const _ of a)for(const M of _)b[M]=b[M]*g+y;return{data:f,facets:a,channels:{[t]:{value:b,source:null},[e]:{value:l,source:s[e]},...h&&{r:{value:h,source:s.r}}}}})}function K7(t,e){return Math.abs(t)-Math.abs(e)}function J7(t,e){return t-e}ee.prototype.plot=function({marks:t=[],...e}={}){return Sf({...e,marks:[...t,this]})};var t9=me("<div></div>");function e9(t,e){jr(e,!1);let n=Xi(e,"latestSongs",8);const r=f=>{console.log("passing"),f.appendChild(i(n()))},i=f=>{console.log("dorecent");const a=f.filter((s,u)=>f.map(c=>`${c.song_id}${c.commit_date}`).indexOf(`${s.song_id}${s.commit_date}`)===u).reduce((s,u)=>(u.song_id in s?(s[u.song_id].count=s[u.song_id].count+1,s[u.song_id].position=(s[u.song_id].position+u.position)/2):s[u.song_id]={count:1,label:`${u.playlist} 
${u.artists} 
${u.name}`,size:Math.log(u.name.length).toFixed(),...u},s),{});return console.log("count length",Object.keys(a).length),Sf({grid:!1,width:800,height:500,title:"New songs from last month",color:{legend:!0},y:{label:"Date"},marks:[D7(Object.values(a),Hl({y:"date",r:20,preserveAspectRatio:"xMidYMin slice",src:"cover_url",title:"label"})),xi(Object.values(a),Hl({y:"date",r:20,preserveAspectRatio:"xMidYMin slice",text:s=>String(s.name).replaceAll(" ",`
`).split("-")[0].split("(")[0],dy:35}))]})};Es();var o=t9();Am(o,f=>r==null?void 0:r(f)),pt(t,o),Qr()}var n9=me("<tr><td> </td><td> </td><td> </td><td> </td><td><!></td></tr>"),r9=me('<div class="table-container"><table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth"><thead><tr><th>Position</th><th>Artists</th><th>Name</th><th>Album</th><th>Attribute</th></tr></thead><tbody></tbody></table></div>');function i9(t,e){jr(e,!1);const n=ne();let r=Xi(e,"diffData",8),i=Xi(e,"playlistChoosen",8),o=Xi(e,"last_commits",8);const f=(c,d,l,h)=>{console.log("table recentSongAdds",c,d,l,h);const p=c.filter(m=>m.playlist==d&m.commit_date==h),g=c.filter(m=>m.playlist==d&m.commit_date==l);let y=[];return p.forEach((m,b)=>{g.forEach((w,_)=>{m.song_id===w.song_id&&(p[b].attribute=w.position-m.position,g[_].attribute=m.position-w.position)})}),p.forEach(m=>{"attribute"in m?y=[...y,m]:y=[...y,{...m,attribute:"+"}]}),g.forEach(m=>{"attribute"in m||(y=[...y,{...m,attribute:"-"}])}),y.filter(m=>m.attribute=="+")};ya(()=>(Lf(r()),Lf(i()),Lf(o())),()=>{ht(n,f(r(),i(),o()[0],o()[1]))}),rd(),Es();var a=$i(),s=Ai(a);{var u=c=>{var d=r9(),l=Gt(d),h=oe(Gt(l));wa(h,5,()=>F(n),_a,(p,g)=>{var y=n9(),m=Gt(y),b=Gt(m,!0);Ct(m);var w=oe(m),_=Gt(w,!0);Ct(w);var M=oe(w),v=Gt(M,!0);Ct(M);var $=oe(M),T=Gt($,!0);Ct($);var E=oe($),S=Gt(E);{var x=k=>{var I=hr();ie(()=>Vt(I,` ${F(g).position??""}`)),pt(k,I)},L=k=>{var I=$i(),A=Ai(I);{var D=Y=>{var W=hr();ie(()=>Vt(W,` ${F(g).position??""}`)),pt(Y,W)},V=Y=>{var W=$i(),R=Ai(W);{var U=O=>{var Z=hr();ie(()=>Vt(Z,` ${F(g).attribute??""}`)),pt(O,Z)},P=O=>{var Z=$i(),nt=Ai(Z);{var K=z=>{var C=hr();ie(()=>Vt(C,F(g).position)),pt(z,C)},B=z=>{var C=hr();ie(()=>Vt(C,` ${Math.abs(F(g).attribute)??""}`)),pt(z,C)};fe(nt,z=>{F(g).attribute==0?z(K):z(B,!1)},!0)}pt(O,Z)};fe(R,O=>{F(g).attribute>0?O(U):O(P,!1)})}pt(Y,W)};fe(A,Y=>{F(g).attribute=="-"?Y(D):Y(V,!1)},!0)}pt(k,I)};fe(S,k=>{F(g).attribute=="+"?k(x):k(L,!1)})}Ct(E),Ct(y),ie(()=>{Vt(b,F(g).position),Vt(_,F(g).artists),Vt(v,F(g).name),Vt(T,F(g).album_name)}),pt(p,y)}),Ct(h),Ct(l),Ct(d),pt(c,d)};fe(s,c=>{F(n).length>0&&c(u)})}pt(t,a),Qr()}var o9=me('<div role="img"></div>');function f9(t,e){jr(e,!0);let n=od(void 0);id(()=>{var o,f,a;(f=(o=F(n))==null?void 0:o.firstChild)==null||f.remove(),(a=F(n))==null||a.append(r())});const r=()=>Sf({grid:!0,width:800,height:500,title:`Best artist evolution in ${e.playlistChoosen}`,color:{legend:!1},x:{label:"Date"},y:{label:"Position"},marks:[Cg(e.dataFiltered.filter((o,f)=>e.dataFiltered.map(a=>`${a.artists}${a.commit_date}`).indexOf(`${o.artists}${o.commit_date}`)===f),{x:"commit_date",y:"position",stroke:"artists",tip:{channels:{artists:"artists",playlist:"playlist"}}}),xi(e.dataFiltered.filter((o,f)=>e.dataFiltered.map(a=>`${a.artists}${a.commit_date}`).indexOf(`${o.artists}${o.commit_date}`)===f),{filter:(o,f)=>f%4===0,x:"commit_date",y:"position",text:"artists",dy:-6,lineAnchor:"bottom"})]});var i=o9();fd(i,o=>ht(n,o),()=>F(n)),pt(t,i),Qr()}var a9=me('<div role="img"></div>');function s9(t,e){jr(e,!0);let n=od(void 0);id(()=>{var o,f,a;console.log("songsNames",e.songsNames),(f=(o=F(n))==null?void 0:o.firstChild)==null||f.remove(),(a=F(n))==null||a.append(r())});const r=()=>Sf({grid:!0,width:800,height:500,title:`Best songs of ${e.artistChoosen}`,color:{legend:!1},x:{label:"Date"},y:{label:"Position"},marks:[Cg(e.songsNames,{x:"commit_date",y:"position",stroke:"name",text:"name",tip:{channels:{artists:"artists",playlist:"playlist"}}}),xi(e.songsNames,{filter:(o,f)=>f%5===0,x:"commit_date",y:"position",text:"name",dy:-6,lineAnchor:"bottom"})]});var i=a9();fd(i,o=>ht(n,o),()=>F(n)),pt(t,i),Qr()}const Wl=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],fn=["PLAIN",void 0,"PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],u9=["REQUIRED","OPTIONAL","REPEATED"],c9=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],l9=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],Rg=["DATA_PAGE","INDEX_PAGE","DICTIONARY_PAGE","DATA_PAGE_V2"],Pg=864e5;function Vl(t,e,n,r,i=!0){if(e&&r.endsWith("_DICTIONARY")){e=Gl(e,n,i);let o=t;t instanceof Uint8Array&&!(e instanceof Uint8Array)&&(o=new e.constructor(t.length));for(let f=0;f<t.length;f++)o[f]=e[t[f]];return o}else return Gl(t,n,i)}function Gl(t,e,n=!0){var i,o;const r=e.converted_type;if(r==="DECIMAL"){const f=e.scale||0,a=Math.pow(10,-f),s=new Array(t.length);for(let u=0;u<s.length;u++)t[0]instanceof Uint8Array?s[u]=Og(t[u])*a:s[u]=Number(t[u])*a;return s}if(r===void 0&&e.type==="INT96")return Array.from(t).map(d9);if(r==="DATE"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(t[a]*Pg);return f}if(r==="TIMESTAMP_MILLIS"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(Number(t[a]));return f}if(r==="TIMESTAMP_MICROS"){const f=new Array(t.length);for(let a=0;a<f.length;a++)f[a]=new Date(Number(t[a]/1000n));return f}if(r==="JSON"){const f=new TextDecoder;return t.map(a=>JSON.parse(f.decode(a)))}if(r==="BSON")throw new Error("parquet bson not supported");if(r==="INTERVAL")throw new Error("parquet interval not supported");if(r==="UTF8"||n&&e.type==="BYTE_ARRAY"){const f=new TextDecoder,a=new Array(t.length);for(let s=0;s<a.length;s++)a[s]=t[s]&&f.decode(t[s]);return a}if(r==="UINT_64"){const f=new BigUint64Array(t.length);for(let a=0;a<f.length;a++)f[a]=BigInt(t[a]);return f}if(((i=e.logical_type)==null?void 0:i.type)==="FLOAT16")return Array.from(t).map(Fg);if(((o=e.logical_type)==null?void 0:o.type)==="TIMESTAMP"){const{unit:f}=e.logical_type;let a=1n;f==="MICROS"&&(a=1000n),f==="NANOS"&&(a=1000000n);const s=new Array(t.length);for(let u=0;u<s.length;u++)s[u]=new Date(Number(t[u]/a));return s}return t}function Og(t){let e=0;for(const n of t)e=e<<8|n;return e}function d9(t){const e=Number((t>>64n)-2440588n),n=Number((t&0xffffffffffffffffn)/1000000n),r=e*Pg+n;return new Date(r)}function Fg(t){if(!t)return;const e=t[1]<<8|t[0],n=e>>15?-1:1,r=e>>10&31,i=e&1023;return r===0?n*Math.pow(2,-14)*(i/1024):r===31?i?NaN:n*(1/0):n*Math.pow(2,r-15)*(1+i/1024)}function Ug(t,e,n){const r=t[e],i=[];let o=1;if(r.num_children)for(;i.length<r.num_children;){const f=t[e+o],a=Ug(t,e+o,[...n,f.name]);o+=a.count,i.push(a)}return{count:o,element:r,children:i,path:n}}function Xl(t,e){let n=Ug(t,0,[]);const r=[n];for(const i of e){const o=n.children.find(f=>f.element.name===i);if(!o)throw new Error(`parquet schema element not found: ${e}`);r.push(o),n=o}return r}function qg(t){let e=0;for(const{element:n}of t)n.repetition_type==="REPEATED"&&e++;return e}function Yo(t){let e=0;for(const{element:n}of t.slice(1))n.repetition_type!=="REQUIRED"&&e++;return e}function h9(t){if(!t||t.element.converted_type!=="LIST"||t.children.length>1)return!1;const e=t.children[0];return!(e.children.length>1||e.element.repetition_type!=="REPEATED")}function p9(t){if(!t||t.element.converted_type!=="MAP"||t.children.length>1)return!1;const e=t.children[0];if(e.children.length!==2||e.element.repetition_type!=="REPEATED")return!1;const n=e.children.find(i=>i.element.name==="key");if((n==null?void 0:n.element.repetition_type)==="REPEATED")return!1;const r=e.children.find(i=>i.element.name==="value");return(r==null?void 0:r.element.repetition_type)!=="REPEATED"}const xt={STOP:0,TRUE:1,FALSE:2,BYTE:3,I16:4,I32:5,I64:6,DOUBLE:7,BINARY:8,LIST:9,SET:10,MAP:11,STRUCT:12,UUID:13};function Bg(t){let e=0;const n={};for(;t.offset<t.view.byteLength;){const[r,i,o]=zg(t,e);if(e=o,r===xt.STOP)break;n[`field_${i}`]=no(t,r)}return n}function no(t,e){switch(e){case xt.TRUE:return!0;case xt.FALSE:return!1;case xt.BYTE:return t.view.getInt8(t.offset++);case xt.I16:case xt.I32:return m9(t);case xt.I64:return $s(t);case xt.DOUBLE:{const n=t.view.getFloat64(t.offset,!0);return t.offset+=8,n}case xt.BINARY:{const n=dn(t),r=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,n);return t.offset+=n,r}case xt.LIST:{const[n,r]=b9(t),i=n===xt.TRUE||n===xt.FALSE,o=new Array(r);for(let f=0;f<r;f++)o[f]=i?no(t,xt.BYTE)===1:no(t,n);return o}case xt.STRUCT:{const n={};let r=0;for(;;){let i,o;if([i,o,r]=zg(t,r),i===xt.STOP)break;n[`field_${o}`]=no(t,i)}return n}case xt.UUID:{let n="";for(let r=0;r<16;r++)n+=t.view.getUint8(t.offset++).toString(16).padStart(2,"0");return n}default:throw new Error(`thrift unhandled type: ${e}`)}}function dn(t){let e=0,n=0;for(;;){const r=t.view.getUint8(t.offset++);if(e|=(r&127)<<n,!(r&128))return e;n+=7}}function g9(t){let e=0n,n=0n;for(;;){const r=t.view.getUint8(t.offset++);if(e|=BigInt(r&127)<<n,!(r&128))return e;n+=7n}}function m9(t){const e=dn(t);return e>>>1^-(e&1)}function $s(t){const e=g9(t);return e>>BigInt(1)^-(e&BigInt(1))}function Yg(t){return t&15}function zg(t,e){const n=t.view.getUint8(t.offset++);if((n&15)===xt.STOP)return[0,0,e];const r=n>>4;let i;if(r)i=e+r;else throw new Error("non-delta field id not supported");return[Yg(n),i,i]}function b9(t){const e=t.view.getUint8(t.offset++),n=e>>4,r=Yg(e);if(n===15){const i=dn(t);return[r,i]}return[r,n]}async function y9(t,e=1<<19){if(!t)throw new Error("parquet file is required");if(!(t.byteLength>=0))throw new Error("parquet file byteLength is required");const n=Math.max(0,t.byteLength-e),r=await t.slice(n,t.byteLength),i=new DataView(r);if(i.getUint32(r.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const o=i.getUint32(r.byteLength-8,!0);if(o>t.byteLength-8)throw new Error(`parquet metadata length ${o} exceeds available buffer ${t.byteLength-8}`);if(o+8>e){const f=t.byteLength-o-8,a=await t.slice(f,n),s=new ArrayBuffer(o+8),u=new Uint8Array(s);return u.set(new Uint8Array(a)),u.set(new Uint8Array(r),n-f),Zl(s)}else return Zl(r)}function Zl(t){var y;if(!t)throw new Error("parquet file is required");const e=new DataView(t);if(e.byteLength<8)throw new Error("parquet file is too short");if(e.getUint32(e.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const n=e.byteLength-8,r=e.getUint32(n,!0);if(r>e.byteLength-8)throw new Error(`parquet metadata length ${r} exceeds available buffer ${e.byteLength-8}`);const i=n-r,f=Bg({view:e,offset:i}),a=new TextDecoder;function s(m){return m&&a.decode(m)}const u=f.field_1,c=f.field_2.map(m=>({type:Wl[m.field_1],type_length:m.field_2,repetition_type:u9[m.field_3],name:s(m.field_4),num_children:m.field_5,converted_type:c9[m.field_6],scale:m.field_7,precision:m.field_8,field_id:m.field_9,logical_type:_9(m.field_10)})),d=c.filter(m=>m.type),l=f.field_3,h=f.field_4.map(m=>{var b;return{columns:m.field_1.map((w,_)=>{var M,v;return{file_path:s(w.field_1),file_offset:w.field_2,meta_data:w.field_3&&{type:Wl[w.field_3.field_1],encodings:(M=w.field_3.field_2)==null?void 0:M.map($=>fn[$]),path_in_schema:w.field_3.field_3.map(s),codec:l9[w.field_3.field_4],num_values:w.field_3.field_5,total_uncompressed_size:w.field_3.field_6,total_compressed_size:w.field_3.field_7,key_value_metadata:w.field_3.field_8,data_page_offset:w.field_3.field_9,index_page_offset:w.field_3.field_10,dictionary_page_offset:w.field_3.field_11,statistics:w9(w.field_3.field_12,d[_]),encoding_stats:(v=w.field_3.field_13)==null?void 0:v.map($=>({page_type:Rg[$.field_1],encoding:fn[$.field_2],count:$.field_3})),bloom_filter_offset:w.field_3.field_14,bloom_filter_length:w.field_3.field_15,size_statistics:w.field_3.field_16&&{unencoded_byte_array_data_bytes:w.field_3.field_16.field_1,repetition_level_histogram:w.field_3.field_16.field_2,definition_level_histogram:w.field_3.field_16.field_3}},offset_index_offset:w.field_4,offset_index_length:w.field_5,column_index_offset:w.field_6,column_index_length:w.field_7,crypto_metadata:w.field_7,encrypted_column_metadata:w.field_8}}),total_byte_size:m.field_2,num_rows:m.field_3,sorting_columns:(b=m.field_4)==null?void 0:b.map(w=>({column_idx:w.field_1,descending:w.field_2,nulls_first:w.field_3})),file_offset:m.field_5,total_compressed_size:m.field_6,ordinal:m.field_7}}),p=(y=f.field_5)==null?void 0:y.map(m=>({key:s(m.field_1),value:s(m.field_2)})),g=s(f.field_6);return{version:u,schema:c,num_rows:l,row_groups:h,key_value_metadata:p,created_by:g,metadata_length:r}}function _9(t){return t!=null&&t.field_1?{type:"STRING"}:t!=null&&t.field_2?{type:"MAP"}:t!=null&&t.field_3?{type:"LIST"}:t!=null&&t.field_4?{type:"ENUM"}:t!=null&&t.field_5?{type:"DECIMAL",scale:t.field_5.field_1,precision:t.field_5.field_2}:t!=null&&t.field_6?{type:"DATE"}:t!=null&&t.field_7?{type:"TIME",isAdjustedToUTC:t.field_7.field_1,unit:jl(t.field_7.field_2)}:t!=null&&t.field_8?{type:"TIMESTAMP",isAdjustedToUTC:t.field_8.field_1,unit:jl(t.field_8.field_2)}:t!=null&&t.field_10?{type:"INTEGER",bitWidth:t.field_10.field_1,isSigned:t.field_10.field_2}:t!=null&&t.field_11?{type:"NULL"}:t!=null&&t.field_12?{type:"JSON"}:t!=null&&t.field_13?{type:"BSON"}:t!=null&&t.field_14?{type:"UUID"}:t!=null&&t.field_15?{type:"FLOAT16"}:t}function jl(t){if(t.field_1)return"MILLIS";if(t.field_2)return"MICROS";if(t.field_3)return"NANOS";throw new Error("parquet time unit required")}function w9(t,e){return t&&{max:Vi(t.field_1,e),min:Vi(t.field_2,e),null_count:t.field_3,distinct_count:t.field_4,max_value:Vi(t.field_5,e),min_value:Vi(t.field_6,e),is_max_value_exact:t.field_7,is_min_value_exact:t.field_8}}function Vi(t,e){const{type:n,converted_type:r,logical_type:i}=e;if(t===void 0)return t;if(n==="BOOLEAN")return t[0]===1;if(n==="BYTE_ARRAY")return new TextDecoder().decode(t);const o=new DataView(t.buffer,t.byteOffset,t.byteLength);return n==="FLOAT"&&o.byteLength===4?o.getFloat32(0,!0):n==="DOUBLE"&&o.byteLength===8?o.getFloat64(0,!0):n==="INT32"&&r==="DATE"?new Date(o.getInt32(0,!0)*864e5):n==="INT64"&&r==="TIMESTAMP_MICROS"?new Date(Number(o.getBigInt64(0,!0)/1000n)):n==="INT64"&&r==="TIMESTAMP_MILLIS"?new Date(Number(o.getBigInt64(0,!0))):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"&&(i==null?void 0:i.unit)==="NANOS"?new Date(Number(o.getBigInt64(0,!0)/1000000n)):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"&&(i==null?void 0:i.unit)==="MICROS"?new Date(Number(o.getBigInt64(0,!0)/1000n)):n==="INT64"&&(i==null?void 0:i.type)==="TIMESTAMP"?new Date(Number(o.getBigInt64(0,!0))):n==="INT32"&&o.byteLength===4?o.getInt32(0,!0):n==="INT64"&&o.byteLength===8?o.getBigInt64(0,!0):r==="DECIMAL"?Og(t)*Math.pow(10,-(e.scale||0)):(i==null?void 0:i.type)==="FLOAT16"?Fg(t):t}function Ql(t,e,n,r,i,o){const f=(e==null?void 0:e.length)||n.length;let a=0;const s=[t];let u=t,c=0,d=0,l=0;if(n[0])for(;c<i.length-2&&l<n[0];)u=u.at(-1),s.push(u),c++,i[c]!=="REQUIRED"&&d++,i[c]==="REPEATED"&&l++;for(let h=0;h<f;h++){const p=e!=null&&e.length?e[h]:o,g=n[h];for(;c&&(g<l||i[c]!=="REPEATED");)i[c]!=="REQUIRED"&&(s.pop(),d--),i[c]==="REPEATED"&&l--,c--;for(u=s.at(-1);(c<i.length-2||i[c+1]==="REPEATED")&&(d<p||i[c+1]==="REQUIRED");){if(c++,i[c]!=="REQUIRED"){const y=[];u.push(y),u=y,s.push(y),d++}i[c]==="REPEATED"&&l++}p===o?u.push(r[a++]):c===i.length-2?u.push(null):u.push([])}if(!t.length)for(let h=0;h<o;h++){const p=[];u.push(p),u=p}return t}function Ir(t,e,n=0){const r=e.path.join("."),i=e.element.repetition_type==="OPTIONAL",o=i?n+1:n;if(h9(e)){let f=e.children[0],a=o;f.children.length===1&&(f=f.children[0],a++),Ir(t,f,a);const s=f.path.join("."),u=t.get(s);if(!u)throw new Error("parquet list column missing values");i&&ro(u,n),t.set(r,u),t.delete(s);return}if(p9(e)){const f=e.children[0].element.name;Ir(t,e.children[0].children[0],o+1),Ir(t,e.children[0].children[1],o+1);const a=t.get(`${r}.${f}.key`),s=t.get(`${r}.${f}.value`);if(!a)throw new Error("parquet map column missing keys");if(!s)throw new Error("parquet map column missing values");if(a.length!==s.length)throw new Error("parquet map column key/value length mismatch");const u=Hg(a,s,o);i&&ro(u,n),t.delete(`${r}.${f}.key`),t.delete(`${r}.${f}.value`),t.set(r,u);return}if(e.children.length){const f=e.element.repetition_type==="REQUIRED"?n:n+1,a={};for(const u of e.children){Ir(t,u,f);const c=t.get(u.path.join("."));if(!c)throw new Error("parquet struct missing child data");a[u.element.name]=c}for(const u of e.children)t.delete(u.path.join("."));const s=Wg(a,f);i&&ro(s,n),t.set(r,s)}}function ro(t,e){for(let n=0;n<t.length;n++)e?ro(t[n],e-1):t[n]=t[n][0]}function Hg(t,e,n){const r=[];for(let i=0;i<t.length;i++)if(n)r.push(Hg(t[i],e[i],n-1));else if(t[i]){const o={};for(let f=0;f<t[i].length;f++){const a=e[i][f];o[t[i][f]]=a===void 0?null:a}r.push(o)}else r.push(void 0);return r}function Wg(t,e){var o;const n=Object.keys(t),r=(o=t[n[0]])==null?void 0:o.length,i=[];for(let f=0;f<r;f++){const a={};for(const s of n){if(t[s].length!==r)throw new Error("parquet struct parsing error");a[s]=t[s][f]}e?i.push(Wg(a,e-1)):i.push(a)}return i}function zo(t,e,n){const r=n instanceof Int32Array,i=dn(t),o=dn(t);dn(t);let f=$s(t),a=0;n[a++]=r?Number(f):f;const s=i/o;for(;a<e;){const u=$s(t),c=new Uint8Array(o);for(let d=0;d<o;d++)c[d]=t.view.getUint8(t.offset++);for(let d=0;d<o&&a<e;d++){const l=BigInt(c[d]);if(l){let h=0n,p=s;const g=(1n<<l)-1n;for(;p&&a<e;){let y=BigInt(t.view.getUint8(t.offset))>>h&g;for(h+=l;h>=8;)h-=8n,t.offset++,h&&(y|=BigInt(t.view.getUint8(t.offset))<<l-h&g);const m=u+y;f+=m,n[a++]=r?Number(f):f,p--}p&&(t.offset+=Math.ceil((p*Number(l)+Number(h))/8))}else for(let h=0;h<s&&a<e;h++)f+=u,n[a++]=r?Number(f):f}}}function v9(t,e,n){const r=new Int32Array(e);zo(t,e,r);for(let i=0;i<e;i++)n[i]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,r[i]),t.offset+=r[i]}function x9(t,e,n){const r=new Int32Array(e);zo(t,e,r);const i=new Int32Array(e);zo(t,e,i);for(let o=0;o<e;o++){const f=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,i[o]);r[o]?(n[o]=new Uint8Array(r[o]+i[o]),n[o].set(n[o-1].subarray(0,r[o])),n[o].set(f,r[o])):n[o]=f,t.offset+=i[o]}}function Nf(t){return 32-Math.clz32(t)}function Mn(t,e,n,r){n||(t.offset+=4);let i=0;for(;i<r.length;){const o=dn(t);if(o&1)i=$9(t,o,e,r,i);else{const f=o>>>1;M9(t,f,e,r,i),i+=f}}}function M9(t,e,n,r,i){const o=n+7>>3;let f=0;for(let a=0;a<o;a++)f|=t.view.getUint8(t.offset++)<<(a<<3);for(let a=0;a<e;a++)r[i+a]=f}function $9(t,e,n,r,i){let o=e>>1<<3;const f=(1<<n)-1;let a=0;if(t.offset<t.view.byteLength)a=t.view.getUint8(t.offset++);else if(f)throw new Error(`parquet bitpack offset ${t.offset} out of range`);let s=8,u=0;for(;o;)u>8?(u-=8,s-=8,a>>>=8):s-u<n?(a|=t.view.getUint8(t.offset)<<s,t.offset++,s+=8):(i<r.length&&(r[i++]=a>>u&f),o--,u+=n);return i}function Vg(t,e,n,r){const i=A9(n,r),o=new Uint8Array(e*i);for(let f=0;f<i;f++)for(let a=0;a<e;a++)o[a*i+f]=t.view.getUint8(t.offset++);if(n==="FLOAT")return new Float32Array(o.buffer);if(n==="DOUBLE")return new Float64Array(o.buffer);if(n==="INT32")return new Int32Array(o.buffer);if(n==="INT64")return new BigInt64Array(o.buffer);if(n==="FIXED_LEN_BYTE_ARRAY"){const f=new Array(e);for(let a=0;a<e;a++)f[a]=o.subarray(a*i,(a+1)*i);return f}throw new Error(`parquet byte_stream_split unsupported type: ${n}`)}function A9(t,e){switch(t){case"INT32":case"FLOAT":return 4;case"INT64":case"DOUBLE":return 8;case"FIXED_LEN_BYTE_ARRAY":if(!e)throw new Error("parquet byteWidth missing type_length");return e;default:throw new Error(`parquet unsupported type: ${t}`)}}function Ru(t,e,n,r){if(n===0)return[];if(e==="BOOLEAN")return T9(t,n);if(e==="INT32")return E9(t,n);if(e==="INT64")return S9(t,n);if(e==="INT96")return N9(t,n);if(e==="FLOAT")return C9(t,n);if(e==="DOUBLE")return I9(t,n);if(e==="BYTE_ARRAY")return k9(t,n);if(e==="FIXED_LEN_BYTE_ARRAY"){if(!r)throw new Error("parquet missing fixed length");return L9(t,n,r)}else throw new Error(`parquet unhandled type: ${e}`)}function T9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.offset+(r/8|0),o=r%8,f=t.view.getUint8(i);n[r]=(f&1<<o)!==0}return t.offset+=Math.ceil(e/8),n}function E9(t,e){const n=(t.view.byteOffset+t.offset)%4?new Int32Array(Cf(t.view.buffer,t.view.byteOffset+t.offset,e*4)):new Int32Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*4,n}function S9(t,e){const n=(t.view.byteOffset+t.offset)%8?new BigInt64Array(Cf(t.view.buffer,t.view.byteOffset+t.offset,e*8)):new BigInt64Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*8,n}function N9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.view.getBigInt64(t.offset+r*12,!0),o=t.view.getInt32(t.offset+r*12+8,!0);n[r]=BigInt(o)<<64n|i}return t.offset+=e*12,n}function C9(t,e){const n=(t.view.byteOffset+t.offset)%4?new Float32Array(Cf(t.view.buffer,t.view.byteOffset+t.offset,e*4)):new Float32Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*4,n}function I9(t,e){const n=(t.view.byteOffset+t.offset)%8?new Float64Array(Cf(t.view.buffer,t.view.byteOffset+t.offset,e*8)):new Float64Array(t.view.buffer,t.view.byteOffset+t.offset,e);return t.offset+=e*8,n}function k9(t,e){const n=new Array(e);for(let r=0;r<e;r++){const i=t.view.getInt32(t.offset,!0);t.offset+=4,n[r]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,i),t.offset+=i}return n}function L9(t,e,n){const r=new Array(e);for(let i=0;i<e;i++)r[i]=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,n),t.offset+=n;return r}function Cf(t,e,n){const r=new ArrayBuffer(n);return new Uint8Array(r).set(new Uint8Array(t,e,n)),r}const D9=[0,255,65535,16777215,4294967295];function R9(t,e,n,r,i){for(let o=0;o<i;o++)n[r+o]=t[e+o]}function P9(t,e,n,r){for(let i=0;i<r;i++)t[e+i]=t[e-n+i]}function O9(t,e){const n=t.byteLength,r=e.byteLength;let i=0,o=0;for(;i<n;){const f=t[i];if(i++,f<128)break}if(r&&i>=n)throw new Error("invalid snappy length header");for(;i<n;){const f=t[i];let a=0;if(i++,i>=n)throw new Error("missing eof marker");if(f&3){let s=0;switch(f&3){case 1:a=(f>>>2&7)+4,s=t[i]+(f>>>5<<8),i++;break;case 2:if(n<=i+1)throw new Error("snappy error end of input");a=(f>>>2)+1,s=t[i]+(t[i+1]<<8),i+=2;break;case 3:if(n<=i+3)throw new Error("snappy error end of input");a=(f>>>2)+1,s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+(t[i+3]<<24),i+=4;break}if(s===0||isNaN(s))throw new Error(`invalid offset ${s} pos ${i} inputLength ${n}`);if(s>o)throw new Error("cannot copy from before start of buffer");P9(e,o,s,a),o+=a}else{let s=(f>>>2)+1;if(s>60){if(i+3>=n)throw new Error("snappy error literal pos + 3 >= inputLength");const u=s-60;s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+(t[i+3]<<24),s=(s&D9[u])+1,i+=u}if(i+s>n)throw new Error("snappy error literal exceeds input length");R9(t,i,e,o,s),i+=s,o+=s}}if(o!==r)throw new Error("premature end of input")}function F9(t,e,n,{type:r}){const i=new DataView(t.buffer,t.byteOffset,t.byteLength),o={view:i,offset:0};let f;const a=q9(o,e,n),{definitionLevels:s,numNulls:u}=B9(o,e,n),c=e.num_values-u;if(e.encoding==="PLAIN"){const{type_length:d}=n[n.length-1].element;f=Ru(o,r,c,d)}else if(e.encoding==="PLAIN_DICTIONARY"||e.encoding==="RLE_DICTIONARY"||e.encoding==="RLE"){const d=r==="BOOLEAN"?1:i.getUint8(o.offset++);d?(f=new Array(c),Mn(o,d,i.byteLength-o.offset,f)):f=new Uint8Array(c)}else if(e.encoding==="BYTE_STREAM_SPLIT"){const{type_length:d}=n[n.length-1].element;f=Vg(o,c,r,d)}else throw new Error(`parquet unsupported encoding: ${e.encoding}`);return{definitionLevels:s,repetitionLevels:a,dataPage:f}}function U9(t,e,n,r){const o={view:new DataView(t.buffer,t.byteOffset,t.byteLength),offset:0};return Ru(o,n.type,e.num_values,r)}function q9(t,e,n){if(n.length>1){const r=qg(n);if(r){const i=new Array(e.num_values);return Mn(t,Nf(r),0,i),i}}return[]}function B9(t,e,n){const r=Yo(n);if(!r)return{definitionLevels:[],numNulls:0};const i=new Array(e.num_values);Mn(t,Nf(r),0,i);let o=e.num_values;for(const f of i)f===r&&o--;return o===0&&(i.length=0),{definitionLevels:i,numNulls:o}}function As(t,e,n,r){let i;const o=r==null?void 0:r[n];if(n==="UNCOMPRESSED")i=t;else if(o)i=o(t,e);else if(n==="SNAPPY")i=new Uint8Array(e),O9(t,i);else throw new Error(`parquet unsupported compression codec: ${n}`);if((i==null?void 0:i.length)!==e)throw new Error(`parquet decompressed page length ${i==null?void 0:i.length} does not match header ${e}`);return i}function Y9(t,e,n,r,i){const f={view:new DataView(t.buffer,t.byteOffset,t.byteLength),offset:0},{codec:a,type:s}=r,u=e.data_page_header_v2;if(!u)throw new Error("parquet data page header v2 is undefined");const c=z9(f,u,n);f.offset=u.repetition_levels_byte_length;const d=H9(f,u,n),l=e.uncompressed_page_size-u.definition_levels_byte_length-u.repetition_levels_byte_length;let h=t.subarray(f.offset);u.is_compressed!==!1&&(h=As(h,l,a,i));const p=new DataView(h.buffer,h.byteOffset,h.byteLength),g={view:p,offset:0};let y;const m=u.num_values-u.num_nulls;if(u.encoding==="PLAIN"){const{type_length:b}=n[n.length-1].element;y=Ru(g,s,m,b)}else if(u.encoding==="RLE")y=new Array(m),Mn(g,1,0,y),y=y.map(b=>!!b);else if(u.encoding==="PLAIN_DICTIONARY"||u.encoding==="RLE_DICTIONARY"){const b=p.getUint8(g.offset++);y=new Array(m),Mn(g,b,l-1,y)}else if(u.encoding==="DELTA_BINARY_PACKED")y=s==="INT32"?new Int32Array(m):new BigInt64Array(m),zo(g,m,y);else if(u.encoding==="DELTA_LENGTH_BYTE_ARRAY")y=new Array(m),v9(g,m,y);else if(u.encoding==="DELTA_BYTE_ARRAY")y=new Array(m),x9(g,m,y);else if(u.encoding==="BYTE_STREAM_SPLIT"){const{type_length:b}=n[n.length-1].element;y=Vg(f,m,s,b)}else throw new Error(`parquet unsupported encoding: ${u.encoding}`);return{definitionLevels:d,repetitionLevels:c,dataPage:y}}function z9(t,e,n){const r=qg(n);if(!r)return[];const i=new Array(e.num_values);return Mn(t,Nf(r),e.repetition_levels_byte_length,i),i}function H9(t,e,n){const r=Yo(n);if(r){const i=new Array(e.num_values);return Mn(t,Nf(r),e.definition_levels_byte_length,i),i}}function Ts(t,e){for(let r=0;r<e.length;r+=1e4)t.push(...e.slice(r,r+1e4))}async function W9(t,e){return await fetch(t,{...e,method:"HEAD"}).then(n=>{if(!n.ok)throw new Error(`fetch head failed ${n.status}`);const r=n.headers.get("Content-Length");if(!r)throw new Error("missing content length");return parseInt(r)})}async function V9({url:t,byteLength:e,requestInit:n}){if(!t)throw new Error("missing url");e||(e=await W9(t,n));let r;const i=n||{};return{byteLength:e,async slice(o,f){if(r)return r.then(c=>c.slice(o,f));const a=new Headers(i.headers),s=f===void 0?"":f-1;a.set("Range",`bytes=${o}-${s}`);const u=await fetch(t,{...i,headers:a});if(!u.ok||!u.body)throw new Error(`fetch failed ${u.status}`);if(u.status===200)return r=u.arrayBuffer(),r.then(c=>c.slice(o,f));if(u.status===206)return u.arrayBuffer();throw new Error(`fetch received unexpected status code ${u.status}`)}}}function G9(t,e,n,r,{compressors:i,utf8:o}){const{element:f}=r[r.length-1];let a;const s=[],u=e!==void 0&&e>=0&&isFinite(e);for(;(!u||s.length<e)&&!(t.offset>=t.view.byteLength-1);){const c=X9(t),d=new Uint8Array(t.view.buffer,t.view.byteOffset+t.offset,c.compressed_page_size);let l;if(c.type==="DATA_PAGE"){const h=c.data_page_header;if(!h)throw new Error("parquet data page header is undefined");const p=As(d,Number(c.uncompressed_page_size),n.codec,i),{definitionLevels:g,repetitionLevels:y,dataPage:m}=F9(p,h,r,n);if(l=Vl(m,a,f,h.encoding,o),y.length||g!=null&&g.length){const b=Yo(r),w=r.map(({element:_})=>_.repetition_type);Ql(s,g,y,l,w,b)}else{for(let b=2;b<r.length;b++)r[b].element.repetition_type!=="REQUIRED"&&(l=Array.from(l,w=>[w]));Ts(s,l)}}else if(c.type==="DATA_PAGE_V2"){const h=c.data_page_header_v2;if(!h)throw new Error("parquet data page header v2 is undefined");const{definitionLevels:p,repetitionLevels:g,dataPage:y}=Y9(d,c,r,n,i);if(l=Vl(y,a,f,h.encoding,o),g.length||p!=null&&p.length){const m=Yo(r),b=r.map(({element:w})=>w.repetition_type);Ql(s,p,g,l,b,m)}else Ts(s,l)}else if(c.type==="DICTIONARY_PAGE"){const h=c.dictionary_page_header;if(!h)throw new Error("parquet dictionary page header is undefined");const p=As(d,Number(c.uncompressed_page_size),n.codec,i);a=U9(p,h,n,f.type_length)}else throw new Error(`parquet unsupported page type: ${c.type}`);t.offset+=c.compressed_page_size}if(u){if(s.length<e)throw new Error(`parquet row data length ${s.length} does not match row group limit ${e}}`);s.length>e&&(s.length=e)}return s}function Kl({dictionary_page_offset:t,data_page_offset:e,total_compressed_size:n}){let r=t;return(!r||e<r)&&(r=e),[r,r+n]}function X9(t){const e=Bg(t),n=Rg[e.field_1],r=e.field_2,i=e.field_3,o=e.field_4,f=e.field_5&&{num_values:e.field_5.field_1,encoding:fn[e.field_5.field_2],definition_level_encoding:fn[e.field_5.field_3],repetition_level_encoding:fn[e.field_5.field_4],statistics:e.field_5.field_5&&{max:e.field_5.field_5.field_1,min:e.field_5.field_5.field_2,null_count:e.field_5.field_5.field_3,distinct_count:e.field_5.field_5.field_4,max_value:e.field_5.field_5.field_5,min_value:e.field_5.field_5.field_6}},a=e.field_6,s=e.field_7&&{num_values:e.field_7.field_1,encoding:fn[e.field_7.field_2],is_sorted:e.field_7.field_3},u=e.field_8&&{num_values:e.field_8.field_1,num_nulls:e.field_8.field_2,num_rows:e.field_8.field_3,encoding:fn[e.field_8.field_4],definition_levels_byte_length:e.field_8.field_5,repetition_levels_byte_length:e.field_8.field_6,is_compressed:e.field_8.field_7===void 0?!0:e.field_8.field_7,statistics:e.field_8.field_8};return{type:n,uncompressed_page_size:r,compressed_page_size:i,crc:o,data_page_header:f,index_page_header:a,dictionary_page_header:s,data_page_header_v2:u}}async function Z9(t){if(!t.file)throw new Error("parquet file is required");if(t.metadata||(t.metadata=await y9(t.file)),!t.metadata)throw new Error("parquet metadata not found");const{metadata:e,onComplete:n,rowEnd:r}=t,i=t.rowStart||0,o=[];let f=0;for(const a of e.row_groups){const s=Number(a.num_rows);if(f+s>=i&&(r===void 0||f<r)){const u=r&&r-f,c=await j9(t,a,f,u);if(n){const d=Math.max(i-f,0),l=r===void 0?void 0:r-f;Ts(o,c.slice(d,l))}}f+=s}n&&n(o)}async function j9(t,e,n,r){const{file:i,metadata:o,columns:f}=t;if(!o)throw new Error("parquet metadata not found");(r===void 0||r>e.num_rows)&&(r=Number(e.num_rows));let[a,s]=[i.byteLength,0];if(e.columns.forEach(({meta_data:p})=>{if(!p)throw new Error("parquet column metadata is undefined");if(f&&!f.includes(p.path_in_schema[0]))return;const[g,y]=Kl(p).map(Number);a=Math.min(a,g),s=Math.max(s,y)}),a>=s&&(f!=null&&f.length))throw new Error(`parquet columns not found: ${f.join(", ")}`);let u;s-a<=1<<25&&(u=await i.slice(a,s));const c=[],{children:d}=Xl(o.schema,[])[0],l=new Map(d.map(p=>[p.element.name,Gg(p)])),h=new Map;for(let p=0;p<e.columns.length;p++){const g=e.columns[p].meta_data;if(!g)throw new Error("parquet column metadata is undefined");const y=g.path_in_schema[0];if(f&&!f.includes(y))continue;const[m,b]=Kl(g).map(Number),w=b-m;if(w>1<<30){console.warn(`parquet skipping huge column "${g.path_in_schema}" ${w.toLocaleString()} bytes`);continue}let _,M=0;u?(_=Promise.resolve(u),M=m-a):_=Promise.resolve(i.slice(m,b)),c.push(_.then(v=>{var L;const $=Xl(o.schema,g.path_in_schema),T={view:new DataView(v),offset:M};let E=G9(T,r,g,$,t);const S=g.path_in_schema.join(".");h.set(S,E),E=void 0;const x=l.get(y);if(x!=null&&x.every(k=>h.has(k))&&(Ir(h,$[1]),E=h.get(y),!E))throw new Error(`parquet column data not assembled: ${y}`);E&&((L=t.onChunk)==null||L.call(t,{columnName:y,columnData:E,rowStart:n,rowEnd:n+E.length}))}))}if(await Promise.all(c),t.onComplete){const p=new Array(r),g=d.map(b=>b.element.name).filter(b=>!f||f.includes(b)),y=f||g,m=y.map(b=>g.includes(b)?h.get(b):void 0);for(let b=0;b<r;b++)if(t.rowFormat==="object"){const w={};y.forEach((_,M)=>{var v;w[_]=(v=m[M])==null?void 0:v[b]}),p[b]=w}else p[b]=m.map(w=>w==null?void 0:w[b]);return p}return[]}function Gg(t,e=[]){if(t.children.length)for(const n of t.children)Gg(n,e);else e.push(t.path.join("."));return e}var Q9=me('<meta name="description" content="Playlists app">'),K9=me("<option> </option>"),J9=me("<option> </option>"),tx=me("<select></select>"),ex=me('<div class="app"><!> <select></select> <!> <!> <!> <!></div>');function ux(t,e){jr(e,!1);const n=ne();let r=ne([]),i=ne([]),o=ne([]),f=ne([]),a=ne([]),s=ne([]);const u=["AllOut2000s","BigOnTheInternet","CafeCroissant","ColdplayRadio","FreshFinds","FutursHits","GardeLaPeche","GooseBumps","GrandHit","GustavoCeratiRadio","HitRadioFr","ItsAllGood","JazzintheBackground","JustHits","Mint","MorningMotivation","MuseRadio","NewMusicFriday","PopRock","PopRockRadio","PowerWorkout","ReveilDouceur","RockClassics","RockParty","RockThis","TheStrokesRadio","ThisIsGustavoCerati","TodayTopHits","VivaLatino","WakeUpHappy","Workout"];let c=ne(u[0]),d=ne();const l=(S,x)=>{const L=S.filter(I=>I.playlist==x).map(I=>I.artists).flat();ht(f,h(L,5)),console.log("mostFrequentArtists",F(f)),ht(d,F(f)[0]);const k=S.filter(I=>I.playlist==x&&F(f).indexOf(I.artists)>-1).map(I=>I);return console.log("bestArtists",k.length),k},h=(S,x)=>{const L={};for(const k of S)L[k]=(L[k]||0)+1;return Object.entries(L).sort((k,I)=>I[1]-k[1]).slice(0,x).map(([k])=>k)};pm(async()=>{const S=`${ym}/data/historical.parquet`,x=L=>{const k=L.slice(0,5e4);ht(s,k),ht(o,[...new Set(k.map(A=>A.commit_date.toISOString().split("T")[0]))].slice(0,2)),console.log("last_commits",F(o));const I=["JazzintheBackground","NewMusicFriday","FreshFinds","DeepSleep"];ht(r,k.filter(A=>A.position<30&&~(I.indexOf(A.playlist)>-1)&&A.date>new Date().setDate(new Date(F(o)[0]).getDate()-30)).map(A=>(A.artists=A.artists.join(" "),A.commit_date=A.commit_date.toISOString().split("T")[0],A.position=Number(A.position),A))),console.log("data preprop latestSongs"),ht(i,k.filter(A=>u.indexOf(A.playlist)>-1&&F(o).indexOf(A.commit_date>-1)).map(A=>(A.artists=typeof A.artists=="string"?A.artists:A.artists.join(" "),A.commit_date=typeof A.commit_date=="string"?A.commit_date:A.commit_date.toISOString().split("T")[0],A.position=Number(A.position),A))),console.log("diffData",F(i).length)};await Z9({file:await V9({url:S}),columns:["name","artists","album_name","date","song_id","cover_url","playlist","position","commit_date"],rowFormat:"object",onComplete:L=>x(L)})}),ya(()=>(F(s),F(c)),()=>{ht(n,l(F(s),F(c)))}),ya(()=>(F(n),F(d)),()=>{ht(a,F(n).filter(S=>S.artists==F(d)))}),rd(),Es();var p=ex();mm(S=>{var x=Q9();gm.title="Playlists",pt(S,x)});var g=Gt(p);{var y=S=>{e9(S,{get latestSongs(){return F(r)}})};fe(g,S=>{F(r).length>0&&S(y)})}var m=oe(g,2);ie(()=>{F(c),qu(()=>{})}),wa(m,5,()=>u,_a,(S,x)=>{var L=K9(),k={},I=Gt(L,!0);Ct(L),ie(()=>{k!==(k=F(x))&&(L.value=(L.__value=F(x))==null?"":F(x)),Vt(I,F(x))}),pt(S,L)}),Ct(m);var b=oe(m,2);{var w=S=>{i9(S,{get diffData(){return F(i)},set diffData(x){ht(i,x)},get playlistChoosen(){return F(c)},set playlistChoosen(x){ht(c,x)},get last_commits(){return F(o)},set last_commits(x){ht(o,x)},$$legacy:!0})};fe(b,S=>{F(i).length>0&&S(w)})}var _=oe(b,2);{var M=S=>{f9(S,{get dataFiltered(){return F(n)},set dataFiltered(x){ht(n,x)},get playlistChoosen(){return F(c)},set playlistChoosen(x){ht(c,x)},$$legacy:!0})};fe(_,S=>{F(n).length>0&&S(M)})}var v=oe(_,2);{var $=S=>{var x=tx();ie(()=>{F(d),qu(()=>{F(f)})}),wa(x,5,()=>F(f),_a,(L,k)=>{var I=J9(),A={},D=Gt(I,!0);Ct(I),ie(()=>{A!==(A=F(k))&&(I.value=(I.__value=F(k))==null?"":F(k)),Vt(D,F(k))}),pt(L,I)}),Ct(x),zu(x,()=>F(d),L=>ht(d,L)),pt(S,x)};fe(v,S=>{F(f).length>0&&S($)})}var T=oe(v,2);{var E=S=>{s9(S,{get songsNames(){return F(a)},set songsNames(x){ht(a,x)},get artistChoosen(){return F(d)},set artistChoosen(x){ht(d,x)},$$legacy:!0})};fe(T,S=>{F(a).length>0&&S(E)})}Ct(p),zu(m,()=>F(c),S=>ht(c,S)),pt(t,p),Qr()}export{ux as component,sx as universal};
